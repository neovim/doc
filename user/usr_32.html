  <!DOCTYPE html>
  <html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Neovim user documentation">

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
    <link rel="preconnect" href="https://X185E15FPG-dsn.algolia.net" crossorigin />

    <link href="/css/normalize.min.css" rel="stylesheet">
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="help.css" rel="stylesheet">
    <link href="/highlight/styles/neovim.min.css" rel="stylesheet">

    <script src="/highlight/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <title> Usr_32 - Neovim docs</title>
  </head>
  <body>
    <header class="container">
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <a href="/" class="navbar-brand" aria-label="logo">
          <!--TODO: use <img src="â€¦.svg"> here instead. Need one that has green lettering instead of gray. -->
              <svg xmlns="http://www.w3.org/2000/svg" role="img" width="173" height="50" viewBox="0 0 742 214" aria-label="Neovim">
      <title>Neovim</title>
      <defs>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
          <stop stop-color="#16B0ED" stop-opacity=".8" offset="0%" />
          <stop stop-color="#0F59B2" stop-opacity=".837" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b">
          <stop stop-color="#7DB643" offset="0%" />
          <stop stop-color="#367533" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c">
          <stop stop-color="#88C649" stop-opacity=".8" offset="0%" />
          <stop stop-color="#439240" stop-opacity=".84" offset="100%" />
        </linearGradient>
      </defs>
      <g fill="none" fill-rule="evenodd">
        <path
          d="M.027 45.459L45.224-.173v212.171L.027 166.894V45.459z"
          fill="url(#a)"
          transform="translate(1 1)"
        />
        <path
          d="M129.337 45.89L175.152-.149l-.928 212.146-45.197-45.104.31-121.005z"
          fill="url(#b)"
          transform="matrix(-1 0 0 1 305 1)"
        />
        <path
          d="M45.194-.137L162.7 179.173l-32.882 32.881L12.25 33.141 45.194-.137z"
          fill="url(#c)"
          transform="translate(1 1)"
        />
        <path
          d="M46.234 84.032l-.063 7.063-36.28-53.563 3.36-3.422 32.983 49.922z"
          fill-opacity=".13"
          fill="#000"
        />
        <g fill="#444">
          <path
            d="M227 154V64.44h4.655c1.55 0 2.445.75 2.685 2.25l.806 13.502c4.058-5.16 8.786-9.316 14.188-12.466 5.4-3.15 11.413-4.726 18.037-4.726 4.893 0 9.205.781 12.935 2.34 3.729 1.561 6.817 3.811 9.264 6.751 2.448 2.942 4.297 6.48 5.55 10.621 1.253 4.14 1.88 8.821 1.88 14.042V154h-8.504V96.754c0-8.402-1.91-14.987-5.729-19.757-3.82-4.771-9.667-7.156-17.544-7.156-5.851 0-11.28 1.516-16.292 4.545-5.013 3.032-9.489 7.187-13.427 12.467V154H227zM350.624 63c5.066 0 9.755.868 14.069 2.605 4.312 1.738 8.052 4.268 11.219 7.592s5.638 7.412 7.419 12.264C385.11 90.313 386 95.883 386 102.17c0 1.318-.195 2.216-.588 2.696-.393.48-1.01.719-1.851.719h-64.966v1.70c0 6.708.784 12.609 2.353 17.7 1.567 5.09 3.8 9.357 6.695 12.802 2.895 3.445 6.393 6.034 10.495 7.771 4.1 1.738 8.686 2.606 13.752 2.606 4.524 0 8.446-.494 11.762-1.483 3.317-.988 6.108-2.097 8.37-3.324 2.261-1.227 4.056-2.336 5.383-3.324 1.326-.988 2.292-1.482 2.895-1.482.784 0 1.388.3 1.81.898l2.352 2.875c-1.448 1.797-3.362 3.475-5.745 5.031-2.383 1.558-5.038 2.891-7.962 3.998-2.926 1.109-6.062 1.991-9.41 2.65a52.21 52.21 0 01-10.088.989c-6.152 0-11.762-1.064-16.828-3.19-5.067-2.125-9.415-5.225-13.043-9.298-3.63-4.074-6.435-9.06-8.415-14.96C310.99 121.655 310 114.9 310 107.294c0-6.408.92-12.323 2.76-17.744 1.84-5.421 4.493-10.093 7.961-14.016 3.467-3.922 7.72-6.991 12.758-9.209C338.513 64.11 344.229 63 350.624 63zm.573 6c-4.696 0-8.904.702-12.623 2.105-3.721 1.404-6.936 3.421-9.65 6.053-2.713 2.631-4.908 5.79-6.586 9.474S319.55 94.439 319 99h60c0-4.679-.672-8.874-2.013-12.588-1.343-3.712-3.232-6.856-5.67-9.43-2.44-2.571-5.367-4.545-8.782-5.92-3.413-1.374-7.192-2.062-11.338-2.062zM435.546 63c6.526 0 12.368 1.093 17.524 3.28 5.154 2.186 9.5 5.286 13.04 9.298 3.538 4.013 6.238 8.85 8.099 14.51 1.861 5.66 2.791 11.994 2.791 19.002 0 7.008-.932 13.327-2.791 18.957-1.861 5.631-4.561 10.452-8.099 14.465-3.54 4.012-7.886 7.097-13.04 9.254-5.156 2.156-10.998 3.234-17.524 3.234-6.529 0-12.369-1.078-17.525-3.234-5.155-2.157-9.517-5.242-13.085-9.254-3.57-4.013-6.285-8.836-8.145-14.465-1.861-5.63-2.791-11.95-2.791-18.957 0-7.008.93-13.342 2.791-19.002 1.861-5.66 4.576-10.496 8.145-14.51 3.568-4.012 7.93-7.112 13.085-9.299C423.177 64.094 429.017 63 435.546 63zm-.501 86c5.341 0 10.006-.918 13.997-2.757 3.99-1.838 7.32-4.474 9.992-7.909 2.67-3.435 4.664-7.576 5.986-12.428 1.317-4.85 1.98-10.288 1.98-16.316 0-5.965-.66-11.389-1.98-16.27-1.322-4.88-3.316-9.053-5.986-12.519-2.67-3.463-6-6.13-9.992-7.999-3.991-1.867-8.657-2.802-13.997-2.802s-10.008.935-13.997 2.802c-3.991 1.87-7.322 4.536-9.992 8-2.671 3.465-4.68 7.637-6.03 12.518-1.35 4.881-2.026 10.305-2.026 16.27 0 6.026.675 11.465 2.025 16.316 1.35 4.852 3.36 8.993 6.031 12.428 2.67 3.435 6 6.07 9.992 7.91 3.99 1.838 8.656 2.756 13.997 2.756z"
            fill="currentColor"
          />
          <path
            d="M530.57 152h-20.05L474 60h18.35c1.61 0 2.967.39 4.072 1.166 1.103.778 1.865 1.763 2.283 2.959l17.722 49.138a92.762 92.762 0 012.551 8.429c.686 2.751 1.298 5.5 1.835 8.25.537-2.75 1.148-5.499 1.835-8.25a77.713 77.713 0 012.64-8.429l18.171-49.138c.417-1.196 1.164-2.181 2.238-2.96 1.074-.776 2.356-1.165 3.849-1.165H567l-36.43 92zM572 61h23v92h-23zM610 153V60.443h13.624c2.887 0 4.78 1.354 5.682 4.06l1.443 6.856a52.7 52.7 0 015.097-4.962 32.732 32.732 0 015.683-3.879 30.731 30.731 0 016.496-2.57c2.314-.632 4.855-.948 7.624-.948 5.832 0 10.63 1.579 14.39 4.736 3.758 3.157 6.57 7.352 8.434 12.585 1.444-3.068 3.248-5.698 5.413-7.894 2.165-2.194 4.541-3.984 7.127-5.367a32.848 32.848 0 018.254-3.068 39.597 39.597 0 018.796-.992c5.111 0 9.653.783 13.622 2.345 3.97 1.565 7.307 3.849 10.014 6.857 2.706 3.007 4.766 6.675 6.18 11.005C739.29 83.537 740 88.5 740 94.092V153h-22.284V94.092c0-5.894-1.294-10.329-3.878-13.306-2.587-2.977-6.376-4.465-11.368-4.465-2.286 0-4.404.391-6.358 1.172a15.189 15.189 0 00-5.144 3.383c-1.473 1.474-2.631 3.324-3.474 5.548-.842 2.225-1.263 4.781-1.263 7.668V153h-22.37V94.092c0-6.194-1.249-10.704-3.744-13.532-2.497-2.825-6.18-4.24-11.051-4.24-3.19 0-6.18.798-8.976 2.391-2.799 1.593-5.399 3.775-7.804 6.54V153H610zM572 30h23v19h-23z"
            fill="currentColor"
            fill-opacity=".8"
          />
        </g>
      </g>
    </svg>
  
          <!--<img src="https://neovim.io/logos/neovim-logo.svg" width="173" height="50" alt="Neovim" />-->
        </a>
        <div id="docsearch"></div> <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
      </div>
    </nav>
  </header>

  <div class="container golden-grid help-body">
  <div class="col-wide">
  <a name="32.1"></a><h1 id="usr_32.txt"> Usr_32</h1>
  <p>
    <i>
    Nvim <code>:help</code> pages, <a href="https://github.com/neovim/neovim/blob/master/scripts/gen_help_html.lua">generated</a>
    from <a href="https://github.com/neovim/neovim/blob/master/runtime/doc/usr_32.txt">source</a>
    using the <a href="https://github.com/neovim/tree-sitter-vimdoc">tree-sitter-vimdoc</a> parser.
    </i>
  </p>
  <hr/>
  <div class="old-help-para">		     VIM USER MANUAL - by Bram Moolenaar</div>
<div class="old-help-para">			      The undo tree</div>
<div class="old-help-para">Vim provides multi-level undo.  If you undo a few changes and then make a new
change you create a branch in the undo tree.  This text is about moving
through the branches.</div>
<div class="old-help-para"><a href="usr_32.html#32.1">32.1</a>  	Undo up to a file write
<a href="usr_32.html#32.2">32.2</a>  	Numbering changes
<a href="usr_32.html#32.3">32.3</a>  	Jumping around the tree
<a href="usr_32.html#32.4">32.4</a>  	Time travelling</div>
<div class="old-help-para">     Next chapter: <a href="usr_40.html#usr_40.txt">usr_40.txt</a>  Make new commands
 Previous chapter: <a href="usr_31.html#usr_31.txt">usr_31.txt</a>  Exploiting the GUI
Table of contents: <a href="usr_toc.html#usr_toc.txt">usr_toc.txt</a></div>
<div class="old-help-para"><h2 id="32.1" class="help-heading">	Undo up to a file write</h2></div>
<div class="old-help-para">Sometimes you make several changes, and then discover you want to go back to
when you have last written the file.  You can do that with this command:<pre>:earlier 1f</pre>
The "f" stands for "file" here.</div>
<div class="old-help-para">You can repeat this command to go further back in the past.  Or use a count
different from 1 to go back faster.</div>
<div class="old-help-para">If you go back too far, go forward again with:<pre>:later 1f</pre>
Note that these commands really work in time sequence.  This matters if you
made changes after undoing some changes.  It's explained in the next section.</div>
<div class="old-help-para">Also note that we are talking about text writes here.  For writing the undo
information in a file see <a href="undo.html#undo-persistence">undo-persistence</a>.</div>
<div class="old-help-para"><h2 id="32.2" class="help-heading"><span class="help-heading-tags"><span class="help-tag"><a href="#32.2">32.2</a></span>	Numbering changes</h2></div>
<div class="old-help-para">In section <a href="usr_02.html#02.5">02.5</a> we only discussed one line of undo/redo.  But it is also
possible to branch off.  This happens when you undo a few changes and then
make a new change.  The new changes become a branch in the undo tree.</div>
<div class="old-help-para">Let's start with the text "one".  The first change to make is to append
" too".  And then move to the first 'o' and change it into 'w'.  We then have
two changes, numbered 1 and 2, and three states of the text:</div>
<div class="old-help-para"><div class="help-column_heading">		one</div>		 |
	      change 1
		 |
<div class="help-column_heading">	      one too</div>		 |
	      change 2
		 |
<div class="help-column_heading">	      one two</div></div>
<div class="old-help-para">If we now undo one change, back to "one too", and change "one" to "me" we
create a branch in the undo tree:</div>
<div class="old-help-para"><div class="help-column_heading">		one</div>		 |
	      change 1
		 |
<div class="help-column_heading">	      one too</div>	      /     \
	 change 2  change 3
	    |	      |
<div class="help-column_heading">	 one two    me too</div></div>
<div class="old-help-para">You can now use the <a href="undo.html#u">u</a> command to undo.  If you do this twice you get to
"one".  Use <a href="undo.html#CTRL-R">CTRL-R</a> to redo, and you will go to "one too".  One more <a href="undo.html#CTRL-R">CTRL-R</a>
takes you to "me too".  Thus undo and redo go up and down in the tree, using
the branch that was last used.</div>
<div class="old-help-para">What matters here is the order in which the changes are made.  Undo and redo
are not considered changes in this context.  After each change you have a new
state of the text.</div>
<div class="old-help-para">Note that only the changes are numbered, the text shown in the tree above has
no identifier.  They are mostly referred to by the number of the change above
it.  But sometimes by the number of one of the changes below it, especially
when moving up in the tree, so that you know which change was just undone.</div>
<div class="old-help-para"><h2 id="32.3" class="help-heading"><span class="help-heading-tags"><span class="help-tag"><a href="#32.3">32.3</a></span>	Jumping around the tree</h2></div>
<div class="old-help-para">So how do you get to "one two" now?  You can use this command:<pre>:undo 2</pre>
The text is now "one two", you are below change 2.  You can use the <a href="undo.html#%3Aundo">:undo</a>
command to jump to below any change in the tree.</div>
<div class="old-help-para">Now make another change: change "one" to "not":</div>
<div class="old-help-para"><div class="help-column_heading">		one</div>		 |
	      change 1
		 |
<div class="help-column_heading">	      one too</div>	      /     \
	 change 2  change 3
	    |	      |
<div class="help-column_heading">	 one two    me too</div>	    |
	 change 4
	    |
<div class="help-column_heading">	 not two</div></div>
<div class="old-help-para">Now you change your mind and want to go back to "me too".  Use the <a href="undo.html#g-">g-</a>
command.  This moves back in time.  Thus it doesn't walk the tree upwards or
downwards, but goes to the change made before.</div>
<div class="old-help-para">You can repeat <a href="undo.html#g-">g-</a> and you will see the text change:
<div class="help-column_heading">	me too</div><div class="help-column_heading">	one two</div><div class="help-column_heading">	one too</div><div class="help-column_heading">	one</div></div>
<div class="old-help-para">Use <a href="undo.html#g%2B">g+</a> to move forward in time:
<div class="help-column_heading">	one</div><div class="help-column_heading">	one too</div><div class="help-column_heading">	one two</div><div class="help-column_heading">	me too</div><div class="help-column_heading">	not two</div></div>
<div class="old-help-para">Using <a href="undo.html#%3Aundo">:undo</a> is useful if you know what change you want to jump to.  <a href="undo.html#g-">g-</a> and
<a href="undo.html#g%2B">g+</a> are useful if you don't know exactly what the change number is.</div>
<div class="old-help-para">You can type a count before <a href="undo.html#g-">g-</a> and <a href="undo.html#g%2B">g+</a> to repeat them.</div>
<div class="old-help-para"><h2 id="32.4" class="help-heading"><span class="help-heading-tags"><span class="help-tag"><a href="#32.4">32.4</a></span>	Time travelling</h2></div>
<div class="old-help-para">When you have been working on text for a while the tree grows to become big.
Then you may want to go to the text of some minutes ago.</div>
<div class="old-help-para">To see what branches there are in the undo tree use this command:<pre>:undolist</pre></div>
<div class="old-help-para"><div class="help-column_heading">	number changes  time</div>	     3       2  16 seconds ago
	     4       3  5 seconds ago</div>
<div class="old-help-para">Here you can see the number of the leaves in each branch and when the change
was made.  Assuming we are below change 4, at "not two", you can go back ten
seconds with this command:<pre>:earlier 10s</pre>
Depending on how much time you took for the changes you end up at a certain
position in the tree.  The <a href="undo.html#%3Aearlier">:earlier</a> command argument can be "m" for minutes,
"h" for hours and "d" for days.  To go all the way back use a big number:<pre>:earlier 100d</pre>
To travel forward in time again use the <a href="undo.html#%3Alater">:later</a> command:<pre>:later 1m</pre>
The arguments are "s", "m" and "h", just like with <a href="undo.html#%3Aearlier">:earlier</a>.</div>
<div class="old-help-para">If you want even more details, or want to manipulate the information, you can
use the <a href="builtin.html#undotree()">undotree()</a> function.  To see what it returns:
<pre>:echo undotree()</pre></div>
<div class="old-help-para"><h2 id="_-" class="help-heading"></h2>Next chapter: <a href="usr_40.html#usr_40.txt">usr_40.txt</a>  Make new commands</div>
<div class="old-help-para">Copyright: see <a href="usr_01.html#manual-copyright">manual-copyright</a>  vim:tw=78:ts=8:noet:ft=help:norl:</div>

  </div>
      <div class="col-narrow toc">
      <div><a href="index.html">Main</a></div>
      <div><a href="vimindex.html">Commands index</a></div>
      <div><a href="quickref.html">Quick reference</a></div>
      <hr/>
  <div class="help-toc-h1"><a href="#32.1">
	Undo up to a file write</a>
</div><div class="help-toc-h1"><a href="#32.2">
	Numbering changes</a>
</div><div class="help-toc-h1"><a href="#32.3">
	Jumping around the tree</a>
</div><div class="help-toc-h1"><a href="#32.4">
	Time travelling</a>
</div><div class="help-toc-h1"><a href="#_-">
</a>
</div></div>
</div>
  <footer>
    <div class="container flex">
      <div class="generator-stats">
        Generated at 2023-09-25 05:27 from <code><a href="https://github.com/neovim/neovim/commit/db51548036ebe4b01c5b78aeca7a76aa71ab4fbe">db51548</a></code>
      </div>
      <div class="generator-stats">
      parse_errors: 0 (<a href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+usr_32.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/usr_32.html%0D%0DContext%3A%0D%0D%60%60%60%0DTODO%0D%60%60%60" target="_blank">report docs bug...</a>) | <span title="	Nvim">noise_lines: 1</span>
      </div>
    <div>

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    <script type="module">
      docsearch({
        container: '#docsearch',
        appId: 'X185E15FPG',
        apiKey: 'b5e6b2f9c636b2b471303205e59832ed',
        indexName: 'nvim',
      });
    </script>

  </footer>
  </body>
</html>
