  <!DOCTYPE html>
  <html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Neovim user documentation">

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
    <link rel="preconnect" href="https://X185E15FPG-dsn.algolia.net" crossorigin />

    <link href="/css/normalize.min.css" rel="stylesheet">
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="help.css" rel="stylesheet">
    <link href="/highlight/styles/neovim.min.css" rel="stylesheet">

    <script src="/highlight/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <title> Recover - Neovim docs</title>
  </head>
  <body>
    <header class="container">
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <a href="/" class="navbar-brand" aria-label="logo">
          <!--TODO: use <img src="â€¦.svg"> here instead. Need one that has green lettering instead of gray. -->
              <svg xmlns="http://www.w3.org/2000/svg" role="img" width="173" height="50" viewBox="0 0 742 214" aria-label="Neovim">
      <title>Neovim</title>
      <defs>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
          <stop stop-color="#16B0ED" stop-opacity=".8" offset="0%" />
          <stop stop-color="#0F59B2" stop-opacity=".837" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b">
          <stop stop-color="#7DB643" offset="0%" />
          <stop stop-color="#367533" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c">
          <stop stop-color="#88C649" stop-opacity=".8" offset="0%" />
          <stop stop-color="#439240" stop-opacity=".84" offset="100%" />
        </linearGradient>
      </defs>
      <g fill="none" fill-rule="evenodd">
        <path
          d="M.027 45.459L45.224-.173v212.171L.027 166.894V45.459z"
          fill="url(#a)"
          transform="translate(1 1)"
        />
        <path
          d="M129.337 45.89L175.152-.149l-.928 212.146-45.197-45.104.31-121.005z"
          fill="url(#b)"
          transform="matrix(-1 0 0 1 305 1)"
        />
        <path
          d="M45.194-.137L162.7 179.173l-32.882 32.881L12.25 33.141 45.194-.137z"
          fill="url(#c)"
          transform="translate(1 1)"
        />
        <path
          d="M46.234 84.032l-.063 7.063-36.28-53.563 3.36-3.422 32.983 49.922z"
          fill-opacity=".13"
          fill="#000"
        />
        <g fill="#444">
          <path
            d="M227 154V64.44h4.655c1.55 0 2.445.75 2.685 2.25l.806 13.502c4.058-5.16 8.786-9.316 14.188-12.466 5.4-3.15 11.413-4.726 18.037-4.726 4.893 0 9.205.781 12.935 2.34 3.729 1.561 6.817 3.811 9.264 6.751 2.448 2.942 4.297 6.48 5.55 10.621 1.253 4.14 1.88 8.821 1.88 14.042V154h-8.504V96.754c0-8.402-1.91-14.987-5.729-19.757-3.82-4.771-9.667-7.156-17.544-7.156-5.851 0-11.28 1.516-16.292 4.545-5.013 3.032-9.489 7.187-13.427 12.467V154H227zM350.624 63c5.066 0 9.755.868 14.069 2.605 4.312 1.738 8.052 4.268 11.219 7.592s5.638 7.412 7.419 12.264C385.11 90.313 386 95.883 386 102.17c0 1.318-.195 2.216-.588 2.696-.393.48-1.01.719-1.851.719h-64.966v1.70c0 6.708.784 12.609 2.353 17.7 1.567 5.09 3.8 9.357 6.695 12.802 2.895 3.445 6.393 6.034 10.495 7.771 4.1 1.738 8.686 2.606 13.752 2.606 4.524 0 8.446-.494 11.762-1.483 3.317-.988 6.108-2.097 8.37-3.324 2.261-1.227 4.056-2.336 5.383-3.324 1.326-.988 2.292-1.482 2.895-1.482.784 0 1.388.3 1.81.898l2.352 2.875c-1.448 1.797-3.362 3.475-5.745 5.031-2.383 1.558-5.038 2.891-7.962 3.998-2.926 1.109-6.062 1.991-9.41 2.65a52.21 52.21 0 01-10.088.989c-6.152 0-11.762-1.064-16.828-3.19-5.067-2.125-9.415-5.225-13.043-9.298-3.63-4.074-6.435-9.06-8.415-14.96C310.99 121.655 310 114.9 310 107.294c0-6.408.92-12.323 2.76-17.744 1.84-5.421 4.493-10.093 7.961-14.016 3.467-3.922 7.72-6.991 12.758-9.209C338.513 64.11 344.229 63 350.624 63zm.573 6c-4.696 0-8.904.702-12.623 2.105-3.721 1.404-6.936 3.421-9.65 6.053-2.713 2.631-4.908 5.79-6.586 9.474S319.55 94.439 319 99h60c0-4.679-.672-8.874-2.013-12.588-1.343-3.712-3.232-6.856-5.67-9.43-2.44-2.571-5.367-4.545-8.782-5.92-3.413-1.374-7.192-2.062-11.338-2.062zM435.546 63c6.526 0 12.368 1.093 17.524 3.28 5.154 2.186 9.5 5.286 13.04 9.298 3.538 4.013 6.238 8.85 8.099 14.51 1.861 5.66 2.791 11.994 2.791 19.002 0 7.008-.932 13.327-2.791 18.957-1.861 5.631-4.561 10.452-8.099 14.465-3.54 4.012-7.886 7.097-13.04 9.254-5.156 2.156-10.998 3.234-17.524 3.234-6.529 0-12.369-1.078-17.525-3.234-5.155-2.157-9.517-5.242-13.085-9.254-3.57-4.013-6.285-8.836-8.145-14.465-1.861-5.63-2.791-11.95-2.791-18.957 0-7.008.93-13.342 2.791-19.002 1.861-5.66 4.576-10.496 8.145-14.51 3.568-4.012 7.93-7.112 13.085-9.299C423.177 64.094 429.017 63 435.546 63zm-.501 86c5.341 0 10.006-.918 13.997-2.757 3.99-1.838 7.32-4.474 9.992-7.909 2.67-3.435 4.664-7.576 5.986-12.428 1.317-4.85 1.98-10.288 1.98-16.316 0-5.965-.66-11.389-1.98-16.27-1.322-4.88-3.316-9.053-5.986-12.519-2.67-3.463-6-6.13-9.992-7.999-3.991-1.867-8.657-2.802-13.997-2.802s-10.008.935-13.997 2.802c-3.991 1.87-7.322 4.536-9.992 8-2.671 3.465-4.68 7.637-6.03 12.518-1.35 4.881-2.026 10.305-2.026 16.27 0 6.026.675 11.465 2.025 16.316 1.35 4.852 3.36 8.993 6.031 12.428 2.67 3.435 6 6.07 9.992 7.91 3.99 1.838 8.656 2.756 13.997 2.756z"
            fill="currentColor"
          />
          <path
            d="M530.57 152h-20.05L474 60h18.35c1.61 0 2.967.39 4.072 1.166 1.103.778 1.865 1.763 2.283 2.959l17.722 49.138a92.762 92.762 0 012.551 8.429c.686 2.751 1.298 5.5 1.835 8.25.537-2.75 1.148-5.499 1.835-8.25a77.713 77.713 0 012.64-8.429l18.171-49.138c.417-1.196 1.164-2.181 2.238-2.96 1.074-.776 2.356-1.165 3.849-1.165H567l-36.43 92zM572 61h23v92h-23zM610 153V60.443h13.624c2.887 0 4.78 1.354 5.682 4.06l1.443 6.856a52.7 52.7 0 015.097-4.962 32.732 32.732 0 015.683-3.879 30.731 30.731 0 016.496-2.57c2.314-.632 4.855-.948 7.624-.948 5.832 0 10.63 1.579 14.39 4.736 3.758 3.157 6.57 7.352 8.434 12.585 1.444-3.068 3.248-5.698 5.413-7.894 2.165-2.194 4.541-3.984 7.127-5.367a32.848 32.848 0 018.254-3.068 39.597 39.597 0 018.796-.992c5.111 0 9.653.783 13.622 2.345 3.97 1.565 7.307 3.849 10.014 6.857 2.706 3.007 4.766 6.675 6.18 11.005C739.29 83.537 740 88.5 740 94.092V153h-22.284V94.092c0-5.894-1.294-10.329-3.878-13.306-2.587-2.977-6.376-4.465-11.368-4.465-2.286 0-4.404.391-6.358 1.172a15.189 15.189 0 00-5.144 3.383c-1.473 1.474-2.631 3.324-3.474 5.548-.842 2.225-1.263 4.781-1.263 7.668V153h-22.37V94.092c0-6.194-1.249-10.704-3.744-13.532-2.497-2.825-6.18-4.24-11.051-4.24-3.19 0-6.18.798-8.976 2.391-2.799 1.593-5.399 3.775-7.804 6.54V153H610zM572 30h23v19h-23z"
            fill="currentColor"
            fill-opacity=".8"
          />
        </g>
      </g>
    </svg>
  
          <!--<img src="https://neovim.io/logos/neovim-logo.svg" width="173" height="50" alt="Neovim" />-->
        </a>
        <div id="docsearch"></div> <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
      </div>
    </nav>
  </header>

  <div class="container golden-grid help-body">
  <div class="col-wide">
  <a name="crash-recovery"></a><h1 id="recover.txt"> Recover</h1>
  <p>
    <i>
    Nvim <code>:help</code> pages, <a href="https://github.com/neovim/neovim/blob/master/scripts/gen_help_html.lua">generated</a>
    from <a href="https://github.com/neovim/neovim/blob/master/runtime/doc/recover.txt">source</a>
    using the <a href="https://github.com/neovim/tree-sitter-vimdoc">tree-sitter-vimdoc</a> parser.
    </i>
  </p>
  <hr/>
  <div class="old-help-para">Recovery after a crash</div>
<div class="old-help-para">You have spent several hours typing in that text that has to be finished
next morning, and then disaster strikes: Your computer crashes.</div>
<div class="old-help-para">			DON'T PANIC!</div>
<div class="old-help-para">You can recover most of your changes from the files that Vim uses to store
the contents of the file.  Mostly you can recover your work with one command:
	vim -r filename</div>
<div class="old-help-para"><h2 id="swap-file" class="help-heading">1. The swap file<span class="help-heading-tags">					<span class="help-tag"><a href="#swap-file">swap-file</a></span></h2></div>
<div class="old-help-para">Vim stores the things you changed in a swap file.  Using the original file
you started from plus the swap file you can mostly recover your work.</div>
<div class="old-help-para">You can see the name of the current swap file being used with the command:</div>
<div class="old-help-para">	:sw[apname]					<code id="%3Asw" class="help-tag-right"><a href="#%3Asw">:sw</a></code> <code id="%3Aswapname" class="help-tag"><a href="#%3Aswapname">:swapname</a></code></div>
<div class="old-help-para">Or you can use the <a href="builtin.html#swapname()">swapname()</a> function, which also allows for seeing the
swap file name of other buffers.</div>
<div class="old-help-para">The name of the swap file is normally the same as the file you are editing,
with the extension ".swp".
<div class="help-li" style=""> On Unix, a '.' is prepended to swap file names in the same directory as the
  edited file.  This avoids that the swap file shows up in a directory
  listing.
</div><div class="help-li" style=""> If this file already exists (e.g., when you are recovering from a crash) a
  warning is given and another extension is used, ".swo", ".swn", etc.
</div><div class="help-li" style=""> An existing file will never be overwritten.
</div><div class="help-li" style=""> The swap file is deleted as soon as Vim stops editing the file.
</div></div>
<div class="old-help-para">							<code id="E326" class="help-tag-right"><a href="#E326">E326</a></code>
Technical: If the ".swp" file name already exists, the last character is
	   decremented until there is no file with that name or ".saa" is
	   reached.  In the last case, no swap file is created.</div>
<div class="old-help-para">By setting the <a href="options.html#'directory'">'directory'</a> option you can place the swap file in another place
than where the edited file is.
Advantages:
<div class="help-li" style=""> You will not pollute the directories with ".swp" files.
</div><div class="help-li" style=""> When the <a href="options.html#'directory'">'directory'</a> is on another partition, reduce the risk of damaging
  the file system where the file is (in a crash).
Disadvantages:
</div><div class="help-li" style=""> You can get name collisions from files with the same name but in different
  directories (although Vim tries to avoid that by comparing the path name).
  This will result in bogus ATTENTION warning messages.
</div><div class="help-li" style=""> When you use your home directory, and somebody else tries to edit the same
  file, that user will not see your swap file and will not get the ATTENTION
  warning message.
</div></div>
<div class="old-help-para">If you want to put swap files in a fixed place, put a command resembling the
following ones in your vimrc:
	:set dir=~/tmp		(for Unix)
	:set dir=c:\\tmp	(for Win32)
This is also very handy when editing files on floppy.  Of course you will have
to create that "tmp" directory for this to work!</div>
<div class="old-help-para">For read-only files, a swap file is not used right away. The swap file is
created only when making changes.</div>
<div class="old-help-para">The <a href="options.html#'swapfile'">'swapfile'</a> option can be reset to avoid creating a swapfile.  And the
<a href="recover.html#%3Anoswapfile">:noswapfile</a> modifier can be used to not create a swapfile for a new buffer.</div>
<div class="old-help-para">:nos[wapfile]   <code>{command}</code>			<code id="%3Anos" class="help-tag-right"><a href="#%3Anos">:nos</a></code> <code id="%3Anoswapfile" class="help-tag"><a href="#%3Anoswapfile">:noswapfile</a></code>
		Execute <code>{command}</code>. If it contains a command that loads a new
		buffer, it will be loaded without creating a swapfile and the
		<a href="options.html#'swapfile'">'swapfile'</a> option will be reset.  If a buffer already had a
		swapfile it is not removed and <a href="options.html#'swapfile'">'swapfile'</a> is not reset.</div>
<div class="old-help-para"><div class="help-column_heading">Detecting an existing swap file</div></div>
<div class="old-help-para">You can find this in the user manual, section <a href="usr_11.html#11.3">11.3</a>.</div>
<div class="old-help-para">									<code id="W325" class="help-tag-right"><a href="#W325">W325</a></code>
The default <a href="autocmd.html#SwapExists">SwapExists</a> handler (<a href="vim_diff.html#default-autocmds">default-autocmds</a>) skips the <a href="usr_11.html#E325">E325</a> prompt
(and automatically chooses "(E)dit") if the swapfile owner process is still
running and owned by the current user.  This presumes that you normally don't
want to be bothered with the <a href="usr_11.html#ATTENTION">ATTENTION</a> message just because you happen to
edit the same file from multiple Nvim instances.  In the worst case (a system
crash) there will be more than one swapfile for the file; use <a href="recover.html#%3Arecover">:recover</a> to
inspect all of its swapfiles.</div>
<div class="old-help-para"><div class="help-column_heading">Updating the swapfile</div></div>
<div class="old-help-para">The swap file is updated after typing 200 characters or when you have not
typed anything for four seconds.  This only happens if the buffer was
changed, not when you only moved around.  The reason why it is not kept up to
date all the time is that this would slow down normal work too much.  You can
change the 200 character count with the <a href="options.html#'updatecount'">'updatecount'</a> option.  You can set
the time with the <a href="options.html#'updatetime'">'updatetime'</a> option.  The time is given in milliseconds.
After writing to the swap file Vim syncs the file to disk.</div>
<div class="old-help-para">If the writing to the swap file is not wanted, it can be switched off by
setting the <a href="options.html#'updatecount'">'updatecount'</a> option to 0.  The same is done when starting Vim
with the "-n" option.  Writing can be switched back on by setting the
<a href="options.html#'updatecount'">'updatecount'</a> option to non-zero.  Swap files will be created for all buffers
when doing this.  But when setting <a href="options.html#'updatecount'">'updatecount'</a> to zero, the existing swap
files will not be removed, it will only affect files that will be opened
after this.</div>
<div class="old-help-para">If you want to make sure that your changes are in the swap file use this
command:</div>
<div class="old-help-para">					<code id="%3Apre" class="help-tag-right"><a href="#%3Apre">:pre</a></code> <code id="%3Apreserve" class="help-tag"><a href="#%3Apreserve">:preserve</a></code> <code id="E313" class="help-tag"><a href="#E313">E313</a></code> <code id="E314" class="help-tag"><a href="#E314">E314</a></code>
:pre[serve]		Write all text for the current buffer into its swap
			file.  The original file is no longer needed for
			recovery.</div>
<div class="old-help-para">A Vim swap file can be recognized by the first six characters: "b0VIM ".
After that comes the version number, e.g., "3.0".</div>
<div class="old-help-para"><div class="help-column_heading">Links and symbolic links</div></div>
<div class="old-help-para">On Unix it is possible to have two names for the same file.  This can be done
with hard links and with symbolic links (symlinks).</div>
<div class="old-help-para">For hard links Vim does not know the other name of the file.  Therefore, the
name of the swapfile will be based on the name you used to edit the file.
There is no check for editing the same file by the other name too, because Vim
cannot find the other swapfile (except for searching all of your harddisk,
which would be very slow).</div>
<div class="old-help-para">For symbolic links Vim resolves the links to find the name of the actual file.
The swap file name is based on that name.  Thus it doesn't matter by what name
you edit the file, the swap file name will normally be the same.  However,
there are exceptions:
<div class="help-li" style=""> When the directory of the actual file is not writable the swapfile is put
  elsewhere.
</div><div class="help-li" style=""> When the symbolic links somehow create a loop you get an <code id="E773" class="help-tag"><a href="#E773">E773</a></code> error
  message and the unmodified file name will be used.  You won't be able to
  save your file normally.
</div></div>
<div class="old-help-para"><h2 id="recovery" class="help-heading">2. Recovery<span class="help-heading-tags">					<span class="help-tag"><a href="#recovery">recovery</a></span> <span id="E308" class="help-tag"><a href="#E308">E308</a></span> <span id="E311" class="help-tag"><a href="#E311">E311</a></span></span></h2></div>
<div class="old-help-para">Basic file recovery is explained in the user manual: <a href="usr_11.html#usr_11.txt">usr_11.txt</a>.</div>
<div class="old-help-para">Another way to do recovery is to start Vim and use the ":recover" command.
This is easy when you start Vim to edit a file and you get the "ATTENTION:
Found a swap file ..." message.  In this case the single command ":recover"
will do the work.  You can also give the name of the file or the swap file to
the recover command:
					<code id="%3Arec" class="help-tag-right"><a href="#%3Arec">:rec</a></code> <code id="%3Arecover" class="help-tag"><a href="#%3Arecover">:recover</a></code> <code id="E305" class="help-tag"><a href="#E305">E305</a></code> <code id="E306" class="help-tag"><a href="#E306">E306</a></code> <code id="E307" class="help-tag"><a href="#E307">E307</a></code>
:rec[over] [file]	Try to recover [file] from the swap file.  If [file]
			is not given use the file name for the current
			buffer.  The current contents of the buffer are lost.
			This command fails if the buffer was modified.</div>
<div class="old-help-para">:rec[over]! [file]	Like ":recover", but any changes in the current
			buffer are lost.</div>
<div class="old-help-para">						<code id="E312" class="help-tag-right"><a href="#E312">E312</a></code> <code id="E309" class="help-tag"><a href="#E309">E309</a></code> <code id="E310" class="help-tag"><a href="#E310">E310</a></code> <code id="E1364" class="help-tag"><a href="#E1364">E1364</a></code>
Vim has some intelligence about what to do if the swap file is corrupt in
some way.  If Vim has doubt about what it found, it will give an error
message and insert lines with "???" in the text.  If you see an error message
while recovering, search in the file for "???" to see what is wrong.  You may
want to cut and paste to get the text you need.</div>
<div class="old-help-para">The most common remark is "???LINES MISSING".  This means that Vim cannot read
the text from the original file.  This can happen if the system crashed and
parts of the original file were not written to disk.</div>
<div class="old-help-para">Be sure that the recovery was successful before overwriting the original
file or deleting the swap file.  It is good practice to write the recovered
file elsewhere and run <a href="options.html#'diff'">'diff'</a> to find out if the changes you want are in the
recovered file.  Or use <a href="diff.html#%3ADiffOrig">:DiffOrig</a>.</div>
<div class="old-help-para">Once you are sure the recovery is ok delete the swap file.  Otherwise, you
will continue to get warning messages that the ".swp" file already exists.</div>
<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "modeline")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+recover.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/recover.html%0D+unhandled+token%3A+%60modeline%60%0DContext%3A%0D%0D%60%60%60%0Dwill%20continue%20to%20get%20warning%20messages%20that%20the%20%22.swp%22%20file%20already%20exists.%0A%0A%0A%20vim%3Atw%3D78%3Ats%3D8%3Anoet%3Aft%3Dhelp%3Anorl%3A%0D%60%60%60">vim:tw=78:ts=8:noet:ft=help:norl:</a>
  </div>
      <div class="col-narrow toc">
      <div><a href="index.html">Main</a></div>
      <div><a href="vimindex.html">Commands index</a></div>
      <div><a href="quickref.html">Quick reference</a></div>
      <hr/>
  <div class="help-toc-h1"><a href="#swap-file">
1. The swap file					</a>
</div><div class="help-toc-h1"><a href="#recovery">
2. Recovery					</a>
</div></div>
</div>
  <footer>
    <div class="container flex">
      <div class="generator-stats">
        Generated at 2024-04-10 05:22 from <code><a href="https://github.com/neovim/neovim/commit/49983387ffd54fe0888f17098e43318a443315ac">4998338</a></code>
      </div>
      <div class="generator-stats">
      parse_errors: 0 (<a href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+recover.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/recover.html%0D%0DContext%3A%0D%0D%60%60%60%0DTODO%0D%60%60%60" target="_blank">report docs bug...</a>) | <span title="   Nvim
		  VIM REFERENCE MANUAL    by Bram Moolenaar
                                      Type &lt;a href="various.html#gO"&gt;gO&lt;/a&gt; to see the table of contents.">noise_lines: 3</span>
      </div>
    <div>

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    <script type="module">
      docsearch({
        container: '#docsearch',
        appId: 'X185E15FPG',
        apiKey: 'b5e6b2f9c636b2b471303205e59832ed',
        indexName: 'nvim',
      });
    </script>

  </footer>
  </body>
</html>
