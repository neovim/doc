  <!DOCTYPE html>
  <html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Neovim user documentation">

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
    <link rel="preconnect" href="https://X185E15FPG-dsn.algolia.net" crossorigin />

    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="help.css" rel="stylesheet">
    <link href="/highlight/styles/neovim.min.css" rel="stylesheet">

    <script src="/highlight/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <title> Lsp - Neovim docs</title>
  </head>
  <body>
    <header class="container">
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <a href="/" class="navbar-brand" aria-label="logo">
          <!--TODO: use <img src="â€¦.svg"> here instead. Need one that has green lettering instead of gray. -->
              <svg xmlns="http://www.w3.org/2000/svg" role="img" width="173" height="50" viewBox="0 0 742 214" aria-label="Neovim">
      <title>Neovim</title>
      <defs>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
          <stop stop-color="#16B0ED" stop-opacity=".8" offset="0%" />
          <stop stop-color="#0F59B2" stop-opacity=".837" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b">
          <stop stop-color="#7DB643" offset="0%" />
          <stop stop-color="#367533" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c">
          <stop stop-color="#88C649" stop-opacity=".8" offset="0%" />
          <stop stop-color="#439240" stop-opacity=".84" offset="100%" />
        </linearGradient>
      </defs>
      <g fill="none" fill-rule="evenodd">
        <path
          d="M.027 45.459L45.224-.173v212.171L.027 166.894V45.459z"
          fill="url(#a)"
          transform="translate(1 1)"
        />
        <path
          d="M129.337 45.89L175.152-.149l-.928 212.146-45.197-45.104.31-121.005z"
          fill="url(#b)"
          transform="matrix(-1 0 0 1 305 1)"
        />
        <path
          d="M45.194-.137L162.7 179.173l-32.882 32.881L12.25 33.141 45.194-.137z"
          fill="url(#c)"
          transform="translate(1 1)"
        />
        <path
          d="M46.234 84.032l-.063 7.063-36.28-53.563 3.36-3.422 32.983 49.922z"
          fill-opacity=".13"
          fill="#000"
        />
        <g fill="#444">
          <path
            d="M227 154V64.44h4.655c1.55 0 2.445.75 2.685 2.25l.806 13.502c4.058-5.16 8.786-9.316 14.188-12.466 5.4-3.15 11.413-4.726 18.037-4.726 4.893 0 9.205.781 12.935 2.34 3.729 1.561 6.817 3.811 9.264 6.751 2.448 2.942 4.297 6.48 5.55 10.621 1.253 4.14 1.88 8.821 1.88 14.042V154h-8.504V96.754c0-8.402-1.91-14.987-5.729-19.757-3.82-4.771-9.667-7.156-17.544-7.156-5.851 0-11.28 1.516-16.292 4.545-5.013 3.032-9.489 7.187-13.427 12.467V154H227zM350.624 63c5.066 0 9.755.868 14.069 2.605 4.312 1.738 8.052 4.268 11.219 7.592s5.638 7.412 7.419 12.264C385.11 90.313 386 95.883 386 102.17c0 1.318-.195 2.216-.588 2.696-.393.48-1.01.719-1.851.719h-64.966v1.70c0 6.708.784 12.609 2.353 17.7 1.567 5.09 3.8 9.357 6.695 12.802 2.895 3.445 6.393 6.034 10.495 7.771 4.1 1.738 8.686 2.606 13.752 2.606 4.524 0 8.446-.494 11.762-1.483 3.317-.988 6.108-2.097 8.37-3.324 2.261-1.227 4.056-2.336 5.383-3.324 1.326-.988 2.292-1.482 2.895-1.482.784 0 1.388.3 1.81.898l2.352 2.875c-1.448 1.797-3.362 3.475-5.745 5.031-2.383 1.558-5.038 2.891-7.962 3.998-2.926 1.109-6.062 1.991-9.41 2.65a52.21 52.21 0 01-10.088.989c-6.152 0-11.762-1.064-16.828-3.19-5.067-2.125-9.415-5.225-13.043-9.298-3.63-4.074-6.435-9.06-8.415-14.96C310.99 121.655 310 114.9 310 107.294c0-6.408.92-12.323 2.76-17.744 1.84-5.421 4.493-10.093 7.961-14.016 3.467-3.922 7.72-6.991 12.758-9.209C338.513 64.11 344.229 63 350.624 63zm.573 6c-4.696 0-8.904.702-12.623 2.105-3.721 1.404-6.936 3.421-9.65 6.053-2.713 2.631-4.908 5.79-6.586 9.474S319.55 94.439 319 99h60c0-4.679-.672-8.874-2.013-12.588-1.343-3.712-3.232-6.856-5.67-9.43-2.44-2.571-5.367-4.545-8.782-5.92-3.413-1.374-7.192-2.062-11.338-2.062zM435.546 63c6.526 0 12.368 1.093 17.524 3.28 5.154 2.186 9.5 5.286 13.04 9.298 3.538 4.013 6.238 8.85 8.099 14.51 1.861 5.66 2.791 11.994 2.791 19.002 0 7.008-.932 13.327-2.791 18.957-1.861 5.631-4.561 10.452-8.099 14.465-3.54 4.012-7.886 7.097-13.04 9.254-5.156 2.156-10.998 3.234-17.524 3.234-6.529 0-12.369-1.078-17.525-3.234-5.155-2.157-9.517-5.242-13.085-9.254-3.57-4.013-6.285-8.836-8.145-14.465-1.861-5.63-2.791-11.95-2.791-18.957 0-7.008.93-13.342 2.791-19.002 1.861-5.66 4.576-10.496 8.145-14.51 3.568-4.012 7.93-7.112 13.085-9.299C423.177 64.094 429.017 63 435.546 63zm-.501 86c5.341 0 10.006-.918 13.997-2.757 3.99-1.838 7.32-4.474 9.992-7.909 2.67-3.435 4.664-7.576 5.986-12.428 1.317-4.85 1.98-10.288 1.98-16.316 0-5.965-.66-11.389-1.98-16.27-1.322-4.88-3.316-9.053-5.986-12.519-2.67-3.463-6-6.13-9.992-7.999-3.991-1.867-8.657-2.802-13.997-2.802s-10.008.935-13.997 2.802c-3.991 1.87-7.322 4.536-9.992 8-2.671 3.465-4.68 7.637-6.03 12.518-1.35 4.881-2.026 10.305-2.026 16.27 0 6.026.675 11.465 2.025 16.316 1.35 4.852 3.36 8.993 6.031 12.428 2.67 3.435 6 6.07 9.992 7.91 3.99 1.838 8.656 2.756 13.997 2.756z"
            fill="currentColor"
          />
          <path
            d="M530.57 152h-20.05L474 60h18.35c1.61 0 2.967.39 4.072 1.166 1.103.778 1.865 1.763 2.283 2.959l17.722 49.138a92.762 92.762 0 012.551 8.429c.686 2.751 1.298 5.5 1.835 8.25.537-2.75 1.148-5.499 1.835-8.25a77.713 77.713 0 012.64-8.429l18.171-49.138c.417-1.196 1.164-2.181 2.238-2.96 1.074-.776 2.356-1.165 3.849-1.165H567l-36.43 92zM572 61h23v92h-23zM610 153V60.443h13.624c2.887 0 4.78 1.354 5.682 4.06l1.443 6.856a52.7 52.7 0 015.097-4.962 32.732 32.732 0 015.683-3.879 30.731 30.731 0 016.496-2.57c2.314-.632 4.855-.948 7.624-.948 5.832 0 10.63 1.579 14.39 4.736 3.758 3.157 6.57 7.352 8.434 12.585 1.444-3.068 3.248-5.698 5.413-7.894 2.165-2.194 4.541-3.984 7.127-5.367a32.848 32.848 0 018.254-3.068 39.597 39.597 0 018.796-.992c5.111 0 9.653.783 13.622 2.345 3.97 1.565 7.307 3.849 10.014 6.857 2.706 3.007 4.766 6.675 6.18 11.005C739.29 83.537 740 88.5 740 94.092V153h-22.284V94.092c0-5.894-1.294-10.329-3.878-13.306-2.587-2.977-6.376-4.465-11.368-4.465-2.286 0-4.404.391-6.358 1.172a15.189 15.189 0 00-5.144 3.383c-1.473 1.474-2.631 3.324-3.474 5.548-.842 2.225-1.263 4.781-1.263 7.668V153h-22.37V94.092c0-6.194-1.249-10.704-3.744-13.532-2.497-2.825-6.18-4.24-11.051-4.24-3.19 0-6.18.798-8.976 2.391-2.799 1.593-5.399 3.775-7.804 6.54V153H610zM572 30h23v19h-23z"
            fill="currentColor"
            fill-opacity=".8"
          />
        </g>
      </g>
    </svg>
  
          <!--<img src="https://neovim.io/logos/neovim-logo.svg" width="173" height="50" alt="Neovim" />-->
        </a>
        <div id="docsearch"></div> <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
      </div>
    </nav>
  </header>

  <div class="container golden-grid help-body">
  <div class="col-wide">
  <a name="lsp.txt" href="#lsp"><h1 id="lsp"> Lsp</h1></a>
  <p>
    <i>
    Nvim <code>:help</code> pages, <a href="https://github.com/neovim/neovim/blob/master/src/gen/gen_help_html.lua">generated</a>
    from <a href="https://github.com/neovim/neovim/blob/master/runtime/doc/lsp.txt">source</a>
    using the <a href="https://github.com/neovim/tree-sitter-vimdoc">tree-sitter-vimdoc</a> parser.
    </i>
  </p>
  <hr/>
  <div class="help-para">
LSP client/framework <span id="LSP" class="help-tag"><a href="#LSP">LSP</a></span>

</div>
<div class="help-para">
Nvim supports the Language Server Protocol (LSP), which means it acts as
a client to LSP servers and includes a Lua framework <code>vim.lsp</code> for building
enhanced LSP tools.

</div>
<div class="help-para">
    <a href="https://microsoft.github.io/language-server-protocol/">https://microsoft.github.io/language-server-protocol/</a>

</div>
<div class="help-para">
LSP facilitates features like go-to-definition, find references, hover,
completion, rename, format, refactor, etc., using semantic whole-project
analysis (unlike <a href="tagsrch.html#ctags">ctags</a>).

</div>
<div class="help-para">
<h2 id="_quickstart" class="help-heading">QUICKSTART<span class="help-heading-tags">                                              <span id="lsp-quickstart" class="help-tag"><a href="#lsp-quickstart">lsp-quickstart</a></span></h2>


</div>
<div class="help-para">
Nvim provides an LSP client, but the servers are provided by third parties.
Follow these steps to get LSP features:

</div>
<div class="help-para">
<div class="help-li-num" style=""> Install language servers using your package manager or by following the
   upstream installation instructions. You can find language servers here:
   <a href="https://microsoft.github.io/language-server-protocol/implementors/servers/">https://microsoft.github.io/language-server-protocol/implementors/servers/</a>
</div><div class="help-li-num" style=""> Define a new config <a href="lsp.html#lsp-new-config">lsp-new-config</a> (or install <a href="https://github.com/neovim/nvim-lspconfig">https://github.com/neovim/nvim-lspconfig</a>).
   Example:<pre><code class="language-lua">vim.lsp.config['lua_ls'] = {
  -- Command and arguments to start the server.
  cmd = { 'lua-language-server' },
  -- Filetypes to automatically attach to.
  filetypes = { 'lua' },
  -- Sets the "workspace" to the directory where any of these files is found.
  -- Files that share a root directory will reuse the LSP server connection.
  -- Nested lists indicate equal priority, see |vim.lsp.Config|.
  root_markers = { { '.luarc.json', '.luarc.jsonc' }, '.git' },
  -- Specific settings to send to the server. The schema is server-defined.
  -- Example: https://raw.githubusercontent.com/LuaLS/vscode-lua/master/setting/schema.json
  settings = {
    Lua = {
      runtime = {
        version = 'LuaJIT',
      }
    }
  }
}</code></pre>
</div><div class="help-li-num" style=""> Use <a href="lsp.html#vim.lsp.enable()">vim.lsp.enable()</a> to enable the config.
   Example:<pre><code class="language-lua">vim.lsp.enable('lua_ls')</code></pre>
</div><div class="help-li-num" style=""> Open a code file matching one of the <code>filetypes</code> specified in the config.
<b>   Note:</b> Depending on the LSP server, you may need to ensure your project has
   a <a href="lsp.html#lsp-root_markers">lsp-root_markers</a> file so the workspace can be recognized.
</div><div class="help-li-num" style=""> Check that LSP is active ("attached") for the buffer:
<pre><code class="language-vim">:checkhealth vim.lsp</code></pre></div><div class="help-li-num" style=""> (Optional) Configure keymaps and autocommands to use LSP features.
   <a href="lsp.html#lsp-attach">lsp-attach</a>
</div>
</div>
<div class="help-para">
<h2 id="_defaults" class="help-heading">DEFAULTS<span class="help-heading-tags">                                                <span id="lsp-defaults" class="help-tag"><a href="#lsp-defaults">lsp-defaults</a></span></h2>


</div>
<div class="help-para">
When the Nvim LSP client starts it enables diagnostics <a href="diagnostic.html#vim.diagnostic">vim.diagnostic</a> (see
<a href="diagnostic.html#vim.diagnostic.config()">vim.diagnostic.config()</a> to customize). It also sets various default options,
listed below, if (1) the language server supports the functionality and (2)
the options are empty or were set by the builtin runtime (ftplugin) files. The
options are not restored when the LSP client is stopped or detached.

</div>
<div class="help-para">
<h3 id="_global-defaults" class="help-heading">GLOBAL DEFAULTS<span class="help-heading-tags">         <span id="gra" class="help-tag"><a href="#gra">gra</a></span> <span id="gri" class="help-tag"><a href="#gri">gri</a></span> <span id="grn" class="help-tag"><a href="#grn">grn</a></span> <span id="grr" class="help-tag"><a href="#grr">grr</a></span> <span id="grt" class="help-tag"><a href="#grt">grt</a></span> <span id="i_CTRL-S" class="help-tag"><a href="#i_CTRL-S">i_CTRL-S</a></span> <span id="v_an" class="help-tag"><a href="#v_an">v_an</a></span> <span id="v_in" class="help-tag"><a href="#v_in">v_in</a></span></span></h3>


</div>
<div class="help-para">
These GLOBAL keymaps are created unconditionally when Nvim starts:
<div class="help-li" style=""> "gra" (Normal and Visual mode) is mapped to <a href="lsp.html#vim.lsp.buf.code_action()">vim.lsp.buf.code_action()</a>
</div><div class="help-li" style=""> "gri" is mapped to <a href="lsp.html#vim.lsp.buf.implementation()">vim.lsp.buf.implementation()</a>
</div><div class="help-li" style=""> "grn" is mapped to <a href="lsp.html#vim.lsp.buf.rename()">vim.lsp.buf.rename()</a>
</div><div class="help-li" style=""> "grr" is mapped to <a href="lsp.html#vim.lsp.buf.references()">vim.lsp.buf.references()</a>
</div><div class="help-li" style=""> "grt" is mapped to <a href="lsp.html#vim.lsp.buf.type_definition()">vim.lsp.buf.type_definition()</a>
</div><div class="help-li" style=""> "gO" is mapped to <a href="lsp.html#vim.lsp.buf.document_symbol()">vim.lsp.buf.document_symbol()</a>
</div><div class="help-li" style=""> <code>CTRL-S</code> (Insert mode) is mapped to <a href="lsp.html#vim.lsp.buf.signature_help()">vim.lsp.buf.signature_help()</a>
</div><div class="help-li" style=""> "an" and "in" (Visual and Operator-pending mode) are mapped to outer and inner incremental
  selections, respectively, using <a href="lsp.html#vim.lsp.buf.selection_range()">vim.lsp.buf.selection_range()</a>
</div>
</div>
<div class="help-para">
<h3 id="_buffer-local-defaults" class="help-heading">BUFFER-LOCAL DEFAULTS</h3>


</div>
<div class="help-para">
<div class="help-li" style=""> <a href="options.html#'omnifunc'">'omnifunc'</a> is set to <a href="lsp.html#vim.lsp.omnifunc()">vim.lsp.omnifunc()</a>, use <a href="insert.html#i_CTRL-X_CTRL-O">i_CTRL-X_CTRL-O</a> to trigger
  completion.
</div><div class="help-li" style=""> <a href="options.html#'tagfunc'">'tagfunc'</a> is set to <a href="lsp.html#vim.lsp.tagfunc()">vim.lsp.tagfunc()</a>. This enables features like
  go-to-definition, <a href="tagsrch.html#%3Atjump">:tjump</a>, and keymaps like <a href="tagsrch.html#CTRL-%5D">CTRL-]</a>, <a href="windows.html#CTRL-W_%5D">CTRL-W_]</a>,
  <a href="windows.html#CTRL-W_%7D">CTRL-W_}</a> to utilize the language server.
</div><div class="help-li" style=""> <a href="options.html#'formatexpr'">'formatexpr'</a> is set to <a href="lsp.html#vim.lsp.formatexpr()">vim.lsp.formatexpr()</a>, so you can format lines via
  <a href="change.html#gq">gq</a> if the language server supports it.
</div><div class="help-li" style="margin-left: 3rem;"> To opt out of this use <a href="change.html#gw">gw</a> instead of gq, or clear <a href="options.html#'formatexpr'">'formatexpr'</a> on <a href="lsp.html#LspAttach">LspAttach</a>.
</div><div class="help-li" style=""> <a href="various.html#K">K</a> is mapped to <a href="lsp.html#vim.lsp.buf.hover()">vim.lsp.buf.hover()</a> unless <a href="options.html#'keywordprg'">'keywordprg'</a> is customized or
  a custom keymap for <code>K</code> exists.
</div><div class="help-li" style=""> Document colors are enabled for highlighting color references in a document.
</div><div class="help-li" style="margin-left: 3rem;"> To opt out call <code>vim.lsp.document_color.enable(false, args.buf)</code> on <a href="lsp.html#LspAttach">LspAttach</a>.
</div>
</div>
<div class="help-para">
<h3 id="_disabling-defaults" class="help-heading">DISABLING DEFAULTS<span class="help-heading-tags">                                      <span id="lsp-defaults-disable" class="help-tag"><a href="#lsp-defaults-disable">lsp-defaults-disable</a></span></h3>


</div>
<div class="help-para">
You can remove GLOBAL keymaps at any time using <a href="lua.html#vim.keymap.del()">vim.keymap.del()</a> or
<a href="map.html#%3Aunmap">:unmap</a>. See also <a href="change.html#gr-default">gr-default</a>.

</div>
<div class="help-para">
To remove or override BUFFER-LOCAL defaults, define a <a href="lsp.html#LspAttach">LspAttach</a> handler:<pre><code class="language-lua">vim.api.nvim_create_autocmd('LspAttach', {
  callback = function(args)
    -- Unset 'formatexpr'
    vim.bo[args.buf].formatexpr = nil
    -- Unset 'omnifunc'
    vim.bo[args.buf].omnifunc = nil
    -- Unmap K
    vim.keymap.del('n', 'K', { buffer = args.buf })
    -- Disable document colors
    vim.lsp.document_color.enable(false, args.buf)
  end,
})</code></pre>

</div>
<div class="help-para">
<h2 id="_commands" class="help-heading">COMMANDS<span class="help-heading-tags">                                                 <span id="%3Alsp" class="help-tag"><a href="#%3Alsp">:lsp</a></span> <span id="lsp-commands" class="help-tag"><a href="#lsp-commands">lsp-commands</a></span></span></h2>


</div>
<div class="help-para">
:lsp enable [config_name]                                 <span id="%3Alsp-enable" class="help-tag-right"><a href="#%3Alsp-enable">:lsp-enable</a></span><br>
    Activates LSP for current and future buffers. See <a href="lsp.html#vim.lsp.enable()">vim.lsp.enable()</a>.

</div>
<div class="help-para">
:lsp disable [config_name]                                <span id="%3Alsp-disable" class="help-tag-right"><a href="#%3Alsp-disable">:lsp-disable</a></span><br>
    Disables LSP (and stops if running) for current and future buffers. See
    <a href="lsp.html#vim.lsp.enable()">vim.lsp.enable()</a>.

</div>
<div class="help-para">
:lsp restart [client_name]                                <span id="%3Alsp-restart" class="help-tag-right"><a href="#%3Alsp-restart">:lsp-restart</a></span><br>
    Restarts LSP clients and servers. If no client names are given, all active
    clients attached to the current buffer are restarted.

</div>
<div class="help-para">
:lsp stop [client_name]                                   <span id="%3Alsp-stop" class="help-tag-right"><a href="#%3Alsp-stop">:lsp-stop</a></span><br>
    Stops LSP clients and servers. If no client names are given, all active
    clients attached to the current buffer are stopped. Use <a href="lsp.html#Client%3Astop()">Client:stop()</a>
    for non-interactive use.

</div>
<div class="help-para">
<h2 id="_config" class="help-heading">CONFIG<span class="help-heading-tags">                                                  <span id="lsp-config" class="help-tag"><a href="#lsp-config">lsp-config</a></span></h2>


</div>
<div class="help-para">
You can configure LSP behavior statically via vim.lsp.config(), and
dynamically via <a href="lsp.html#lsp-attach">lsp-attach</a> or <a href="lsp.html#Client%3Aon_attach()">Client:on_attach()</a>.

</div>
<div class="help-para">
Use <a href="lsp.html#vim.lsp.config()">vim.lsp.config()</a> to define or modify LSP configurations, and
<a href="lsp.html#vim.lsp.enable()">vim.lsp.enable()</a> to auto-activate them. This is basically a wrapper around
<a href="lsp.html#vim.lsp.start()">vim.lsp.start()</a> which allows you to share and merge configs (provided by
Nvim, plugins, and your local config).

</div>
<div class="help-para">
<h3 id="_new-config" class="help-heading">NEW CONFIG<span class="help-heading-tags">                                            <span id="lsp-new-config" class="help-tag"><a href="#lsp-new-config">lsp-new-config</a></span></h3>

To create a new config you can either use <code>vim.lsp.config()</code> or create
a <code>lsp/&lt;config-name&gt;.lua</code> file.

</div>
<div class="help-para">
<div class="help-column_heading">EXAMPLE: DEFINE A CONFIG AS CODE</div>

</div>
<div class="help-para">
<div class="help-li-num" style=""> Run <code>:lua vim.lsp.config('foo', {cmd={'true'}})</code>
</div><div class="help-li-num" style=""> Run <code>:lua vim.lsp.enable('foo')</code>
</div><div class="help-li-num" style=""> Run <code>:checkhealth vim.lsp</code>, check "Enabled Configurations". ðŸ˜Ž
</div>
</div>
<div class="help-para">
<div class="help-column_heading">EXAMPLE: DEFINE A CONFIG AS A FILE</div>

</div>
<div class="help-para">
<div class="help-li-num" style=""> Create a file <code>lsp/foo.lua</code> somewhere on your <a href="options.html#'runtimepath'">'runtimepath'</a>.
<pre>:exe 'edit' stdpath('config') .. '/lsp/foo.lua'</pre></div><div class="help-li-num" style=""> Add this code to the file (or copy an example from
   <a href="https://github.com/neovim/nvim-lspconfig">https://github.com/neovim/nvim-lspconfig</a>):<pre>return {
  cmd = { 'true' },
}</pre>
</div><div class="help-li-num" style=""> Save the file (with <code>++p</code> to ensure its parent directory is created).
<pre>:write ++p</pre></div><div class="help-li-num" style=""> Enable the config.
<pre>:lua vim.lsp.enable('foo')</pre></div><div class="help-li-num" style=""> Run <code>:checkhealth vim.lsp</code>, check "Enabled Configurations". ðŸŒˆ
</div>
</div>
<div class="help-para">
<h3 id="_how-configs-are-merged" class="help-heading">HOW CONFIGS ARE MERGED<span class="help-heading-tags">                                  <span id="lsp-config-merge" class="help-tag"><a href="#lsp-config-merge">lsp-config-merge</a></span></h3>

When an LSP client starts, it resolves its configuration by merging the
following sources (merge semantics defined by <a href="lua.html#vim.tbl_deep_extend()">vim.tbl_deep_extend()</a> with
"force" behavior), in order of increasing priority:

</div>
<div class="help-para">
<div class="help-li-num" style=""> Configuration defined for the <code>'*'</code> name.
</div><div class="help-li-num" style=""> The merged configuration of all <code>lsp/&lt;config&gt;.lua</code> files in <a href="options.html#'runtimepath'">'runtimepath'</a>
   for the config named <code>&lt;config&gt;</code>.
</div><div class="help-li-num" style=""> The merged configuration of all <code>after/lsp/&lt;config&gt;.lua</code> files in
   <a href="options.html#'runtimepath'">'runtimepath'</a>.
</div><div class="help-li" style="margin-left: 3rem;"> This behavior of the "after/" directory is a standard Vim feature
     <a href="options.html#after-directory">after-directory</a> which allows you to override <code>lsp/*.lua</code> configs
     provided by plugins (such as nvim-lspconfig).
</div><div class="help-li-num" style=""> Configurations defined anywhere else.
</div>
</div>
<div class="help-para">
Example: given the following configs...<pre><code class="language-lua">-- Defined in init.lua
vim.lsp.config('*', {
  capabilities = {
    textDocument = {
      semanticTokens = {
        multilineTokenSupport = true,
      }
    }
  },
  root_markers = { '.git' },
})
-- Defined in &lt;rtp&gt;/lsp/clangd.lua
return {
  cmd = { 'clangd' },
  root_markers = { '.clangd', 'compile_commands.json' },
  filetypes = { 'c', 'cpp' },
}
-- Defined in init.lua
vim.lsp.config('clangd', {
  filetypes = { 'c' },
})</code></pre>

</div>
<div class="help-para">
...the merged result is:<pre><code class="language-lua">{
  -- From the clangd configuration in &lt;rtp&gt;/lsp/clangd.lua
  cmd = { 'clangd' },
  -- From the clangd configuration in &lt;rtp&gt;/lsp/clangd.lua
  -- Overrides the "*" configuration in init.lua
  root_markers = { '.clangd', 'compile_commands.json' },
  -- From the clangd configuration in init.lua
  -- Overrides the clangd configuration in &lt;rtp&gt;/lsp/clangd.lua
  filetypes = { 'c' },
  -- From the "*" configuration in init.lua
  capabilities = {
    textDocument = {
      semanticTokens = {
        multilineTokenSupport = true,
      }
    }
  }
}</code></pre>

</div>
<div class="help-para">
<h3 id="_configure-on-attach" class="help-heading">CONFIGURE ON ATTACH<span class="help-heading-tags">                                     <span id="lsp-attach" class="help-tag"><a href="#lsp-attach">lsp-attach</a></span></h3>

To use LSP features beyond those provided by Nvim (see <a href="lsp.html#lsp-buf">lsp-buf</a>), you can set
keymaps and options on <a href="lsp.html#Client%3Aon_attach()">Client:on_attach()</a> or <a href="lsp.html#LspAttach">LspAttach</a>. Not all language
servers provide the same capabilities; check <code>supports_method()</code> in your
LspAttach handler.
                                                        <span id="lsp-lint" class="help-tag"><a href="#lsp-lint">lsp-lint</a></span> <span id="lsp-format" class="help-tag"><a href="#lsp-format">lsp-format</a></span>
Example: Enable auto-completion and auto-formatting ("linting"):<pre><code class="language-lua">vim.api.nvim_create_autocmd('LspAttach', {
  group = vim.api.nvim_create_augroup('my.lsp', {}),
  callback = function(args)
    local client = assert(vim.lsp.get_client_by_id(args.data.client_id))
    if client:supports_method('textDocument/implementation') then
      -- Create a keymap for vim.lsp.buf.implementation ...
    end
    -- Enable auto-completion. Note: Use CTRL-Y to select an item. |complete_CTRL-Y|
    if client:supports_method('textDocument/completion') then
      -- Optional: trigger autocompletion on EVERY keypress. May be slow!
      -- local chars = {}; for i = 32, 126 do table.insert(chars, string.char(i)) end
      -- client.server_capabilities.completionProvider.triggerCharacters = chars
      vim.lsp.completion.enable(true, client.id, args.buf, {autotrigger = true})
    end
    -- Auto-format ("lint") on save.
    -- Usually not needed if server supports "textDocument/willSaveWaitUntil".
    if not client:supports_method('textDocument/willSaveWaitUntil')
        and client:supports_method('textDocument/formatting') then
      vim.api.nvim_create_autocmd('BufWritePre', {
        group = vim.api.nvim_create_augroup('my.lsp', {clear=false}),
        buffer = args.buf,
        callback = function()
          vim.lsp.buf.format({ bufnr = args.buf, id = client.id, timeout_ms = 1000 })
        end,
      })
    end
  end,
})</code></pre>

</div>
<div class="help-para">
To see the capabilities for a given server, try this in a LSP-enabled buffer:<pre><code class="language-vim">:lua =vim.lsp.get_clients()[1].server_capabilities</code></pre>
<h2 id="_faq" class="help-heading">FAQ<span class="help-heading-tags">                                                     <span id="lsp-faq" class="help-tag"><a href="#lsp-faq">lsp-faq</a></span></h2>


</div>
<div class="help-para">
<div class="help-li" style=""> Q: How to force-reload LSP?
</div><div class="help-li" style=""> A: Use <code>:lsp restart</code>. You can also stop all clients, then reload the buffer:
<pre><code class="language-vim">:lsp stop
:edit</code></pre></div>
</div>
<div class="help-para">
<div class="help-li" style=""> Q: Why isn't completion working?
</div><div class="help-li" style=""> A: In the buffer where you want to use LSP, check that <a href="options.html#'omnifunc'">'omnifunc'</a> is set to
     "v:lua.vim.lsp.omnifunc": <code>:verbose set omnifunc?</code>
</div><div class="help-li" style="margin-left: 3rem;"> Some other plugin may be overriding the option. To avoid that you could
       set the option in an <a href="options.html#after-directory">after-directory</a> ftplugin, e.g.
       "after/ftplugin/python.vim".
</div>
</div>
<div class="help-para">
<div class="help-li" style=""> Q: How do I run a request synchronously (e.g. for formatting on file save)?
</div><div class="help-li" style=""> A: Check if the function has an <code>async</code> parameter and set the value to
  false. E.g. code formatting:<pre><code class="language-vim">" Auto-format *.rs (rust) files prior to saving them
" (async = false is the default for format)
autocmd BufWritePre *.rs lua vim.lsp.buf.format({ async = false })</code></pre>
</div>
</div>
<div class="help-para">
<div class="help-li" style=""> Q: How to avoid my own lsp/ folder being overridden?
</div><div class="help-li" style=""> A: Place your configs under "after/lsp/". Files in "after/lsp/" are loaded
     after those in "nvim/lsp/", so your settings will take precedence over
     the defaults provided by nvim-lspconfig. See also: <a href="options.html#after-directory">after-directory</a>
</div>
</div>
<div class="help-para">
                                                        <span id="lsp-vs-treesitter" class="help-tag-right"><a href="#lsp-vs-treesitter">lsp-vs-treesitter</a></span><br>
<div class="help-li" style=""> Q: How do LSP, Treesitter and Ctags compare?
</div><div class="help-li" style=""> A: LSP requires a client and language server. The language server uses
     semantic analysis to understand code at a project level. This provides
     language servers with the ability to rename across files, find
     definitions in external libraries and more.
</div>
</div>
<div class="help-para">
     <a href="treesitter.html#treesitter">treesitter</a> is a language parsing library that provides excellent tools
     for incrementally parsing text and handling errors. This makes it a great
     fit for editors to understand the contents of the current file for things
     like syntax highlighting, simple goto-definitions, scope analysis and
     more.

</div>
<div class="help-para">
     A <a href="tagsrch.html#ctags">ctags</a>-like program can generate a <a href="tagsrch.html#tags">tags</a> file that allows Nvim to
     jump to definitions, provide simple completions via <a href="insert.html#i_CTRL-X_CTRL-%5D">i_CTRL-X_CTRL-]</a>
     command. It is not as featureful and doesn't have semantic understanding,
     but it is fast, lightweight and useful for navigating polyglot projects.

</div>
<div class="help-para">
<h2 id="_lsp-api" class="help-heading">LSP API<span class="help-heading-tags">                                                 <span id="lsp-api" class="help-tag"><a href="#lsp-api">lsp-api</a></span></h2>


</div>
<div class="help-para">
The <a href="lsp.html#lsp-core">lsp-core</a> API provides core functions for creating and managing clients.
The <a href="lsp.html#lsp-buf">lsp-buf</a> functions perform operations for LSP clients attached to the
current buffer.

</div>
<div class="help-para">
                                                                  <span id="lsp-method" class="help-tag-right"><a href="#lsp-method">lsp-method</a></span><br>
Requests and notifications defined by the LSP specification are referred to as
"LSP methods". These are handled by Lua <a href="lsp.html#lsp-handler">lsp-handler</a> functions.

</div>
<div class="help-para">
                                                                 <span id="lsp-handler" class="help-tag-right"><a href="#lsp-handler">lsp-handler</a></span><br>
LSP handlers are functions that handle <a href="lsp.html#lsp-response">lsp-response</a>s to requests made by Nvim
to the server. (Notifications, as opposed to requests, are fire-and-forget:
there is no response, so they can't be handled. <a href="lsp.html#lsp-notification">lsp-notification</a>)

</div>
<div class="help-para">
Each response handler has this signature:<pre>function(err, result, ctx)</pre>

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{err}</code>     (<code>table|nil</code>) Error info dict, or <code>nil</code> if the request
                  completed.
</div><div class="help-li" style=""> <code>{result}</code>  (<code>Result|Params|nil</code>) <code>result</code> key of the <a href="lsp.html#lsp-response">lsp-response</a> or
                  <code>nil</code> if the request failed.
</div><div class="help-li" style=""> <code>{ctx}</code>     (<code>table</code>) Table of calling state associated with the
                  handler, with these keys:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{method}</code>     (<code>string</code>) <a href="lsp.html#lsp-method">lsp-method</a> name.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{client_id}</code>  (<code>number</code>) <a href="lsp.html#vim.lsp.Client">vim.lsp.Client</a> identifier.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}</code>      (<code>Buffer</code>) Buffer handle.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{params}</code>     (<code>table|nil</code>) Request parameters table.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{version}</code>    (<code>number</code>) Document version at time of
                                 request. Handlers can compare this to the
                                 current document version to check if the
                                 response is "stale". See also <a href="vimeval.html#b%3Achangedtick">b:changedtick</a>.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Returns:</div>
        Two values <code>result, err</code> where <code>err</code> is shaped like an RPC error:<pre>{ code, message, data? }</pre>

</div>
<div class="help-para">
        You can use <a href="lsp.html#vim.lsp.rpc.rpc_response_error()">vim.lsp.rpc.rpc_response_error()</a> to create this object.

</div>
<div class="help-para">
                                                      <span id="lsp-handler-resolution" class="help-tag-right"><a href="#lsp-handler-resolution">lsp-handler-resolution</a></span><br>
Handlers can be set by (in increasing priority):

</div>
<div class="help-para">
                                                            <span id="vim.lsp.handlers" class="help-tag-right"><a href="#vim.lsp.handlers">vim.lsp.handlers</a></span><br>
<div class="help-li" style=""> Directly calling a LSP method via <a href="lsp.html#Client%3Arequest()">Client:request()</a>. This is the only way
  to "override" the default client-to-server request handling (by
  side-stepping <code>vim.lsp.buf</code> and related interfaces).<pre><code class="language-lua">local client = assert(vim.lsp.get_clients()[1])
client:request('textDocument/definition')</code></pre>
</div><div class="help-li" style=""> Setting a field in <code>vim.lsp.handlers</code>. This global table contains the
  default mappings of <a href="lsp.html#lsp-method">lsp-method</a> names to handlers. (<b>Note:</b> only for
  server-to-client requests/notifications, not client-to-server.)
  Example:<pre><code class="language-lua">vim.lsp.handlers['textDocument/publishDiagnostics'] = my_custom_diagnostics_handler</code></pre>
</div><div class="help-li" style=""> Passing a <code>{handlers}</code> parameter to <a href="lsp.html#vim.lsp.start()">vim.lsp.start()</a>. This sets the default
  <a href="lsp.html#lsp-handler">lsp-handler</a> for a specific server. (<b>Note:</b> only for server-to-client
  requests/notifications, not client-to-server.)
  Example:<pre><code class="language-lua">vim.lsp.start {
  ..., -- Other configuration omitted.
  handlers = {
    ['textDocument/publishDiagnostics'] = my_custom_diagnostics_handler
  },
}</code></pre>
</div><div class="help-li" style=""> Passing a <code>{handler}</code> parameter to <a href="lsp.html#vim.lsp.buf_request_all()">vim.lsp.buf_request_all()</a>. This sets the
  <a href="lsp.html#lsp-handler">lsp-handler</a> ONLY for the given request(s).
  Example:<pre><code class="language-lua">vim.lsp.buf_request_all(
  0,
  'textDocument/publishDiagnostics',
  my_request_params,
  my_handler
)</code></pre>
</div>
</div>
<div class="help-para">
                                                            <span id="vim.lsp.log_levels" class="help-tag-right"><a href="#vim.lsp.log_levels">vim.lsp.log_levels</a></span><br>
Log levels are defined in <a href="lua.html#vim.log.levels">vim.log.levels</a>

</div>
<div class="help-para">
<h3 id="_vim.lsp.protocol" class="help-heading">VIM.LSP.PROTOCOL<span class="help-heading-tags">                                              <span id="vim.lsp.protocol" class="help-tag"><a href="#vim.lsp.protocol">vim.lsp.protocol</a></span></h3>


</div>
<div class="help-para">
Module <code>vim.lsp.protocol</code> defines constants dictated by the LSP specification,
and helper functions for creating protocol-related objects.
<a href="https://github.com/microsoft/language-server-protocol/raw/gh-pages/_specifications/specification-3-14.md">https://github.com/microsoft/language-server-protocol/raw/gh-pages/_specifications/specification-3-14.md</a>

</div>
<div class="help-para">
For example <code>vim.lsp.protocol.ErrorCodes</code> allows reverse lookup by number or
name:<pre><code class="language-lua">vim.lsp.protocol.TextDocumentSyncKind.Full == 1
vim.lsp.protocol.TextDocumentSyncKind[1] == "Full"</code></pre>

</div>
<div class="help-para">
                                                                <span id="lsp-response" class="help-tag-right"><a href="#lsp-response">lsp-response</a></span><br>
LSP response shape:
<a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#responseMessage">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#responseMessage</a>

</div>
<div class="help-para">
                                                                <span id="lsp-notification" class="help-tag-right"><a href="#lsp-notification">lsp-notification</a></span><br>
LSP notification shape:
<a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#notificationMessage">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#notificationMessage</a>

</div>
<div class="help-para">
<h2 id="_lsp-highlight" class="help-heading">LSP HIGHLIGHT<span class="help-heading-tags">                                                    <span id="lsp-highlight" class="help-tag"><a href="#lsp-highlight">lsp-highlight</a></span></h2>


</div>
<div class="help-para">
Reference Highlights:

</div>
<div class="help-para">
Highlight groups that are meant to be used by <a href="lsp.html#vim.lsp.buf.document_highlight()">vim.lsp.buf.document_highlight()</a>.

</div>
<div class="help-para">
You can see more about the differences in types here:
<a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_documentHighlight">https://microsoft.github.io/language-server-protocol/specification#textDocument_documentHighlight</a>

</div>
<div class="help-para">
                                                         <span id="hl-LspReferenceText" class="help-tag-right"><a href="#hl-LspReferenceText">hl-LspReferenceText</a></span><br>
LspReferenceText          used for highlighting "text" references
                                                         <span id="hl-LspReferenceRead" class="help-tag-right"><a href="#hl-LspReferenceRead">hl-LspReferenceRead</a></span><br>
LspReferenceRead          used for highlighting "read" references
                                                        <span id="hl-LspReferenceWrite" class="help-tag-right"><a href="#hl-LspReferenceWrite">hl-LspReferenceWrite</a></span><br>
LspReferenceWrite         used for highlighting "write" references
                                                       <span id="hl-LspReferenceTarget" class="help-tag-right"><a href="#hl-LspReferenceTarget">hl-LspReferenceTarget</a></span><br>
LspReferenceTarget        used for highlighting reference targets (e.g. in a
                          hover range)
                                                             <span id="hl-LspInlayHint" class="help-tag-right"><a href="#hl-LspInlayHint">hl-LspInlayHint</a></span><br>
LspInlayHint              used for highlighting inlay hints

</div>
<div class="help-para">
                                                      <span id="lsp-highlight-codelens" class="help-tag-right"><a href="#lsp-highlight-codelens">lsp-highlight-codelens</a></span><br>

</div>
<div class="help-para">
Highlight groups related to <a href="lsp.html#lsp-codelens">lsp-codelens</a> functionality.

</div>
<div class="help-para">
                                                              <span id="hl-LspCodeLens" class="help-tag-right"><a href="#hl-LspCodeLens">hl-LspCodeLens</a></span><br>
LspCodeLens
    Used to color the virtual text of the codelens. See
    <a href="api.html#nvim_buf_set_extmark()">nvim_buf_set_extmark()</a>.

</div>
<div class="help-para">
LspCodeLensSeparator                                 <span id="hl-LspCodeLensSeparator" class="help-tag-right"><a href="#hl-LspCodeLensSeparator">hl-LspCodeLensSeparator</a></span><br>
    Used to color the separator between two or more code lenses.

</div>
<div class="help-para">
                                                     <span id="lsp-highlight-signature" class="help-tag-right"><a href="#lsp-highlight-signature">lsp-highlight-signature</a></span><br>

</div>
<div class="help-para">
Highlight groups related to <a href="deprecated.html#vim.lsp.handlers.signature_help()">vim.lsp.handlers.signature_help()</a>.

</div>
<div class="help-para">
                                              <span id="hl-LspSignatureActiveParameter" class="help-tag-right"><a href="#hl-LspSignatureActiveParameter">hl-LspSignatureActiveParameter</a></span><br>
LspSignatureActiveParameter
    Used to highlight the active parameter in the signature help. See
    <a href="deprecated.html#vim.lsp.handlers.signature_help()">vim.lsp.handlers.signature_help()</a>.

</div>
<div class="help-para">
<h3 id="_lsp-semantic-highlights" class="help-heading">LSP SEMANTIC HIGHLIGHTS<span class="help-heading-tags">                               <span id="lsp-semantic-highlight" class="help-tag"><a href="#lsp-semantic-highlight">lsp-semantic-highlight</a></span></h3>


</div>
<div class="help-para">
When available, the LSP client highlights code using <a href="lsp.html#lsp-semantic_tokens">lsp-semantic_tokens</a>,
which are another way that LSP servers can provide information about source
code.  Note that this is in addition to treesitter syntax highlighting;
semantic highlighting does not replace syntax highlighting.

</div>
<div class="help-para">
The server will typically provide one token per identifier in the source code.
The token will have a <code>type</code> such as "function" or "variable", and 0 or more
<code>modifier</code>s such as "readonly" or "deprecated." The standard types and
modifiers are described here:
<a href="https://microsoft.github.io/language-server-protocol/specification/#textDocument_semanticTokens">https://microsoft.github.io/language-server-protocol/specification/#textDocument_semanticTokens</a>
LSP servers may also use off-spec types and modifiers.

</div>
<div class="help-para">
The LSP client adds one or more highlights for each token. The highlight
groups are derived from the token's type and modifiers:
<div class="help-li" style=""> <code>@lsp.type.&lt;type&gt;.&lt;ft&gt;</code> for the type
</div><div class="help-li" style=""> <code>@lsp.mod.&lt;mod&gt;.&lt;ft&gt;</code> for each modifier
</div><div class="help-li" style=""> <code>@lsp.typemod.&lt;type&gt;.&lt;mod&gt;.&lt;ft&gt;</code> for each modifier
Use <a href="lua.html#%3AInspect">:Inspect</a> to view the highlights for a specific token. Use <a href="syntax.html#%3Ahi">:hi</a> or
<a href="api.html#nvim_set_hl()">nvim_set_hl()</a> to change the appearance of semantic highlights:<pre><code class="language-vim">hi @lsp.type.function guifg=Yellow        " function names are yellow
hi @lsp.type.variable.lua guifg=Green     " variables in lua are green
hi @lsp.mod.deprecated gui=strikethrough  " deprecated is crossed out
hi @lsp.typemod.function.async guifg=Blue " async functions are blue</code></pre>
</div>
</div>
<div class="help-para">
The value <a href="lua.html#vim.hl.priorities">vim.hl.priorities</a><code>.semantic_tokens</code> is the priority of the
<code>@lsp.type.*</code> highlights. The <code>@lsp.mod.*</code> and <code>@lsp.typemod.*</code> highlights
have priorities one and two higher, respectively.

</div>
<div class="help-para">
You can disable semantic highlights by clearing the highlight groups:<pre><code class="language-lua">-- Hide semantic highlights for functions
vim.api.nvim_set_hl(0, '@lsp.type.function', {})
-- Hide all semantic highlights
for _, group in ipairs(vim.fn.getcompletion("@lsp", "highlight")) do
  vim.api.nvim_set_hl(0, group, {})
end</code></pre>

</div>
<div class="help-para">
You probably want these inside a <a href="autocmd.html#ColorScheme">ColorScheme</a> autocommand.

</div>
<div class="help-para">
Use <a href="lsp.html#LspTokenUpdate">LspTokenUpdate</a> and <a href="lsp.html#vim.lsp.semantic_tokens.highlight_token()">vim.lsp.semantic_tokens.highlight_token()</a> for more
complex highlighting.

</div>
<div class="help-para">
The following is a list of standard captures used in queries for Nvim,
highlighted according to the current colorscheme (use <a href="lua.html#%3AInspect">:Inspect</a> on one to see
the exact definition):

</div>
<div class="help-para">
@lsp.type.class          Identifiers that declare or reference a class type
@lsp.type.comment        Tokens that represent a comment
@lsp.type.decorator      Identifiers that declare or reference decorators and annotations
@lsp.type.enum           Identifiers that declare or reference an enumeration type
@lsp.type.enumMember     Identifiers that declare or reference an enumeration property, constant, or member
@lsp.type.event          Identifiers that declare an event property
@lsp.type.function       Identifiers that declare a function
@lsp.type.interface      Identifiers that declare or reference an interface type
@lsp.type.keyword        Tokens that represent a language keyword
@lsp.type.macro          Identifiers that declare a macro
@lsp.type.method         Identifiers that declare a member function or method
@lsp.type.modifier       Tokens that represent a modifier
@lsp.type.namespace      Identifiers that declare or reference a namespace, module, or package
@lsp.type.number         Tokens that represent a number literal
@lsp.type.operator       Tokens that represent an operator
@lsp.type.parameter      Identifiers that declare or reference a function or method parameters
@lsp.type.property       Identifiers that declare or reference a member property, member field, or member variable
@lsp.type.regexp         Tokens that represent a regular expression literal
@lsp.type.string         Tokens that represent a string literal
@lsp.type.struct         Identifiers that declare or reference a struct type
@lsp.type.type           Identifiers that declare or reference a type that is not covered above
@lsp.type.typeParameter  Identifiers that declare or reference a type parameter
@lsp.type.variable       Identifiers that declare or reference a local or global variable

</div>
<div class="help-para">
@lsp.mod.abstract        Types and member functions that are abstract
@lsp.mod.async           Functions that are marked async
@lsp.mod.declaration     Declarations of symbols
@lsp.mod.defaultLibrary  Symbols that are part of the standard library
@lsp.mod.definition      Definitions of symbols, for example, in header files
@lsp.mod.deprecated      Symbols that should no longer be used
@lsp.mod.documentation   Occurrences of symbols in documentation
@lsp.mod.modification    Variable references where the variable is assigned to
@lsp.mod.readonly        Readonly variables and member fields (constants)
@lsp.mod.static          Class members (static members)

</div>
<div class="help-para">
<h2 id="_events" class="help-heading">EVENTS<span class="help-heading-tags">                                                            <span id="lsp-events" class="help-tag"><a href="#lsp-events">lsp-events</a></span></h2>


</div>
<div class="help-para">
LspAttach                                                          <span id="LspAttach" class="help-tag-right"><a href="#LspAttach">LspAttach</a></span><br>
    After an LSP client performs "initialize" and attaches to a buffer. The
    <a href="autocmd.html#autocmd-pattern">autocmd-pattern</a> is the buffer name. The client ID is passed in the
    Lua handler <a href="api.html#event-data">event-data</a> argument.

</div>
<div class="help-para">
    Example:<pre><code class="language-lua">vim.api.nvim_create_autocmd('LspAttach', {
  callback = function(ev)
    local client = vim.lsp.get_client_by_id(ev.data.client_id)
    -- ...
  end
})</code></pre>

</div>
<div class="help-para">
<b>    Note:</b> If the LSP server performs dynamic registration, capabilities may be
    registered any time _after_ LspAttach. In that case you may want to handle
    the "registerCapability" event.

</div>
<div class="help-para">
    Example:<pre><code class="language-lua">vim.lsp.handlers['client/registerCapability'] = (function(overridden)
  return function(err, res, ctx)
    local result = overridden(err, res, ctx)
    local client = vim.lsp.get_client_by_id(ctx.client_id)
    if not client then
      return
    end
    for bufnr, _ in pairs(client.attached_buffers) do
      -- Call your custom on_attach logic...
      -- my_on_attach(client, bufnr)
    end
    return result
  end
end)(vim.lsp.handlers['client/registerCapability'])</code></pre>
LspDetach                                                          <span id="LspDetach" class="help-tag-right"><a href="#LspDetach">LspDetach</a></span><br>
    Just before an LSP client detaches from a buffer. The <a href="autocmd.html#autocmd-pattern">autocmd-pattern</a> is
    the buffer name. The client ID is passed in the Lua handler <a href="api.html#event-data">event-data</a>
    argument.

</div>
<div class="help-para">
    Example:<pre><code class="language-lua">vim.api.nvim_create_autocmd('LspDetach', {
  callback = function(args)
    -- Get the detaching client
    local client = vim.lsp.get_client_by_id(args.data.client_id)
    -- Remove the autocommand to format the buffer on save, if it exists
    if client:supports_method('textDocument/formatting') then
      vim.api.nvim_clear_autocmds({
        event = 'BufWritePre',
        buffer = args.buf,
      })
    end
  end,
})</code></pre>

</div>
<div class="help-para">
LspNotify                                                          <span id="LspNotify" class="help-tag-right"><a href="#LspNotify">LspNotify</a></span><br>
    This event is triggered after each successful notification sent to an
    LSP server.

</div>
<div class="help-para">
    The client_id, LSP method, and parameters are sent in the Lua handler
    <a href="api.html#event-data">event-data</a> table argument.

</div>
<div class="help-para">
    Example:<pre><code class="language-lua">vim.api.nvim_create_autocmd('LspNotify', {
  callback = function(args)
    local bufnr = args.buf
    local client_id = args.data.client_id
    local method = args.data.method
    local params = args.data.params
    -- do something with the notification
    if method == 'textDocument/...' then
      update_buffer(bufnr)
    end
  end,
})</code></pre>

</div>
<div class="help-para">
LspProgress                                                       <span id="LspProgress" class="help-tag-right"><a href="#LspProgress">LspProgress</a></span><br>
    Upon receipt of a progress notification from the server. Notifications can
    be polled from a <code>progress</code> ring buffer of a <a href="lsp.html#vim.lsp.Client">vim.lsp.Client</a> or use
    <a href="lsp.html#vim.lsp.status()">vim.lsp.status()</a> to get an aggregate message.

</div>
<div class="help-para">
    If the server sends a "work done progress", the <code>pattern</code> is set to <code>kind</code>
    (one of <code>begin</code>, <code>report</code> or <code>end</code>).

</div>
<div class="help-para">
    The Lua handler <a href="api.html#event-data">event-data</a> argument has <code>client_id</code> and <code>params</code>
    properties, where <code>params</code> is the request params sent by the server (see
    <code>lsp.ProgressParams</code>).

</div>
<div class="help-para">
    Examples:

</div>
<div class="help-para">
    Redraw the statusline whenever an LSP progress message arrives:<pre><code class="language-vim">autocmd LspProgress * redrawstatus</code></pre>

</div>
<div class="help-para">
    Tell the parent terminal to indicate progress using a native progress
    indicator (requires a supporting terminal):<pre><code class="language-lua">vim.api.nvim_create_autocmd('LspProgress', {
  callback = function(ev)
    local value = ev.data.params.value
    if value.kind == 'begin' then
      vim.api.nvim_ui_send('\027]9;4;1;0\027\\')
    elseif value.kind == 'end' then
      vim.api.nvim_ui_send('\027]9;4;0\027\\')
    elseif value.kind == 'report' then
      vim.api.nvim_ui_send(string.format('\027]9;4;1;%d\027\\', value.percentage or 0))
    end
  end,
})</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="https://github.com/MicrosoftDocs/terminal/blob/main/TerminalDocs/tutorials/progress-bar-sequences.md">https://github.com/MicrosoftDocs/terminal/blob/main/TerminalDocs/tutorials/progress-bar-sequences.md</a>
</div>
</div>
<div class="help-para">
LspRequest                                                        <span id="LspRequest" class="help-tag-right"><a href="#LspRequest">LspRequest</a></span><br>
    For each request sent to an LSP server, this event is triggered for
    every change to the request's status. The status can be one of
    <code>pending</code>, <code>complete</code>, or <code>cancel</code> and is sent as the <code>{type}</code> on the
    "data" table passed to the callback function.

</div>
<div class="help-para">
    It triggers when the initial request is sent (<code>{type}</code> == <code>pending</code>) and
    when the LSP server responds (<code>{type}</code> == <code>complete</code>). If a cancellation
    is requested using <code>client.cancel_request(request_id)</code>, then this event
    will trigger with <code>{type}</code> == <code>cancel</code>.

</div>
<div class="help-para">
    The Lua handler <a href="api.html#event-data">event-data</a> argument has the client ID, request ID, and
    request (described at <a href="lsp.html#vim.lsp.Client">vim.lsp.Client</a>, <code>{requests}</code> field). If the request
    type is <code>complete</code>, the request will be deleted from the client's pending
    requests table after processing the event handlers.

</div>
<div class="help-para">
    Example:<pre><code class="language-lua">vim.api.nvim_create_autocmd('LspRequest', {
  callback = function(args)
    local bufnr = args.buf
    local client_id = args.data.client_id
    local request_id = args.data.request_id
    local request = args.data.request
    if request.type == 'pending' then
      -- do something with pending requests
      track_pending(client_id, bufnr, request_id, request)
    elseif request.type == 'cancel' then
      -- do something with pending cancel requests
      track_canceling(client_id, bufnr, request_id, request)
    elseif request.type == 'complete' then
      -- do something with finished requests. this pending
      -- request entry is about to be removed since it is complete
      track_finish(client_id, bufnr, request_id, request)
    end
  end,
})</code></pre>

</div>
<div class="help-para">
LspTokenUpdate                                                <span id="LspTokenUpdate" class="help-tag-right"><a href="#LspTokenUpdate">LspTokenUpdate</a></span><br>
    When a visible semantic token is sent or updated by the LSP server, or
    when an existing token becomes visible for the first time. The
    <a href="autocmd.html#autocmd-pattern">autocmd-pattern</a> is the buffer name. The Lua handler <a href="api.html#event-data">event-data</a>
    argument has the client ID and token (see
    <a href="lsp.html#vim.lsp.semantic_tokens.get_at_pos()">vim.lsp.semantic_tokens.get_at_pos()</a>).

</div>
<div class="help-para">
    Example:<pre><code class="language-lua">vim.api.nvim_create_autocmd('LspTokenUpdate', {
  callback = function(args)
    local token = args.data.token
    if token.type == 'variable' and not token.modifiers.readonly then
      vim.lsp.semantic_tokens.highlight_token(
        token, args.buf, args.data.client_id, 'MyMutableVariableHighlight'
      )
    end
  end,
})</code></pre>

</div>
<div class="help-para">
<b>    Note:</b> doing anything other than calling
    <a href="lsp.html#vim.lsp.semantic_tokens.highlight_token()">vim.lsp.semantic_tokens.highlight_token()</a> is considered experimental.

</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp" class="help-heading">Lua module: vim.lsp<span class="help-heading-tags">                                                 <span id="lsp-core" class="help-tag"><a href="#lsp-core">lsp-core</a></span></h2>


</div>
<div class="help-para">
<span id="vim.lsp.Config" class="help-tag"><a href="#vim.lsp.Config">vim.lsp.Config</a></span>
    Extends: <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a>

</div>
<div class="help-para">
<div class="help-column_heading">Fields:</div>
<div class="help-li" style=""> <code>{cmd}?</code>           (<code>string[]|fun(dispatchers: vim.lsp.rpc.Dispatchers, config: vim.lsp.ClientConfig): vim.lsp.rpc.PublicClient</code>)
                         See <code>cmd</code> in <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a>. See also
                         <code>reuse_client</code> to dynamically decide (per-buffer)
                         when <code>cmd</code> should be re-invoked.
</div><div class="help-li" style=""> <code>{filetypes}?</code>     (<code>string[]</code>) Filetypes the client will attach to, or
                         <code>nil</code> for ALL filetypes. To match files by name,
                         pattern, or contents, you can define a custom
                         filetype using <a href="lua.html#vim.filetype.add()">vim.filetype.add()</a>:<pre><code class="language-lua">vim.filetype.add({
  filename = {
    ['my_filename'] = 'my_filetype1',
  },
  pattern = {
    ['.*/etc/my_file_pattern/.*'] = 'my_filetype2',
  },
})
vim.lsp.config('â€¦', {
  filetypes = { 'my_filetype1', 'my_filetype2' },
}</code></pre>
</div>
</div>
<div class="help-para">
<div class="help-li" style=""> <code>{reuse_client}?</code>  (<code>fun(client: vim.lsp.Client, config: vim.lsp.ClientConfig): boolean</code>)
                         Predicate which decides if a client should be
                         re-used. Used on all running clients. The default
                         implementation re-uses a client if name and root_dir
                         matches.
</div><div class="help-li" style=""> <code>{root_dir}?</code>      (<code>string|fun(bufnr: integer, on_dir:fun(root_dir?:string))</code>)
                         <span id="lsp-root_dir()" class="help-tag"><a href="#lsp-root_dir()">lsp-root_dir()</a></span> Decides the workspace root: the
                         directory where the LSP server will base its
                         workspaceFolders, rootUri, and rootPath on
                         initialization. The function form must call the
                         <code>on_dir</code> callback to provide the root dir, or LSP
                         will not be activated for the buffer. Thus a
                         <code>root_dir()</code> function can dynamically decide
                         per-buffer whether to activate (or skip) LSP. See
                         example at <a href="lsp.html#vim.lsp.enable()">vim.lsp.enable()</a>.
</div><div class="help-li" style=""> <code>{root_markers}?</code>  (<code>(string|string[])[]</code>)                                    <span id="lsp-root_markers" class="help-tag-right"><a href="#lsp-root_markers">lsp-root_markers</a></span><br>
                         Filename(s) (".git/", "package.json", â€¦) used to
                         decide the workspace root. Unused if <code>root_dir</code> is
                         defined. The list order decides priority. To indicate
                         "equal priority", specify names in a nested list
                         <code>{ { 'a.txt', 'b.lua' }, ... }</code>.
</div><div class="help-li" style="margin-left: 3rem;"> For each item, Nvim will search upwards (from the
                           buffer file) for that marker, or list of markers;
                           search stops at the first directory containing that
                           marker, and the directory is used as the root dir
                           (workspace folder).
</div><div class="help-li" style="margin-left: 3rem;"> Example: Find the first ancestor directory
                           containing file or directory "stylua.toml"; if not
                           found, find the first ancestor containing ".git":<pre>root_markers = { 'stylua.toml', '.git' }</pre>
</div>
</div>
<div class="help-para">
<div class="help-li" style=""> Example: Find the first ancestor directory
                           containing EITHER "stylua.toml" or ".luarc.json";
                           if not found, find the first ancestor containing
                           ".git":<pre>root_markers = { { 'stylua.toml', '.luarc.json' }, '.git' }</pre>
</div>
</div>
<div class="help-para">
buf_attach_client(<code>{bufnr}</code>, <code>{client_id}</code>)          <span id="vim.lsp.buf_attach_client()" class="help-tag-right"><a href="#vim.lsp.buf_attach_client()">vim.lsp.buf_attach_client()</a></span><br>
    Implements the <code>textDocument/didâ€¦</code> notifications required to track a
    buffer for any language server.

</div>
<div class="help-para">
    Without calling this, the server won't be notified of changes to a buffer.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer</code>) Buffer handle, or 0 for current
</div><div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>) Client id
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>boolean</code>) success <code>true</code> if client was attached successfully;
        <code>false</code> otherwise

</div>
<div class="help-para">
buf_detach_client(<code>{bufnr}</code>, <code>{client_id}</code>)          <span id="vim.lsp.buf_detach_client()" class="help-tag-right"><a href="#vim.lsp.buf_detach_client()">vim.lsp.buf_detach_client()</a></span><br>
    Detaches client from the specified buffer.<b> Note:</b> While the server is
    notified that the text document (buffer) was closed, it is still able to
    send notifications should it ignore this notification.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer</code>) Buffer handle, or 0 for current
</div><div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>) Client id
</div>
</div>
<div class="help-para">
buf_is_attached(<code>{bufnr}</code>, <code>{client_id}</code>)              <span id="vim.lsp.buf_is_attached()" class="help-tag-right"><a href="#vim.lsp.buf_is_attached()">vim.lsp.buf_is_attached()</a></span><br>
    Checks if a buffer is attached for a particular client.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer</code>) Buffer handle, or 0 for current
</div><div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>) the client id
</div>
</div>
<div class="help-para">
buf_notify(<code>{bufnr}</code>, <code>{method}</code>, <code>{params}</code>)                 <span id="vim.lsp.buf_notify()" class="help-tag-right"><a href="#vim.lsp.buf_notify()">vim.lsp.buf_notify()</a></span><br>
    Send a notification to a server

</div>
<div class="help-para">
<div class="help-column_heading">Attributes:</div>
        Since: 0.5.0

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>   (<code>integer?</code>) The number of the buffer
</div><div class="help-li" style=""> <code>{method}</code>  (<code>string</code>) Name of the request method
</div><div class="help-li" style=""> <code>{params}</code>  (<code>any</code>) Arguments to send to the server
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>boolean</code>) success true if any client returns true; false otherwise

</div>
<div class="help-para">
                                                   <span id="vim.lsp.buf_request_all()" class="help-tag-right"><a href="#vim.lsp.buf_request_all()">vim.lsp.buf_request_all()</a></span><br>
buf_request_all(<code>{bufnr}</code>, <code>{method}</code>, <code>{params}</code>, <code>{handler}</code>)
    Sends an async request for all active clients attached to the buffer and
    executes the <code>handler</code> callback with the combined result.

</div>
<div class="help-para">
<div class="help-column_heading">Attributes:</div>
        Since: 0.5.0

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>    (<code>integer</code>) Buffer handle, or 0 for current.
</div><div class="help-li" style=""> <code>{method}</code>   (<code>string</code>) LSP method name
</div><div class="help-li" style=""> <code>{params}</code>   (<code>table|(fun(client: vim.lsp.Client, bufnr: integer): table?)?</code>)
                   Parameters to send to the server. Can also be passed as a
                   function that returns the params table for cases where
                   parameters are specific to the client.
</div><div class="help-li" style=""> <code>{handler}</code>  (<code>function</code>) Handler called after all requests are
                   completed. Server results are passed as a
                   <code>client_id:result</code> map.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>function</code>) cancel Function that cancels all requests.

</div>
<div class="help-para">
                                                  <span id="vim.lsp.buf_request_sync()" class="help-tag-right"><a href="#vim.lsp.buf_request_sync()">vim.lsp.buf_request_sync()</a></span><br>
buf_request_sync(<code>{bufnr}</code>, <code>{method}</code>, <code>{params}</code>, <code>{timeout_ms}</code>)
    Sends a request to all server and waits for the response of all of them.

</div>
<div class="help-para">
    Calls <a href="lsp.html#vim.lsp.buf_request_all()">vim.lsp.buf_request_all()</a> but blocks Nvim while awaiting the
    result. Parameters are the same as <a href="lsp.html#vim.lsp.buf_request_all()">vim.lsp.buf_request_all()</a> but the
    result is different. Waits a maximum of <code>{timeout_ms}</code>.

</div>
<div class="help-para">
<div class="help-column_heading">Attributes:</div>
        Since: 0.5.0

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>       (<code>integer</code>) Buffer handle, or 0 for current.
</div><div class="help-li" style=""> <code>{method}</code>      (<code>string</code>) LSP method name
</div><div class="help-li" style=""> <code>{params}</code>      (<code>table|(fun(client: vim.lsp.Client, bufnr: integer): table?)?</code>)
                      Parameters to send to the server. Can also be passed as
                      a function that returns the params table for cases where
                      parameters are specific to the client.
</div><div class="help-li" style=""> <code>{timeout_ms}</code>  (<code>integer?</code>, default: <code>1000</code>) Maximum time in
                      milliseconds to wait for a result.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return (multiple):</div>
        (<code>table&lt;integer, {error: lsp.ResponseError?, result: any}&gt;?</code>) result
        Map of client_id:request_result.
        (<code>string?</code>) err On timeout, cancel, or error, <code>err</code> is a string
        describing the failure reason, and <code>result</code> is nil.

</div>
<div class="help-para">
commands                                                    <span id="vim.lsp.commands" class="help-tag-right"><a href="#vim.lsp.commands">vim.lsp.commands</a></span><br>
    Map of client-defined handlers implementing custom (off-spec) commands
    which a server may invoke. Each key is a unique command name; each value
    is a function which is called when an LSP action (code action, code
    lenses, â€¦) requests it by name.

</div>
<div class="help-para">
    If an LSP response requests a command not defined client-side, Nvim will
    forward it to the server as <code>workspace/executeCommand</code>.
<div class="help-li" style=""> Argument 1 is the <code>Command</code>:
<pre>Command
title: String
command: String
arguments?: any[]</pre></div>
</div>
<div class="help-para">
<div class="help-li" style=""> Argument 2 is the <a href="lsp.html#lsp-handler">lsp-handler</a> <code>ctx</code>.
</div>
</div>
<div class="help-para">
    Example:<pre><code class="language-lua">vim.lsp.commands['java.action.generateToStringPrompt'] = function(_, ctx)
  require("jdtls.async").run(function()
    local _, result = request(ctx.bufnr, 'java/checkToStringStatus', ctx.params)
    local fields = ui.pick_many(result.fields, 'Include item in toString?', function(x)
      return string.format('%s: %s', x.name, x.type)
    end)
    local _, edit = request(ctx.bufnr, 'java/generateToString', { context = ctx.params; fields = fields; })
    vim.lsp.util.apply_workspace_edit(edit, offset_encoding)
  end)
end</code></pre>

</div>
<div class="help-para">
config(<code>{name}</code>, <code>{cfg}</code>)                                       <span id="vim.lsp.config()" class="help-tag-right"><a href="#vim.lsp.config()">vim.lsp.config()</a></span><br>
    Sets the default configuration for an LSP client (or all clients if the
    special name "*" is used).

</div>
<div class="help-para">
    Can also be accessed by table-indexing (<code>vim.lsp.config[â€¦]</code>) to get the
    resolved config, or redefine the config (instead of "merging" with the
    config chain).

</div>
<div class="help-para">
    Examples:
<div class="help-li" style=""> Add root markers for ALL clients:
<pre><code class="language-lua">vim.lsp.config('*', {
  root_markers = { '.git', '.hg' },
})</code></pre></div>
</div>
<div class="help-para">
<div class="help-li" style=""> Add capabilities to ALL clients:
<pre><code class="language-lua">  vim.lsp.config('*', {
  capabilities = {
    textDocument = {
      semanticTokens = {
        multilineTokenSupport = true,
      }
    }
  }
})</code></pre></div>
</div>
<div class="help-para">
<div class="help-li" style=""> Add root markers and capabilities for "clangd":
<pre><code class="language-lua">  vim.lsp.config('clangd', {
  root_markers = { '.clang-format', 'compile_commands.json' },
  capabilities = {
    textDocument = {
      completion = {
        completionItem = {
          snippetSupport = true,
        }
      }
    }
  }
})</code></pre></div>
</div>
<div class="help-para">
<div class="help-li" style=""> (Re-)define the "clangd" configuration (overrides the resolved chain):
<pre><code class="language-lua">  vim.lsp.config.clangd = {
  cmd = {
    'clangd',
    '--clang-tidy',
    '--background-index',
    '--offset-encoding=utf-8',
  },
  root_markers = { '.clangd', 'compile_commands.json' },
  filetypes = { 'c', 'cpp' },
}</code></pre></div>
</div>
<div class="help-para">
<div class="help-li" style=""> Get the resolved configuration for "lua_ls":
<pre><code class="language-lua">local cfg = vim.lsp.config.lua_ls</code></pre></div>
</div>
<div class="help-para">
<div class="help-column_heading">Attributes:</div>
        Since: 0.11.0

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{name}</code>  (<code>string</code>)
</div><div class="help-li" style=""> <code>{cfg}</code>   (<code>vim.lsp.Config</code>) See <a href="lsp.html#vim.lsp.Config">vim.lsp.Config</a>.
</div>
</div>
<div class="help-para">
enable(<code>{name}</code>, <code>{enable}</code>)                                    <span id="vim.lsp.enable()" class="help-tag-right"><a href="#vim.lsp.enable()">vim.lsp.enable()</a></span><br>
    Auto-activates LSP in each buffer based on the <a href="lsp.html#lsp-config">lsp-config</a> <code>filetypes</code>,
    <code>root_markers</code>, and <code>root_dir</code>.

</div>
<div class="help-para">
    To disable, pass <code>enable=false</code>: Stops related clients and servers
    (force-stops servers after a timeout, unless <code>exit_timeout=false</code>).

</div>
<div class="help-para">
    Examples:<pre><code class="language-lua">vim.lsp.enable('clangd')
vim.lsp.enable({'lua_ls', 'pyright'})</code></pre>

</div>
<div class="help-para">
    Example: To dynamically decide whether LSP is activated, define a
    <a href="lsp.html#lsp-root_dir()">lsp-root_dir()</a> function which calls <code>on_dir()</code> only when you want that
    config to activate:<pre><code class="language-lua">vim.lsp.config('lua_ls', {
  root_dir = function(bufnr, on_dir)
    if not vim.fn.bufname(bufnr):match('%.txt$') then
      on_dir(vim.fn.getcwd())
    end
  end
})</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">Attributes:</div>
        Since: 0.11.0

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{name}</code>    (<code>string|string[]</code>) Name(s) of client(s) to enable.
</div><div class="help-li" style=""> <code>{enable}</code>  (<code>boolean?</code>) If <code>true|nil</code>, enables auto-activation of the
                  given LSP config on current and future buffers. If <code>false</code>,
                  disables auto-activation and stops related LSP clients and
                  servers (force-stops servers after <code>exit_timeout</code>
                  milliseconds).
</div>
</div>
<div class="help-para">
foldclose(<code>{kind}</code>, <code>{winid}</code>)                               <span id="vim.lsp.foldclose()" class="help-tag-right"><a href="#vim.lsp.foldclose()">vim.lsp.foldclose()</a></span><br>
    Close all <code>{kind}</code> of folds in the the window with <code>{winid}</code>.

</div>
<div class="help-para">
    To automatically fold imports when opening a file, you can use an autocmd:<pre><code class="language-lua">vim.api.nvim_create_autocmd('LspNotify', {
  callback = function(args)
    if args.data.method == 'textDocument/didOpen' then
      vim.lsp.foldclose('imports', vim.fn.bufwinid(args.buf))
    end
  end,
})</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">Attributes:</div>
        Since: 0.11.0

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{kind}</code>   (<code>lsp.FoldingRangeKind</code>) Kind to close, one of "comment",
                 "imports" or "region".
</div><div class="help-li" style=""> <code>{winid}</code>  (<code>integer?</code>) Defaults to the current window.
</div>
</div>
<div class="help-para">
foldexpr(<code>{lnum}</code>)                                          <span id="vim.lsp.foldexpr()" class="help-tag-right"><a href="#vim.lsp.foldexpr()">vim.lsp.foldexpr()</a></span><br>
    Provides an interface between the built-in client and a <code>foldexpr</code>
    function.

</div>
<div class="help-para">
    To use, set <a href="options.html#'foldmethod'">'foldmethod'</a> to "expr" and set the value of <a href="options.html#'foldexpr'">'foldexpr'</a>:<pre><code class="language-lua">vim.o.foldmethod = 'expr'
vim.o.foldexpr = 'v:lua.vim.lsp.foldexpr()'</code></pre>

</div>
<div class="help-para">
    Or use it only when supported by checking for the
    "textDocument/foldingRange" capability in an <a href="lsp.html#LspAttach">LspAttach</a> autocommand.
    Example:<pre><code class="language-lua">vim.o.foldmethod = 'expr'
-- Default to treesitter folding
vim.o.foldexpr = 'v:lua.vim.treesitter.foldexpr()'
-- Prefer LSP folding if client supports it
vim.api.nvim_create_autocmd('LspAttach', {
  callback = function(args)
    local client = vim.lsp.get_client_by_id(args.data.client_id)
    if client:supports_method('textDocument/foldingRange') then
      local win = vim.api.nvim_get_current_win()
      vim.wo[win][0].foldexpr = 'v:lua.vim.lsp.foldexpr()'
    end
  end,
})</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{lnum}</code>  (<code>integer</code>) line number
</div>
</div>
<div class="help-para">
foldtext()                                                <span id="vim.lsp.foldtext()" class="help-tag-right"><a href="#vim.lsp.foldtext()">vim.lsp.foldtext()</a></span><br>
    Provides a <code>foldtext</code> function that shows the <code>collapsedText</code> retrieved,
    defaults to the first folded line if <code>collapsedText</code> is not provided.

</div>
<div class="help-para">
formatexpr(<code>{opts}</code>)                                      <span id="vim.lsp.formatexpr()" class="help-tag-right"><a href="#vim.lsp.formatexpr()">vim.lsp.formatexpr()</a></span><br>
    Provides an interface between the built-in client and a <code>formatexpr</code>
    function.

</div>
<div class="help-para">
    Currently only supports a single client. This can be set via
    <code>setlocal formatexpr=v:lua.vim.lsp.formatexpr()</code> or (more typically) in
    <code>on_attach</code> via
    <code>vim.bo[bufnr].formatexpr = 'v:lua.vim.lsp.formatexpr(#{timeout_ms:250})'</code>.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{opts}</code>  (<code>table?</code>) A table with the following fields:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{timeout_ms}</code> (<code>integer</code>, default: 500ms) The timeout period
                  for the formatting request..
</div>
</div>
<div class="help-para">
get_client_by_id(<code>{client_id}</code>)                     <span id="vim.lsp.get_client_by_id()" class="help-tag-right"><a href="#vim.lsp.get_client_by_id()">vim.lsp.get_client_by_id()</a></span><br>
    Gets a client by id, or nil if the id is invalid or the client was
    stopped. The returned client may not yet be fully initialized.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>) client id
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>vim.lsp.Client?</code>) client rpc object. See <a href="lsp.html#vim.lsp.Client">vim.lsp.Client</a>.

</div>
<div class="help-para">
get_clients(<code>{filter}</code>)                                  <span id="vim.lsp.get_clients()" class="help-tag-right"><a href="#vim.lsp.get_clients()">vim.lsp.get_clients()</a></span><br>
    Get active clients.

</div>
<div class="help-para">
<div class="help-column_heading">Attributes:</div>
        Since: 0.10.0

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{filter}</code>  (<code>table?</code>) Key-value pairs used to filter the returned
                  clients.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{id}?</code> (<code>integer</code>) Only return clients with the given id
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}?</code> (<code>integer</code>) Only return clients attached to this
                    buffer
</div><div class="help-li" style="margin-left: 3rem;"> <code>{name}?</code> (<code>string</code>) Only return clients with the given name
</div><div class="help-li" style="margin-left: 3rem;"> <code>{method}?</code> (<code>string</code>) Only return clients supporting the
                    given method
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>vim.lsp.Client[]</code>) List of <a href="lsp.html#vim.lsp.Client">vim.lsp.Client</a> objects

</div>
<div class="help-para">
is_enabled(<code>{name}</code>)                                      <span id="vim.lsp.is_enabled()" class="help-tag-right"><a href="#vim.lsp.is_enabled()">vim.lsp.is_enabled()</a></span><br>
    Checks if the given LSP config is enabled (globally, not per-buffer).

</div>
<div class="help-para">
    Unlike <code>vim.lsp.config['â€¦']</code>, this does not have the side-effect of
    resolving the config.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{name}</code>  (<code>string</code>) Config name
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>boolean</code>)

</div>
<div class="help-para">
omnifunc(<code>{findstart}</code>, <code>{base}</code>)                             <span id="vim.lsp.omnifunc()" class="help-tag-right"><a href="#vim.lsp.omnifunc()">vim.lsp.omnifunc()</a></span><br>
    Implements <a href="options.html#'omnifunc'">'omnifunc'</a> compatible LSP completion.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{findstart}</code>  (<code>integer</code>) 0 or 1, decides behavior
</div><div class="help-li" style=""> <code>{base}</code>       (<code>integer</code>) findstart=0, text to match against
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>integer|table</code>) Decided by <code>{findstart}</code>:
<div class="help-li" style=""> findstart=0: column where the completion starts, or -2 or -3
</div><div class="help-li" style=""> findstart=1: list of matches (actually just calls <a href="vimfn.html#complete()">complete()</a>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="insert.html#complete-functions">complete-functions</a>
</div><div class="help-li" style=""> <a href="insert.html#complete-items">complete-items</a>
</div><div class="help-li" style=""> <a href="autocmd.html#CompleteDone">CompleteDone</a>
</div>
</div>
<div class="help-para">
start(<code>{config}</code>, <code>{opts}</code>)                                      <span id="vim.lsp.start()" class="help-tag-right"><a href="#vim.lsp.start()">vim.lsp.start()</a></span><br>
    Create a new LSP client and start a language server or reuses an already
    running client if one is found matching <code>name</code> and <code>root_dir</code>. Attaches
    the current buffer to the client.

</div>
<div class="help-para">
    Example:<pre><code class="language-lua">vim.lsp.start({
   name = 'my-server-name',
   cmd = {'name-of-language-server-executable'},
   root_dir = vim.fs.root(0, {'pyproject.toml', 'setup.py'}),
})</code></pre>

</div>
<div class="help-para">
    See <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a> for all available options. The most important
    are:
<div class="help-li" style=""> <code>name</code> arbitrary name for the LSP client. Should be unique per language
      server.
</div><div class="help-li" style=""> <code>cmd</code> command string[] or function.
</div><div class="help-li" style=""> <code>root_dir</code> path to the project root. By default this is used to decide
      if an existing client should be re-used. The example above uses
      <a href="lua.html#vim.fs.root()">vim.fs.root()</a> to detect the root by traversing the file system upwards
      starting from the current directory until either a <code>pyproject.toml</code> or
      <code>setup.py</code> file is found.
</div><div class="help-li" style=""> <code>workspace_folders</code> list of <code>{ uri:string, name: string }</code> tables
      specifying the project root folders used by the language server. If
      <code>nil</code> the property is derived from <code>root_dir</code> for convenience.
</div>
</div>
<div class="help-para">
    Language servers use this information to discover metadata like the
    dependencies of your project and they tend to index the contents within
    the project folder.

</div>
<div class="help-para">
    To ensure a language server is only started for languages it can handle,
    make sure to call <a href="lsp.html#vim.lsp.start()">vim.lsp.start()</a> within a <a href="autocmd.html#FileType">FileType</a> autocmd. Either
    use <a href="autocmd.html#%3Aau">:au</a>, <a href="api.html#nvim_create_autocmd()">nvim_create_autocmd()</a> or put the call in a
    <code>ftplugin/&lt;filetype_name&gt;.lua</code> (See <a href="usr_05.html#ftplugin-name">ftplugin-name</a>)

</div>
<div class="help-para">
<div class="help-column_heading">Attributes:</div>
        Since: 0.8.0

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{config}</code>  (<code>vim.lsp.ClientConfig</code>) Configuration for the server. See
                  <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a>.
</div><div class="help-li" style=""> <code>{opts}</code>    (<code>table?</code>) Optional keyword arguments.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{reuse_client}?</code>
                    (<code>fun(client: vim.lsp.Client, config: vim.lsp.ClientConfig): boolean</code>)
                    Predicate used to decide if a client should be re-used.
                    Used on all running clients. The default implementation
                    re-uses a client if it has the same name and if the given
                    workspace folders (or root_dir) are all included in the
                    client's workspace folders.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}?</code> (<code>integer</code>) Buffer handle to attach to if
                    starting or re-using a client (0 for current).
</div><div class="help-li" style="margin-left: 3rem;"> <code>{attach}?</code> (<code>boolean</code>) Whether to attach the client to a
                    buffer (default true). If set to <code>false</code>, <code>reuse_client</code>
                    and <code>bufnr</code> will be ignored.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{silent}?</code> (<code>boolean</code>) Suppress error reporting if the LSP
                    server fails to start (default false).
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>integer?</code>) client_id

</div>
<div class="help-para">
status()                                                    <span id="vim.lsp.status()" class="help-tag-right"><a href="#vim.lsp.status()">vim.lsp.status()</a></span><br>
    Consumes the latest progress messages from all clients and formats them as
    a string. Empty if there are no clients or if no new messages

</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>string</code>)

</div>
<div class="help-para">
tagfunc(<code>{pattern}</code>, <code>{flags}</code>)                                <span id="vim.lsp.tagfunc()" class="help-tag-right"><a href="#vim.lsp.tagfunc()">vim.lsp.tagfunc()</a></span><br>
    Provides an interface between the built-in client and <a href="options.html#'tagfunc'">'tagfunc'</a>.

</div>
<div class="help-para">
    When used with normal mode commands (e.g. <a href="tagsrch.html#CTRL-%5D">CTRL-]</a>) this will invoke the
    "textDocument/definition" LSP method to find the tag under the cursor.
    Otherwise, uses "workspace/symbol". If no results are returned from any
    LSP servers, falls back to using built-in tags.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{pattern}</code>  (<code>string</code>) Pattern used to find a workspace symbol
</div><div class="help-li" style=""> <code>{flags}</code>    (<code>string</code>) See <a href="tagsrch.html#tag-function">tag-function</a>
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>table[]</code>) tags A list of matching tags

</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp.buf" class="help-heading">Lua module: vim.lsp.buf<span class="help-heading-tags">                                              <span id="lsp-buf" class="help-tag"><a href="#lsp-buf">lsp-buf</a></span></h2>


</div>
<div class="help-para">
The <code>vim.lsp.buf_â€¦</code> functions perform operations for LSP clients attached to
the current buffer.

</div>
<div class="help-para">
<span id="vim.lsp.ListOpts" class="help-tag"><a href="#vim.lsp.ListOpts">vim.lsp.ListOpts</a></span>

</div>
<div class="help-para">
<div class="help-column_heading">Fields:</div>
<div class="help-li" style=""> <code>{on_list}?</code>  (<code>fun(t: vim.lsp.LocationOpts.OnList)</code>) list-handler
                    replacing the default handler. Called for any non-empty
                    result. This table can be used with <a href="vimfn.html#setqflist()">setqflist()</a> or
                    <a href="vimfn.html#setloclist()">setloclist()</a>. E.g.:<pre><code class="language-lua">local function on_list(options)
  vim.fn.setqflist({}, ' ', options)
  vim.cmd.cfirst()
end
vim.lsp.buf.definition({ on_list = on_list })
vim.lsp.buf.references(nil, { on_list = on_list })</code></pre>
</div>
</div>
<div class="help-para">
<div class="help-li" style=""> <code>{loclist}?</code>  (<code>boolean</code>) Whether to use the <a href="quickfix.html#location-list">location-list</a> or the
                    <a href="quickfix.html#quickfix">quickfix</a> list in the default handler.<pre><code class="language-lua">vim.lsp.buf.definition({ loclist = true })
vim.lsp.buf.references(nil, { loclist = false })</code></pre>
</div>
</div>
<div class="help-para">
<span id="vim.lsp.LocationOpts" class="help-tag"><a href="#vim.lsp.LocationOpts">vim.lsp.LocationOpts</a></span>
    Extends: <a href="lsp.html#vim.lsp.ListOpts">vim.lsp.ListOpts</a>

</div>
<div class="help-para">
<div class="help-column_heading">Fields:</div>
<div class="help-li" style=""> <code>{reuse_win}?</code>  (<code>boolean</code>) Jump to existing window if buffer is already
                      open.
</div>
</div>
<div class="help-para">
<span id="vim.lsp.LocationOpts.OnList" class="help-tag"><a href="#vim.lsp.LocationOpts.OnList">vim.lsp.LocationOpts.OnList</a></span>

</div>
<div class="help-para">
<div class="help-column_heading">Fields:</div>
<div class="help-li" style=""> <code>{items}</code>     (<code>vim.quickfix.entry[]</code>) See <a href="vimfn.html#setqflist-what">setqflist-what</a>
</div><div class="help-li" style=""> <code>{title}?</code>    (<code>string</code>) Title for the list.
</div><div class="help-li" style=""> <code>{context}?</code>  (<code>{ bufnr: integer, method: string }</code>) Subset of <code>ctx</code>
                    from <a href="lsp.html#lsp-handler">lsp-handler</a>.
</div>
</div>
<div class="help-para">
<span id="vim.lsp.buf.hover.Opts" class="help-tag"><a href="#vim.lsp.buf.hover.Opts">vim.lsp.buf.hover.Opts</a></span>
    Extends: <a href="lsp.html#vim.lsp.util.open_floating_preview.Opts">vim.lsp.util.open_floating_preview.Opts</a>

</div>
<div class="help-para">
<div class="help-column_heading">Fields:</div>
<div class="help-li" style=""> <code>{silent}?</code>  (<code>boolean</code>)
</div>
</div>
<div class="help-para">
<span id="vim.lsp.buf.signature_help.Opts" class="help-tag"><a href="#vim.lsp.buf.signature_help.Opts">vim.lsp.buf.signature_help.Opts</a></span>
    Extends: <a href="lsp.html#vim.lsp.util.open_floating_preview.Opts">vim.lsp.util.open_floating_preview.Opts</a>

</div>
<div class="help-para">
<div class="help-column_heading">Fields:</div>
<div class="help-li" style=""> <code>{silent}?</code>  (<code>boolean</code>)
</div>
</div>
<div class="help-para">
                                          <span id="vim.lsp.buf.add_workspace_folder()" class="help-tag-right"><a href="#vim.lsp.buf.add_workspace_folder()">vim.lsp.buf.add_workspace_folder()</a></span><br>
add_workspace_folder(<code>{workspace_folder}</code>)
    Add the folder at path to the workspace folders. If <code>{path}</code> is not
    provided, the user will be prompted for a path using <a href="vimfn.html#input()">input()</a>.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{workspace_folder}</code>  (<code>string?</code>)
</div>
</div>
<div class="help-para">
clear_references()                            <span id="vim.lsp.buf.clear_references()" class="help-tag-right"><a href="#vim.lsp.buf.clear_references()">vim.lsp.buf.clear_references()</a></span><br>
    Removes document highlights from current buffer.

</div>
<div class="help-para">
code_action(<code>{opts}</code>)                                <span id="vim.lsp.buf.code_action()" class="help-tag-right"><a href="#vim.lsp.buf.code_action()">vim.lsp.buf.code_action()</a></span><br>
    Selects a code action (LSP: "textDocument/codeAction" request) available
    at cursor position.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{opts}</code>  (<code>table?</code>) A table with the following fields:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{context}?</code> (<code>lsp.CodeActionContext</code>) Corresponds to
                  <code>CodeActionContext</code> of the LSP specification:
</div><div class="help-li" style="margin-left: 4rem;"> <code>{diagnostics}?</code> (<code>table</code>) LSP <code>Diagnostic[]</code>. Inferred from
                    the current position if not provided.
</div><div class="help-li" style="margin-left: 4rem;"> <code>{only}?</code> (<code>table</code>) List of LSP <code>CodeActionKind</code>s used to
                    filter the code actions. Most language servers support
                    values like <code>refactor</code> or <code>quickfix</code>.
</div><div class="help-li" style="margin-left: 4rem;"> <code>{triggerKind}?</code> (<code>integer</code>) The reason why code actions
                    were requested.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{filter}?</code>
                  (<code>fun(x: lsp.CodeAction|lsp.Command, client_id: integer):boolean</code>)
                  Predicate taking a code action or command and the provider's
                  ID. If it returns false, the action is filtered out.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{apply}?</code> (<code>boolean</code>) When set to <code>true</code>, and there is just
                  one remaining action (after filtering), the action is
                  applied without user query.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{range}?</code> (<code>{start: integer[], end: integer[]}</code>) Range for
                  which code actions should be requested. If in visual mode
                  this defaults to the active selection. Table must contain
                  <code>start</code> and <code>end</code> keys with <code>{row,col}</code> tuples using mark-like
                  indexing. See <a href="api.html#api-indexing">api-indexing</a>
</div>
</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_codeAction">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_codeAction</a>
</div><div class="help-li" style=""> vim.lsp.protocol.CodeActionTriggerKind
</div>
</div>
<div class="help-para">
declaration(<code>{opts}</code>)                                <span id="vim.lsp.buf.declaration()" class="help-tag-right"><a href="#vim.lsp.buf.declaration()">vim.lsp.buf.declaration()</a></span><br>
    Jumps to the declaration of the symbol under the cursor.

</div>
<div class="help-para">
<div class="help-column_heading"><b>    Note:</b></div>
<div class="help-li" style=""> Many servers do not implement this method. Generally, see
        <a href="lsp.html#vim.lsp.buf.definition()">vim.lsp.buf.definition()</a> instead.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{opts}</code>  (<code>vim.lsp.LocationOpts?</code>) See <a href="lsp.html#vim.lsp.LocationOpts">vim.lsp.LocationOpts</a>.
</div>
</div>
<div class="help-para">
definition(<code>{opts}</code>)                                  <span id="vim.lsp.buf.definition()" class="help-tag-right"><a href="#vim.lsp.buf.definition()">vim.lsp.buf.definition()</a></span><br>
    Jumps to the definition of the symbol under the cursor.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{opts}</code>  (<code>vim.lsp.LocationOpts?</code>) See <a href="lsp.html#vim.lsp.LocationOpts">vim.lsp.LocationOpts</a>.
</div>
</div>
<div class="help-para">
document_highlight()                        <span id="vim.lsp.buf.document_highlight()" class="help-tag-right"><a href="#vim.lsp.buf.document_highlight()">vim.lsp.buf.document_highlight()</a></span><br>
    Send request to the server to resolve document highlights for the current
    text document position. This request can be triggered by a key mapping or
    by events such as <code>CursorHold</code>, e.g.:<pre><code class="language-vim">autocmd CursorHold  &lt;buffer&gt; lua vim.lsp.buf.document_highlight()
autocmd CursorHoldI &lt;buffer&gt; lua vim.lsp.buf.document_highlight()
autocmd CursorMoved &lt;buffer&gt; lua vim.lsp.buf.clear_references()</code></pre>

</div>
<div class="help-para">
<b>    Note:</b> Usage of <a href="lsp.html#vim.lsp.buf.document_highlight()">vim.lsp.buf.document_highlight()</a> requires the following
    highlight groups to be defined or you won't be able to see the actual
    highlights. <a href="lsp.html#hl-LspReferenceText">hl-LspReferenceText</a> <a href="lsp.html#hl-LspReferenceRead">hl-LspReferenceRead</a>
    <a href="lsp.html#hl-LspReferenceWrite">hl-LspReferenceWrite</a>

</div>
<div class="help-para">
document_symbol(<code>{opts}</code>)                        <span id="vim.lsp.buf.document_symbol()" class="help-tag-right"><a href="#vim.lsp.buf.document_symbol()">vim.lsp.buf.document_symbol()</a></span><br>
    Lists all symbols in the current buffer in the <a href="quickfix.html#location-list">location-list</a>.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{opts}</code>  (<code>vim.lsp.ListOpts?</code>) See <a href="lsp.html#vim.lsp.ListOpts">vim.lsp.ListOpts</a>.
</div>
</div>
<div class="help-para">
format(<code>{opts}</code>)                                          <span id="vim.lsp.buf.format()" class="help-tag-right"><a href="#vim.lsp.buf.format()">vim.lsp.buf.format()</a></span><br>
    Formats a buffer using the attached (and optionally filtered) language
    server clients.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{opts}</code>  (<code>table?</code>) A table with the following fields:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{formatting_options}?</code> (<code>lsp.FormattingOptions</code>) Can be used
                  to specify FormattingOptions. Some unspecified options will
                  be automatically derived from the current Nvim options. See
                  <a href="https://microsoft.github.io/language-server-protocol/specification/#formattingOptions">https://microsoft.github.io/language-server-protocol/specification/#formattingOptions</a>
</div><div class="help-li" style="margin-left: 3rem;"> <code>{timeout_ms}?</code> (<code>integer</code>, default: <code>1000</code>) Time in
                  milliseconds to block for formatting requests. No effect if
                  async=true.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}?</code> (<code>integer</code>, default: current buffer) Restrict
                  formatting to the clients attached to the given buffer.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{filter}?</code> (<code>fun(client: vim.lsp.Client): boolean?</code>)
                  Predicate used to filter clients. Receives a client as
                  argument and must return a boolean. Clients matching the
                  predicate are included. Example:<pre><code class="language-lua">-- Never request typescript-language-server for formatting
vim.lsp.buf.format {
  filter = function(client) return client.name ~= "ts_ls" end
}</code></pre>
</div>
</div>
<div class="help-para">
<div class="help-li" style=""> <code>{async}?</code> (<code>boolean</code>, default: false) If true the method
                  won't block. Editing the buffer while formatting
                  asynchronous can lead to unexpected changes.
</div><div class="help-li" style=""> <code>{id}?</code> (<code>integer</code>) Restrict formatting to the client with ID
                  (client.id) matching this field.
</div><div class="help-li" style=""> <code>{name}?</code> (<code>string</code>) Restrict formatting to the client with
                  name (client.name) matching this field.
</div><div class="help-li" style=""> <code>{range}?</code>
                  (<code>{start:[integer,integer],end:[integer, integer]}|{start:[integer,integer],end:[integer,integer]}[]</code>,
                  default: current selection in visual mode, <code>nil</code> in other
                  modes, formatting the full buffer) Range to format. Table
                  must contain <code>start</code> and <code>end</code> keys with <code>{row,col}</code> tuples
                  using (1,0) indexing. Can also be a list of tables that
                  contain <code>start</code> and <code>end</code> keys as described above, in which
                  case <code>textDocument/rangesFormatting</code> support is required.
</div>
</div>
<div class="help-para">
hover(<code>{config}</code>)                                          <span id="vim.lsp.buf.hover()" class="help-tag-right"><a href="#vim.lsp.buf.hover()">vim.lsp.buf.hover()</a></span><br>
    Displays hover information about the symbol under the cursor in a floating
    window. The window will be dismissed on cursor move. Calling the function
    twice will jump into the floating window (thus by default, "KK" will open
    the hover window and focus it). In the floating window, all commands and
    mappings are available as usual, except that "q" dismisses the window. You
    can scroll the contents the same as you would any other buffer.

</div>
<div class="help-para">
<b>    Note:</b> to disable hover highlights, add the following to your config:<pre><code class="language-lua">vim.api.nvim_create_autocmd('ColorScheme', {
  callback = function()
    vim.api.nvim_set_hl(0, 'LspReferenceTarget', {})
  end,
})</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{config}</code>  (<code>vim.lsp.buf.hover.Opts?</code>) See <a href="lsp.html#vim.lsp.buf.hover.Opts">vim.lsp.buf.hover.Opts</a>.
</div>
</div>
<div class="help-para">
implementation(<code>{opts}</code>)                          <span id="vim.lsp.buf.implementation()" class="help-tag-right"><a href="#vim.lsp.buf.implementation()">vim.lsp.buf.implementation()</a></span><br>
    Lists all the implementations for the symbol under the cursor in the
    quickfix window.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{opts}</code>  (<code>vim.lsp.LocationOpts?</code>) See <a href="lsp.html#vim.lsp.LocationOpts">vim.lsp.LocationOpts</a>.
</div>
</div>
<div class="help-para">
incoming_calls()                                <span id="vim.lsp.buf.incoming_calls()" class="help-tag-right"><a href="#vim.lsp.buf.incoming_calls()">vim.lsp.buf.incoming_calls()</a></span><br>
    Lists all the call sites of the symbol under the cursor in the <a href="quickfix.html#quickfix">quickfix</a>
    window. If the symbol can resolve to multiple items, the user can pick one
    in the <a href="vimfn.html#inputlist()">inputlist()</a>.

</div>
<div class="help-para">
list_workspace_folders()                <span id="vim.lsp.buf.list_workspace_folders()" class="help-tag-right"><a href="#vim.lsp.buf.list_workspace_folders()">vim.lsp.buf.list_workspace_folders()</a></span><br>
    List workspace folders.

</div>
<div class="help-para">
outgoing_calls()                                <span id="vim.lsp.buf.outgoing_calls()" class="help-tag-right"><a href="#vim.lsp.buf.outgoing_calls()">vim.lsp.buf.outgoing_calls()</a></span><br>
    Lists all the items that are called by the symbol under the cursor in the
    <a href="quickfix.html#quickfix">quickfix</a> window. If the symbol can resolve to multiple items, the user
    can pick one in the <a href="vimfn.html#inputlist()">inputlist()</a>.

</div>
<div class="help-para">
references(<code>{context}</code>, <code>{opts}</code>)                       <span id="vim.lsp.buf.references()" class="help-tag-right"><a href="#vim.lsp.buf.references()">vim.lsp.buf.references()</a></span><br>
    Lists all the references to the symbol under the cursor in the quickfix
    window.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{context}</code>  (<code>lsp.ReferenceContext?</code>) Context for the request
</div><div class="help-li" style=""> <code>{opts}</code>     (<code>vim.lsp.ListOpts?</code>) See <a href="lsp.html#vim.lsp.ListOpts">vim.lsp.ListOpts</a>.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_references">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_references</a>
</div>
</div>
<div class="help-para">
                                       <span id="vim.lsp.buf.remove_workspace_folder()" class="help-tag-right"><a href="#vim.lsp.buf.remove_workspace_folder()">vim.lsp.buf.remove_workspace_folder()</a></span><br>
remove_workspace_folder(<code>{workspace_folder}</code>)
    Remove the folder at path from the workspace folders. If <code>{path}</code> is not
    provided, the user will be prompted for a path using <a href="vimfn.html#input()">input()</a>.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{workspace_folder}</code>  (<code>string?</code>)
</div>
</div>
<div class="help-para">
rename(<code>{new_name}</code>, <code>{opts}</code>)                              <span id="vim.lsp.buf.rename()" class="help-tag-right"><a href="#vim.lsp.buf.rename()">vim.lsp.buf.rename()</a></span><br>
    Renames all references to the symbol under the cursor.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{new_name}</code>  (<code>string?</code>) If not provided, the user will be prompted for
                    a new name using <a href="lua.html#vim.ui.input()">vim.ui.input()</a>.
</div><div class="help-li" style=""> <code>{opts}</code>      (<code>table?</code>) Additional options:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{filter}?</code> (<code>fun(client: vim.lsp.Client): boolean?</code>)
                      Predicate used to filter clients. Receives a client as
                      argument and must return a boolean. Clients matching the
                      predicate are included.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{name}?</code> (<code>string</code>) Restrict clients used for rename to
                      ones where client.name matches this field.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}?</code> (<code>integer</code>) (default: current buffer)
</div>
</div>
<div class="help-para">
                                               <span id="vim.lsp.buf.selection_range()" class="help-tag-right"><a href="#vim.lsp.buf.selection_range()">vim.lsp.buf.selection_range()</a></span><br>
selection_range(<code>{direction}</code>, <code>{timeout_ms}</code>)
    Perform an incremental selection at the cursor position based on ranges
    given by the LSP. The <code>direction</code> parameter specifies the number of times
    to expand the selection. Negative values will shrink the selection.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{direction}</code>   (<code>integer</code>)
</div><div class="help-li" style=""> <code>{timeout_ms}</code>  (<code>integer?</code>) (default: <code>1000</code>) Maximum time
                      (milliseconds) to wait for a result.
</div>
</div>
<div class="help-para">
signature_help(<code>{config}</code>)                        <span id="vim.lsp.buf.signature_help()" class="help-tag-right"><a href="#vim.lsp.buf.signature_help()">vim.lsp.buf.signature_help()</a></span><br>
    Displays signature information about the symbol under the cursor in a
    floating window. Allows cycling through signature overloads with <code>&lt;C-s&gt;</code>,
    which can be remapped via <code>&lt;Plug&gt;(nvim.lsp.ctrl-s)</code>

</div>
<div class="help-para">
    Example:<pre><code class="language-lua">vim.keymap.set('n', '&lt;C-b&gt;', '&lt;Plug&gt;(nvim.lsp.ctrl-s)')</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{config}</code>  (<code>vim.lsp.buf.signature_help.Opts?</code>) See
                  <a href="lsp.html#vim.lsp.buf.signature_help.Opts">vim.lsp.buf.signature_help.Opts</a>.
</div>
</div>
<div class="help-para">
type_definition(<code>{opts}</code>)                        <span id="vim.lsp.buf.type_definition()" class="help-tag-right"><a href="#vim.lsp.buf.type_definition()">vim.lsp.buf.type_definition()</a></span><br>
    Jumps to the definition of the type of the symbol under the cursor.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{opts}</code>  (<code>vim.lsp.LocationOpts?</code>) See <a href="lsp.html#vim.lsp.LocationOpts">vim.lsp.LocationOpts</a>.
</div>
</div>
<div class="help-para">
typehierarchy(<code>{kind}</code>)                            <span id="vim.lsp.buf.typehierarchy()" class="help-tag-right"><a href="#vim.lsp.buf.typehierarchy()">vim.lsp.buf.typehierarchy()</a></span><br>
    Lists all the subtypes or supertypes of the symbol under the cursor in the
    <a href="quickfix.html#quickfix">quickfix</a> window. If the symbol can resolve to multiple items, the user
    can pick one using <a href="lua.html#vim.ui.select()">vim.ui.select()</a>.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{kind}</code>  (<code>"subtypes"|"supertypes"</code>)
</div>
</div>
<div class="help-para">
workspace_diagnostics(<code>{opts}</code>)            <span id="vim.lsp.buf.workspace_diagnostics()" class="help-tag-right"><a href="#vim.lsp.buf.workspace_diagnostics()">vim.lsp.buf.workspace_diagnostics()</a></span><br>
    Request workspace-wide diagnostics.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{opts}</code>  (<code>table?</code>) A table with the following fields:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{client_id}?</code> (<code>integer</code>) Only request diagnostics from the
                  indicated client. If nil, the request is sent to all
                  clients.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_dagnostics">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_dagnostics</a>
</div>
</div>
<div class="help-para">
workspace_symbol(<code>{query}</code>, <code>{opts}</code>)             <span id="vim.lsp.buf.workspace_symbol()" class="help-tag-right"><a href="#vim.lsp.buf.workspace_symbol()">vim.lsp.buf.workspace_symbol()</a></span><br>
    Lists all symbols in the current workspace in the quickfix window.

</div>
<div class="help-para">
    The list is filtered against <code>{query}</code>; if the argument is omitted from the
    call, the user is prompted to enter a string on the command line. An empty
    string means no filtering is done.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{query}</code>  (<code>string?</code>) optional
</div><div class="help-li" style=""> <code>{opts}</code>   (<code>vim.lsp.ListOpts?</code>) See <a href="lsp.html#vim.lsp.ListOpts">vim.lsp.ListOpts</a>.
</div>
</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp.client" class="help-heading">Lua module: vim.lsp.client<span class="help-heading-tags">                                        <span id="lsp-client" class="help-tag"><a href="#lsp-client">lsp-client</a></span></h2>


</div>
<div class="help-para">
<span id="vim.lsp.Client" class="help-tag"><a href="#vim.lsp.Client">vim.lsp.Client</a></span>

</div>
<div class="help-para">
<div class="help-column_heading">Fields:</div>
<div class="help-li" style=""> <code>{attached_buffers}</code>      (<code>table&lt;integer,true&gt;</code>)
</div><div class="help-li" style=""> <code>{capabilities}</code>          (<code>lsp.ClientCapabilities</code>) Capabilities
                                provided by the client (editor or tool), at
                                startup.
</div><div class="help-li" style=""> <code>{commands}</code>              (<code>table&lt;string,fun(command: lsp.Command, ctx: table)&gt;</code>)
                                Client commands. See <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a>.
</div><div class="help-li" style=""> <code>{config}</code>                (<code>vim.lsp.ClientConfig</code>) Copy of the config
                                passed to <a href="lsp.html#vim.lsp.start()">vim.lsp.start()</a>. See
                                <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a>.
</div><div class="help-li" style=""> <code>{dynamic_capabilities}</code>  (<code>lsp.DynamicCapabilities</code>) Capabilities
                                provided at runtime (after startup).
</div><div class="help-li" style=""> <code>{exit_timeout}</code>          (<code>integer|boolean</code>, default: <code>false</code>)
                                Milliseconds to wait for server to exit
                                cleanly after sending the "shutdown" request
                                before sending kill -15. If set to false,
                                waits indefinitely. If set to true, nvim will
                                kill the server immediately.
</div><div class="help-li" style=""> <code>{flags}</code>                 (<code>table</code>) Experimental client flags:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{allow_incremental_sync}?</code> (<code>boolean</code>,
                                  default: <code>true</code>) Allow using incremental
                                  sync for buffer edits
</div><div class="help-li" style="margin-left: 3rem;"> <code>{debounce_text_changes}?</code> (<code>integer</code>,
                                  default: <code>150</code>) Debounce <code>didChange</code>
                                  notifications to the server by the given
                                  number in milliseconds.
</div><div class="help-li" style=""> <code>{get_language_id}</code>       (<code>fun(bufnr: integer, filetype: string): string</code>)
                                See <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a>.
</div><div class="help-li" style=""> <code>{handlers}</code>              (<code>table&lt;string,lsp.Handler&gt;</code>) See
                                <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a>.
</div><div class="help-li" style=""> <code>{id}</code>                    (<code>integer</code>) The id allocated to the client.
</div><div class="help-li" style=""> <code>{initialized}</code>           (<code>true?</code>)
</div><div class="help-li" style=""> <code>{name}</code>                  (<code>string</code>) See <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a>.
</div><div class="help-li" style=""> <code>{offset_encoding}</code>       (<code>'utf-8'|'utf-16'|'utf-32'</code>) See
                                <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a>.
</div><div class="help-li" style=""> <code>{progress}</code>              (<code>vim.lsp.Client.Progress</code>) A ring buffer
                                (<a href="lua.html#vim.ringbuf()">vim.ringbuf()</a>) containing progress messages
                                sent by the server. See
                                <a href="lsp.html#vim.lsp.Client.Progress">vim.lsp.Client.Progress</a>.
</div><div class="help-li" style=""> <code>{requests}</code>              (<code>table&lt;integer,{ type: string, bufnr: integer, method: string}?&gt;</code>)
                                The current pending requests in flight to the
                                server. Entries are key-value pairs with the
                                key being the request id while the value is a
                                table with <code>type</code>, <code>bufnr</code>, and <code>method</code>
                                key-value pairs. <code>type</code> is either "pending"
                                for an active request, or "cancel" for a
                                cancel request. It will be "complete"
                                ephemerally while executing <a href="lsp.html#LspRequest">LspRequest</a>
                                autocmds when replies are received from the
                                server.
</div><div class="help-li" style=""> <code>{root_dir}</code>              (<code>string?</code>) See <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a>.
</div><div class="help-li" style=""> <code>{rpc}</code>                   (<code>vim.lsp.rpc.PublicClient</code>) RPC client
                                object, for low level interaction with the
                                client. See <a href="lsp.html#vim.lsp.rpc.start()">vim.lsp.rpc.start()</a>.
</div><div class="help-li" style=""> <code>{server_capabilities}</code>   (<code>lsp.ServerCapabilities?</code>) Response from the
                                server sent on <code>initialize</code> describing the
                                server's capabilities.
</div><div class="help-li" style=""> <code>{server_info}</code>           (<code>lsp.ServerInfo?</code>) Response from the server
                                sent on <code>initialize</code> describing server
                                information (e.g. version).
</div><div class="help-li" style=""> <code>{settings}</code>              (<code>lsp.LSPObject</code>) See <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a>.
</div><div class="help-li" style=""> <code>{workspace_folders}</code>     (<code>lsp.WorkspaceFolder[]?</code>) See
                                <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a>.
</div><div class="help-li" style=""> <code>{request}</code>               (<code>fun(self: vim.lsp.Client, method: string, params: table?, handler: lsp.Handler?, bufnr: integer?): boolean, integer?</code>)
                                See <a href="lsp.html#Client%3Arequest()">Client:request()</a>.
</div><div class="help-li" style=""> <code>{request_sync}</code>          (<code>fun(self: vim.lsp.Client, method: string, params: table, timeout_ms: integer?, bufnr: integer?): {err: lsp.ResponseError?, result:any}?, string?</code>)
                                See <a href="lsp.html#Client%3Arequest_sync()">Client:request_sync()</a>.
</div><div class="help-li" style=""> <code>{notify}</code>                (<code>fun(self: vim.lsp.Client, method: string, params: table?): boolean</code>)
                                See <a href="lsp.html#Client%3Anotify()">Client:notify()</a>.
</div><div class="help-li" style=""> <code>{cancel_request}</code>        (<code>fun(self: vim.lsp.Client, id: integer): boolean</code>)
                                See <a href="lsp.html#Client%3Acancel_request()">Client:cancel_request()</a>.
</div><div class="help-li" style=""> <code>{stop}</code>                  (<code>fun(self: vim.lsp.Client, force: integer|boolean?)</code>)
                                See <a href="lsp.html#Client%3Astop()">Client:stop()</a>.
</div><div class="help-li" style=""> <code>{is_stopped}</code>            (<code>fun(self: vim.lsp.Client): boolean</code>) See
                                <a href="lsp.html#Client%3Ais_stopped()">Client:is_stopped()</a>.
</div><div class="help-li" style=""> <code>{exec_cmd}</code>              (<code>fun(self: vim.lsp.Client, command: lsp.Command, context: {bufnr?: integer}?, handler: lsp.Handler?)</code>)
                                See <a href="lsp.html#Client%3Aexec_cmd()">Client:exec_cmd()</a>.
</div><div class="help-li" style=""> <code>{on_attach}</code>             (<code>fun(self: vim.lsp.Client, bufnr: integer)</code>)
                                See <a href="lsp.html#Client%3Aon_attach()">Client:on_attach()</a>.
</div><div class="help-li" style=""> <code>{supports_method}</code>       (<code>fun(self: vim.lsp.Client, method: string|string, bufnr: integer?)</code>)
                                See <a href="lsp.html#Client%3Asupports_method()">Client:supports_method()</a>.
</div>
</div>
<div class="help-para">
<span id="vim.lsp.Client.Progress" class="help-tag"><a href="#vim.lsp.Client.Progress">vim.lsp.Client.Progress</a></span>
    Extends: <a href="lua.html#vim.Ringbuf">vim.Ringbuf</a>

</div>
<div class="help-para">
<div class="help-column_heading">Fields:</div>
<div class="help-li" style=""> <code>{pending}</code>  (<code>table&lt;lsp.ProgressToken,lsp.LSPAny&gt;</code>)
</div>
</div>
<div class="help-para">
<span id="vim.lsp.ClientConfig" class="help-tag"><a href="#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a></span>

</div>
<div class="help-para">
<div class="help-column_heading">Fields:</div>
<div class="help-li" style=""> <code>{before_init}?</code>         (<code>fun(params: lsp.InitializeParams, config: vim.lsp.ClientConfig)</code>)
                               Callback which can modify parameters before
                               they are sent to the server. Invoked before LSP
                               "initialize" phase (after <code>cmd</code> is invoked),
                               where <code>params</code> is the parameters being sent to
                               the server and <code>config</code> is the config passed to
                               <a href="lsp.html#vim.lsp.start()">vim.lsp.start()</a>.
</div><div class="help-li" style=""> <code>{capabilities}?</code>        (<code>lsp.ClientCapabilities</code>) Map overriding the
                               default capabilities defined by
                               <a href="lsp.html#vim.lsp.protocol.make_client_capabilities()">vim.lsp.protocol.make_client_capabilities()</a>,
                               passed to the language server on
                               initialization. Hint: use
                               make_client_capabilities() and modify its
                               result.
</div><div class="help-li" style="margin-left: 3rem;"><b> Note:</b> To send an empty dictionary use
                                 <a href="lua.html#vim.empty_dict()">vim.empty_dict()</a>, else it will be encoded
                                 as an array.
</div><div class="help-li" style=""> <code>{cmd}</code>                  (<code>string[]|fun(dispatchers: vim.lsp.rpc.Dispatchers, config: vim.lsp.ClientConfig): vim.lsp.rpc.PublicClient</code>)
                               Command <code>string[]</code> that launches the language
                               server (treated as in <a href="vimfn.html#jobstart()">jobstart()</a>, must be
                               absolute or on <code>$PATH</code>, shell constructs like
                               "~" are not expanded), or function that creates
                               an RPC client. Function receives a
                               <code>dispatchers</code> table and the resolved <code>config</code>,
                               and must return a table with member functions
                               <code>request</code>, <code>notify</code>, <code>is_closing</code> and
                               <code>terminate</code>. See <a href="lsp.html#vim.lsp.rpc.request()">vim.lsp.rpc.request()</a>,
                               <a href="lsp.html#vim.lsp.rpc.notify()">vim.lsp.rpc.notify()</a>. For TCP there is a
                               builtin RPC client factory:
                               <a href="lsp.html#vim.lsp.rpc.connect()">vim.lsp.rpc.connect()</a>
</div><div class="help-li" style=""> <code>{cmd_cwd}?</code>             (<code>string</code>, default: cwd) Directory to launch
                               the <code>cmd</code> process. Not related to <code>root_dir</code>.
</div><div class="help-li" style=""> <code>{cmd_env}?</code>             (<code>table</code>) Environment variables passed to the
                               LSP process on spawn. Non-string values are
                               coerced to string. Example:<pre><code class="language-lua">{ PORT = 8080; HOST = '0.0.0.0'; }</code></pre>
</div>
</div>
<div class="help-para">
<div class="help-li" style=""> <code>{commands}?</code>            (<code>table&lt;string,fun(command: lsp.Command, ctx: table)&gt;</code>)
                               Map of client-defined commands overriding the
                               global <a href="lsp.html#vim.lsp.commands">vim.lsp.commands</a>.
</div><div class="help-li" style=""> <code>{detached}?</code>            (<code>boolean</code>, default: <code>true</code>) Daemonize the
                               server process so that it runs in a separate
                               process group from Nvim. Nvim will shutdown the
                               process on exit, but if Nvim fails to exit
                               cleanly this could leave behind orphaned server
                               processes.
</div><div class="help-li" style=""> <code>{exit_timeout}?</code>        (<code>integer|boolean</code>, default: <code>false</code>)
                               Milliseconds to wait for server to exit cleanly
                               after sending the "shutdown" request before
                               sending kill -15. If set to false, waits
                               indefinitely. If set to true, nvim will kill
                               the server immediately.
</div><div class="help-li" style=""> <code>{flags}?</code>               (<code>table</code>) Experimental client flags:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{allow_incremental_sync}?</code> (<code>boolean</code>,
                                 default: <code>true</code>) Allow using incremental sync
                                 for buffer edits
</div><div class="help-li" style="margin-left: 3rem;"> <code>{debounce_text_changes}?</code> (<code>integer</code>, default:
                                 <code>150</code>) Debounce <code>didChange</code> notifications to
                                 the server by the given number in
                                 milliseconds.
</div><div class="help-li" style=""> <code>{get_language_id}?</code>     (<code>fun(bufnr: integer, filetype: string): string</code>)
                               Language ID as string. Defaults to the buffer
                               filetype.
</div><div class="help-li" style=""> <code>{handlers}?</code>            (<code>table&lt;string,function&gt;</code>) Map of LSP method
                               names to <a href="lsp.html#lsp-handler">lsp-handler</a>s.
</div><div class="help-li" style=""> <code>{init_options}?</code>        (<code>lsp.LSPObject</code>) Values to pass in the
                               initialization request as
                               <code>initializationOptions</code>. See <code>initialize</code> in
                               the LSP spec.
</div><div class="help-li" style=""> <code>{name}?</code>                (<code>string</code>, default: client-id) Name in logs and
                               user messages.
</div><div class="help-li" style=""> <code>{offset_encoding}?</code>     (<code>'utf-8'|'utf-16'|'utf-32'</code>) Called "position
                               encoding" in LSP spec. The encoding that the
                               LSP server expects, used for communication. Not
                               validated. Can be modified in <code>on_init</code> before
                               text is sent to the server.
</div><div class="help-li" style=""> <code>{on_attach}?</code>           (<code>elem_or_list&lt;fun(client: vim.lsp.Client, bufnr: integer)&gt;</code>)
                               Callback invoked when client attaches to a
                               buffer.
</div><div class="help-li" style=""> <code>{on_error}?</code>            (<code>fun(code: integer, err: string)</code>) Callback
                               invoked when the client operation throws an
                               error. <code>code</code> is a number describing the error.
                               Other arguments may be passed depending on the
                               error kind. See <code>vim.lsp.rpc.client_errors</code> for
                               possible errors. Use
                               <code>vim.lsp.rpc.client_errors[code]</code> to get
                               human-friendly name.
</div><div class="help-li" style=""> <code>{on_exit}?</code>             (<code>elem_or_list&lt;fun(code: integer, signal: integer, client_id: integer)&gt;</code>)
                               Callback invoked on client exit.
</div><div class="help-li" style="margin-left: 3rem;"> code: exit code of the process
</div><div class="help-li" style="margin-left: 3rem;"> signal: number describing the signal used to
                                 terminate (if any)
</div><div class="help-li" style="margin-left: 3rem;"> client_id: client handle
</div><div class="help-li" style=""> <code>{on_init}?</code>             (<code>elem_or_list&lt;fun(client: vim.lsp.Client, init_result: lsp.InitializeResult)&gt;</code>)
                               Callback invoked after LSP "initialize", where
                               <code>result</code> is a table of <code>capabilities</code> and
                               anything else the server may send. For example,
                               clangd sends <code>init_result.offsetEncoding</code> if
                               <code>capabilities.offsetEncoding</code> was sent to it.
                               You can only modify the
                               <code>client.offset_encoding</code> here before any
                               notifications are sent.
</div><div class="help-li" style=""> <code>{root_dir}?</code>            (<code>string</code>) Directory where the LSP server will
                               base its workspaceFolders, rootUri, and
                               rootPath on initialization.
</div><div class="help-li" style=""> <code>{settings}?</code>            (<code>lsp.LSPObject</code>) Map of language
                               server-specific settings, decided by the
                               client. Sent to the LS if requested via
                               <code>workspace/configuration</code>. Keys are
                               case-sensitive.
</div><div class="help-li" style=""> <code>{trace}?</code>               (<code>'off'|'messages'|'verbose'</code>, default: "off")
                               Passed directly to the language server in the
                               initialize request. Invalid/empty values will
</div><div class="help-li" style=""> <code>{workspace_folders}?</code>   (<code>lsp.WorkspaceFolder[]</code>) List of workspace
                               folders passed to the language server. For
                               backwards compatibility rootUri and rootPath
                               are derived from the first workspace folder in
                               this list. Can be <code>null</code> if the client supports
                               workspace folders but none are configured. See
                               <code>workspaceFolders</code> in LSP spec.
</div><div class="help-li" style=""> <code>{workspace_required}?</code>  (<code>boolean</code>, default: <code>false</code>) Server requires a
                               workspace (no "single file" support).<b> Note:</b>
                               Without a workspace, cross-file features
                               (navigation, hover) may or may not work
                               depending on the language server, even if the
                               server doesn't require a workspace.
</div>
</div>
<div class="help-para">
Client:cancel_request(<code>{id}</code>)                          <span id="Client%3Acancel_request()" class="help-tag-right"><a href="#Client%3Acancel_request()">Client:cancel_request()</a></span><br>
    Cancels a request with a given request id.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{id}</code>  (<code>integer</code>) id of request to cancel
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>boolean</code>) status indicating if the notification was successful.

</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="lsp.html#Client%3Anotify()">Client:notify()</a>
</div>
</div>
<div class="help-para">
Client:exec_cmd(<code>{command}</code>, <code>{context}</code>, <code>{handler}</code>)           <span id="Client%3Aexec_cmd()" class="help-tag-right"><a href="#Client%3Aexec_cmd()">Client:exec_cmd()</a></span><br>
    Execute a lsp command, either via client command function (if available)
    or via workspace/executeCommand (if supported by the server)

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{command}</code>  (<code>lsp.Command</code>)
</div><div class="help-li" style=""> <code>{context}</code>  (<code>{bufnr?: integer}?</code>)
</div><div class="help-li" style=""> <code>{handler}</code>  (<code>lsp.Handler?</code>) only called if a server command
</div>
</div>
<div class="help-para">
Client:is_stopped()                                      <span id="Client%3Ais_stopped()" class="help-tag-right"><a href="#Client%3Ais_stopped()">Client:is_stopped()</a></span><br>
    Checks whether a client is stopped.

</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>boolean</code>) true if client is stopped or in the process of being
        stopped; false otherwise

</div>
<div class="help-para">
Client:notify(<code>{method}</code>, <code>{params}</code>)                            <span id="Client%3Anotify()" class="help-tag-right"><a href="#Client%3Anotify()">Client:notify()</a></span><br>
    Sends a notification to an LSP server.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{method}</code>  (<code>string</code>) LSP method name.
</div><div class="help-li" style=""> <code>{params}</code>  (<code>table?</code>) LSP request params.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>boolean</code>) status indicating if the notification was successful. If
        it is false, then the client has shutdown.

</div>
<div class="help-para">
Client:on_attach(<code>{bufnr}</code>)                                 <span id="Client%3Aon_attach()" class="help-tag-right"><a href="#Client%3Aon_attach()">Client:on_attach()</a></span><br>
    Runs the on_attach function from the client's config if it was defined.
    Useful for buffer-local setup.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>  (<code>integer</code>) Buffer number
</div>
</div>
<div class="help-para">
                                                            <span id="Client%3Arequest()" class="help-tag-right"><a href="#Client%3Arequest()">Client:request()</a></span><br>
Client:request(<code>{method}</code>, <code>{params}</code>, <code>{handler}</code>, <code>{bufnr}</code>)
    Sends a request to the server.

</div>
<div class="help-para">
    This is a thin wrapper around <code>{client.rpc.request}</code> with some additional
    checks for capabilities and handler availability.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{method}</code>   (<code>string</code>) LSP method name.
</div><div class="help-li" style=""> <code>{params}</code>   (<code>table?</code>) LSP request params.
</div><div class="help-li" style=""> <code>{handler}</code>  (<code>lsp.Handler?</code>) Response <a href="lsp.html#lsp-handler">lsp-handler</a> for this method.
</div><div class="help-li" style=""> <code>{bufnr}</code>    (<code>integer?</code>) (default: 0) Buffer handle, or 0 for current.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return (multiple):</div>
        (<code>boolean</code>) status indicates whether the request was successful. If it
        is <code>false</code>, then it will always be <code>false</code> (the client has shutdown).
        (<code>integer?</code>) request_id Can be used with <a href="lsp.html#Client%3Acancel_request()">Client:cancel_request()</a>.
        <code>nil</code> is request failed.

</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="lsp.html#vim.lsp.buf_request_all()">vim.lsp.buf_request_all()</a>
</div>
</div>
<div class="help-para">
                                                       <span id="Client%3Arequest_sync()" class="help-tag-right"><a href="#Client%3Arequest_sync()">Client:request_sync()</a></span><br>
Client:request_sync(<code>{method}</code>, <code>{params}</code>, <code>{timeout_ms}</code>, <code>{bufnr}</code>)
    Sends a request to the server and synchronously waits for the response.

</div>
<div class="help-para">
    This is a wrapper around <a href="lsp.html#Client%3Arequest()">Client:request()</a>

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{method}</code>      (<code>string</code>) LSP method name.
</div><div class="help-li" style=""> <code>{params}</code>      (<code>table</code>) LSP request params.
</div><div class="help-li" style=""> <code>{timeout_ms}</code>  (<code>integer?</code>) Maximum time in milliseconds to wait for a
                      result. Defaults to 1000
</div><div class="help-li" style=""> <code>{bufnr}</code>       (<code>integer?</code>) (default: 0) Buffer handle, or 0 for
                      current.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return (multiple):</div>
        (<code>{err: lsp.ResponseError?, result:any}?</code>) <code>result</code> and <code>err</code> from the
        <a href="lsp.html#lsp-handler">lsp-handler</a>. <code>nil</code> is the request was unsuccessful
        (<code>string?</code>) err On timeout, cancel or error, where <code>err</code> is a string
        describing the failure reason.

</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="lsp.html#vim.lsp.buf_request_sync()">vim.lsp.buf_request_sync()</a>
</div>
</div>
<div class="help-para">
Client:stop(<code>{force}</code>)                                           <span id="Client%3Astop()" class="help-tag-right"><a href="#Client%3Astop()">Client:stop()</a></span><br>
    Stops a client, optionally with force after a timeout.

</div>
<div class="help-para">
    By default, it will request the server to shutdown, then force a shutdown
    if the server has not exited after <code>self.exit_timeout</code> milliseconds. If
    you request to stop a client which has previously been requested to
    shutdown, it will automatically escalate and force shutdown immediately,
    regardless of the value of <code>force</code> (or <code>self.exit_timeout</code> if <code>nil</code>).

</div>
<div class="help-para">
<b>    Note:</b> Forcing shutdown while a server is busy writing out project or index
    files can lead to file corruption.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{force}</code>  (<code>integer|boolean?</code>, default: <code>self.exit_timeout</code>) Time in
                 milliseconds to wait before forcing a shutdown. If false,
                 only request the server to shutdown, but don't force it. If
                 true, force a shutdown immediately.
</div>
</div>
<div class="help-para">
Client:supports_method(<code>{method}</code>, <code>{bufnr}</code>)           <span id="Client%3Asupports_method()" class="help-tag-right"><a href="#Client%3Asupports_method()">Client:supports_method()</a></span><br>
    Checks if a client supports a given method. Always returns true for
    unknown off-spec methods.

</div>
<div class="help-para">
<b>    Note:</b> Some language server capabilities can be file specific.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{method}</code>  (<code>string|string</code>)
</div><div class="help-li" style=""> <code>{bufnr}</code>   (<code>integer?</code>)
</div>
</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp.codelens" class="help-heading">Lua module: vim.lsp.codelens<span class="help-heading-tags">                                    <span id="lsp-codelens" class="help-tag"><a href="#lsp-codelens">lsp-codelens</a></span></h2>


</div>
<div class="help-para">
clear(<code>{client_id}</code>, <code>{bufnr}</code>)                         <span id="vim.lsp.codelens.clear()" class="help-tag-right"><a href="#vim.lsp.codelens.clear()">vim.lsp.codelens.clear()</a></span><br>
    Clear the lenses

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{client_id}</code>  (<code>integer?</code>) filter by client_id. All clients if nil
</div><div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer?</code>) filter by buffer. All buffers if nil, 0 for
                     current buffer
</div>
</div>
<div class="help-para">
display(<code>{lenses}</code>, <code>{bufnr}</code>, <code>{client_id}</code>)           <span id="vim.lsp.codelens.display()" class="help-tag-right"><a href="#vim.lsp.codelens.display()">vim.lsp.codelens.display()</a></span><br>
    Display the lenses using virtual text

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{lenses}</code>     (<code>lsp.CodeLens[]?</code>) lenses to display
</div><div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer</code>)
</div><div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>)
</div>
</div>
<div class="help-para">
get(<code>{bufnr}</code>)                                          <span id="vim.lsp.codelens.get()" class="help-tag-right"><a href="#vim.lsp.codelens.get()">vim.lsp.codelens.get()</a></span><br>
    Return all lenses for the given buffer

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>  (<code>integer</code>) Buffer number. 0 can be used for the current
                 buffer.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>lsp.CodeLens[]</code>)

</div>
<div class="help-para">
on_codelens(<code>{err}</code>, <code>{result}</code>, <code>{ctx}</code>)           <span id="vim.lsp.codelens.on_codelens()" class="help-tag-right"><a href="#vim.lsp.codelens.on_codelens()">vim.lsp.codelens.on_codelens()</a></span><br>
    <a href="lsp.html#lsp-handler">lsp-handler</a> for the method <code>textDocument/codeLens</code>

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{err}</code>     (<code>lsp.ResponseError?</code>)
</div><div class="help-li" style=""> <code>{result}</code>  (<code>lsp.CodeLens[]</code>)
</div><div class="help-li" style=""> <code>{ctx}</code>     (<code>lsp.HandlerContext</code>)
</div>
</div>
<div class="help-para">
refresh(<code>{opts}</code>)                                   <span id="vim.lsp.codelens.refresh()" class="help-tag-right"><a href="#vim.lsp.codelens.refresh()">vim.lsp.codelens.refresh()</a></span><br>
    Refresh the lenses.

</div>
<div class="help-para">
    It is recommended to trigger this using an autocmd or via keymap.

</div>
<div class="help-para">
    Example:<pre><code class="language-vim">autocmd BufEnter,CursorHold,InsertLeave &lt;buffer&gt; lua vim.lsp.codelens.refresh({ bufnr = 0 })</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{opts}</code>  (<code>table?</code>) Optional fields
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}</code> (<code>integer?</code>) filter by buffer. All buffers if nil, 0
                  for current buffer
</div>
</div>
<div class="help-para">
run()                                                 <span id="vim.lsp.codelens.run()" class="help-tag-right"><a href="#vim.lsp.codelens.run()">vim.lsp.codelens.run()</a></span><br>
    Run the code lens available in the current line.

</div>
<div class="help-para">
save(<code>{lenses}</code>, <code>{bufnr}</code>, <code>{client_id}</code>)                 <span id="vim.lsp.codelens.save()" class="help-tag-right"><a href="#vim.lsp.codelens.save()">vim.lsp.codelens.save()</a></span><br>
    Store lenses for a specific buffer and client

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{lenses}</code>     (<code>lsp.CodeLens[]?</code>) lenses to store
</div><div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer</code>)
</div><div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>)
</div>
</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp.completion" class="help-heading">Lua module: vim.lsp.completion<span class="help-heading-tags">                                <span id="lsp-completion" class="help-tag"><a href="#lsp-completion">lsp-completion</a></span></h2>


</div>
<div class="help-para">
The <code>vim.lsp.completion</code> module enables insert-mode completion driven by an
LSP server. Call <code>enable()</code> to make it available through Nvim builtin
completion (via the <a href="autocmd.html#CompleteDone">CompleteDone</a> event). Specify <code>autotrigger=true</code> to
activate "auto-completion" when you type any of the server-defined
<code>triggerCharacters</code>. Use <code>CTRL-Y</code> to select an item from the completion menu.
<a href="insert.html#complete_CTRL-Y">complete_CTRL-Y</a>

</div>
<div class="help-para">
Example: activate LSP-driven auto-completion:<pre><code class="language-lua">-- Works best with completeopt=noselect.
-- Use CTRL-Y to select an item. |complete_CTRL-Y|
vim.cmd[[set completeopt+=menuone,noselect,popup]]
vim.lsp.start({
  name = 'ts_ls',
  cmd = â€¦,
  on_attach = function(client, bufnr)
    vim.lsp.completion.enable(true, client.id, bufnr, {
      autotrigger = true,
      convert = function(item)
        return { abbr = item.label:gsub('%b()', '') }
      end,
    })
  end,
})</code></pre>

</div>
<div class="help-para">
                                                          <span id="lsp-autocompletion" class="help-tag-right"><a href="#lsp-autocompletion">lsp-autocompletion</a></span><br>

</div>
<div class="help-para">
The LSP <code>triggerCharacters</code> field decides when to trigger autocompletion. If
you want to trigger on EVERY keypress you can either:
<div class="help-li" style=""> Extend <code>client.server_capabilities.completionProvider.triggerCharacters</code> on
  <code>LspAttach</code>, before you call
  <code>vim.lsp.completion.enable(â€¦ {autotrigger=true})</code>. See the <a href="lsp.html#lsp-attach">lsp-attach</a>
  example.
</div><div class="help-li" style=""> Call <code>vim.lsp.completion.get()</code> from an <a href="autocmd.html#InsertCharPre">InsertCharPre</a> autocommand.
</div>
</div>
<div class="help-para">
                                                 <span id="vim.lsp.completion.enable()" class="help-tag-right"><a href="#vim.lsp.completion.enable()">vim.lsp.completion.enable()</a></span><br>
enable(<code>{enable}</code>, <code>{client_id}</code>, <code>{bufnr}</code>, <code>{opts}</code>)
    Enables or disables completions from the given language client in the
    given buffer. Effects of enabling completions are:
<div class="help-li" style=""> Calling <a href="lsp.html#vim.lsp.completion.get()">vim.lsp.completion.get()</a> uses the enabled clients to retrieve
      completion candidates
</div><div class="help-li" style=""> Accepting a completion candidate using <code>&lt;c-y&gt;</code> applies side effects like
      expanding snippets, text edits (e.g. insert import statements) and
      executing associated commands. This works for completions triggered via
      autotrigger, omnifunc or completion.get()
</div>
</div>
<div class="help-para">
    Example: <a href="lsp.html#lsp-attach">lsp-attach</a> <a href="lsp.html#lsp-completion">lsp-completion</a>

</div>
<div class="help-para">
<b>    Note:</b> the behavior of <code>autotrigger=true</code> is controlled by the LSP
    <code>triggerCharacters</code> field. You can override it on LspAttach, see
    <a href="lsp.html#lsp-autocompletion">lsp-autocompletion</a>.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{enable}</code>     (<code>boolean</code>) True to enable, false to disable
</div><div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>) Client ID
</div><div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer</code>) Buffer handle, or 0 for the current buffer
</div><div class="help-li" style=""> <code>{opts}</code>       (<code>table?</code>) A table with the following fields:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{autotrigger}?</code> (<code>boolean</code>) (default: false) When true,
                       completion triggers automatically based on the server's
                       <code>triggerCharacters</code>.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{convert}?</code> (<code>fun(item: lsp.CompletionItem): table</code>)
                       Transforms an LSP CompletionItem to <a href="insert.html#complete-items">complete-items</a>.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{cmp}?</code> (<code>fun(a: table, b: table): boolean</code>) Comparator
                       for sorting merged completion items from all servers.
</div>
</div>
<div class="help-para">
get(<code>{opts}</code>)                                         <span id="vim.lsp.completion.get()" class="help-tag-right"><a href="#vim.lsp.completion.get()">vim.lsp.completion.get()</a></span><br>
    Triggers LSP completion once in the current buffer, if LSP completion is
    enabled (see <a href="lsp.html#lsp-attach">lsp-attach</a> <a href="lsp.html#lsp-completion">lsp-completion</a>).

</div>
<div class="help-para">
    Used by the default LSP <a href="insert.html#omnicompletion">omnicompletion</a> provider <a href="lsp.html#vim.lsp.omnifunc()">vim.lsp.omnifunc()</a>,
    thus <a href="insert.html#i_CTRL-X_CTRL-O">i_CTRL-X_CTRL-O</a> invokes this in LSP-enabled buffers. Use <code>CTRL-Y</code> to
    select an item from the completion menu. <a href="insert.html#complete_CTRL-Y">complete_CTRL-Y</a>

</div>
<div class="help-para">
    To invoke manually with <code>CTRL-s</code>pace, use this mapping:<pre><code class="language-lua">-- Use CTRL-space to trigger LSP completion.
-- Use CTRL-Y to select an item. |complete_CTRL-Y|
vim.keymap.set('i', '&lt;c-space&gt;', function()
  vim.lsp.completion.get()
end)</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{opts}</code>  (<code>table?</code>) A table with the following fields:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{ctx}?</code> (<code>lsp.CompletionContext</code>) Completion context.
                  Defaults to a trigger kind of <code>invoked</code>.
</div>
</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp.diagnostic" class="help-heading">Lua module: vim.lsp.diagnostic<span class="help-heading-tags">                                <span id="lsp-diagnostic" class="help-tag"><a href="#lsp-diagnostic">lsp-diagnostic</a></span></h2>


</div>
<div class="help-para">
This module provides functionality for requesting LSP diagnostics for a
document/workspace and populating them using <a href="diagnostic.html#vim.Diagnostic">vim.Diagnostic</a>s.
<code>DiagnosticRelatedInformation</code> is supported: it is included in the window
shown by <a href="diagnostic.html#vim.diagnostic.open_float()">vim.diagnostic.open_float()</a>. When the cursor is on a line with
related information, <a href="editing.html#gf">gf</a> jumps to the problem location.

</div>
<div class="help-para">
from(<code>{diagnostics}</code>)                                <span id="vim.lsp.diagnostic.from()" class="help-tag-right"><a href="#vim.lsp.diagnostic.from()">vim.lsp.diagnostic.from()</a></span><br>
    Converts the input <code>vim.Diagnostic</code>s to LSP diagnostics.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{diagnostics}</code>  (<code>vim.Diagnostic[]</code>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>lsp.Diagnostic[]</code>)

</div>
<div class="help-para">
                                          <span id="vim.lsp.diagnostic.get_namespace()" class="help-tag-right"><a href="#vim.lsp.diagnostic.get_namespace()">vim.lsp.diagnostic.get_namespace()</a></span><br>
get_namespace(<code>{client_id}</code>, <code>{is_pull}</code>)
    Get the diagnostic namespace associated with an LSP client
    <a href="diagnostic.html#vim.diagnostic">vim.diagnostic</a> for diagnostics

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>) The id of the LSP client
</div><div class="help-li" style=""> <code>{is_pull}</code>    (<code>boolean?</code>) Whether the namespace is for a pull or push
                     client. Defaults to push
</div>
</div>
<div class="help-para">
                                          <span id="vim.lsp.diagnostic.on_diagnostic()" class="help-tag-right"><a href="#vim.lsp.diagnostic.on_diagnostic()">vim.lsp.diagnostic.on_diagnostic()</a></span><br>
on_diagnostic(<code>{error}</code>, <code>{result}</code>, <code>{ctx}</code>)
    <a href="lsp.html#lsp-handler">lsp-handler</a> for the method "textDocument/diagnostic"

</div>
<div class="help-para">
    See <a href="diagnostic.html#vim.diagnostic.config()">vim.diagnostic.config()</a> for configuration options.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{error}</code>   (<code>lsp.ResponseError?</code>)
</div><div class="help-li" style=""> <code>{result}</code>  (<code>lsp.DocumentDiagnosticReport</code>)
</div><div class="help-li" style=""> <code>{ctx}</code>     (<code>lsp.HandlerContext</code>)
</div>
</div>
<div class="help-para">
                                 <span id="vim.lsp.diagnostic.on_publish_diagnostics()" class="help-tag-right"><a href="#vim.lsp.diagnostic.on_publish_diagnostics()">vim.lsp.diagnostic.on_publish_diagnostics()</a></span><br>
on_publish_diagnostics(<code>{_}</code>, <code>{params}</code>, <code>{ctx}</code>)
    <a href="lsp.html#lsp-handler">lsp-handler</a> for the method "textDocument/publishDiagnostics"

</div>
<div class="help-para">
    See <a href="diagnostic.html#vim.diagnostic.config()">vim.diagnostic.config()</a> for configuration options.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{params}</code>  (<code>lsp.PublishDiagnosticsParams</code>)
</div><div class="help-li" style=""> <code>{ctx}</code>     (<code>lsp.HandlerContext</code>)
</div>
</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp.document_color" class="help-heading">Lua module: vim.lsp.document_color<span class="help-heading-tags">                        <span id="lsp-document_color" class="help-tag"><a href="#lsp-document_color">lsp-document_color</a></span></h2>


</div>
<div class="help-para">
This module provides LSP support for highlighting color references in a
document. Highlighting is enabled by default.

</div>
<div class="help-para">
color_presentation()             <span id="vim.lsp.document_color.color_presentation()" class="help-tag-right"><a href="#vim.lsp.document_color.color_presentation()">vim.lsp.document_color.color_presentation()</a></span><br>
    Select from a list of presentations for the color under the cursor.

</div>
<div class="help-para">
enable(<code>{enable}</code>, <code>{bufnr}</code>, <code>{opts}</code>)            <span id="vim.lsp.document_color.enable()" class="help-tag-right"><a href="#vim.lsp.document_color.enable()">vim.lsp.document_color.enable()</a></span><br>
    Enables document highlighting from the given language client in the given
    buffer.

</div>
<div class="help-para">
    To "toggle", pass the inverse of <code>is_enabled()</code>:<pre><code class="language-lua">vim.lsp.document_color.enable(not vim.lsp.document_color.is_enabled())</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{enable}</code>  (<code>boolean?</code>) True to enable, false to disable. (default:
                  <code>true</code>)
</div><div class="help-li" style=""> <code>{bufnr}</code>   (<code>integer?</code>) Buffer handle, or 0 for current. (default: 0)
</div><div class="help-li" style=""> <code>{opts}</code>    (<code>table?</code>) A table with the following fields:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{style}?</code>
                    (<code>'background'|'foreground'|'virtual'|string|fun(bufnr: integer, range: Range4, hex_code: string)</code>)
                    Highlight style. It can be one of the pre-defined styles,
                    a string to be used as virtual text, or a function that
                    receives the buffer handle, the range (start line, start
                    col, end line, end col) and the resolved hex color.
                    (default: <code>'background'</code>)
</div>
</div>
<div class="help-para">
is_enabled(<code>{bufnr}</code>)                      <span id="vim.lsp.document_color.is_enabled()" class="help-tag-right"><a href="#vim.lsp.document_color.is_enabled()">vim.lsp.document_color.is_enabled()</a></span><br>
    Query whether document colors are enabled in the given buffer.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>  (<code>integer?</code>) Buffer handle, or 0 for current. (default: 0)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>boolean</code>)

</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp.inlay_hint" class="help-heading">Lua module: vim.lsp.inlay_hint<span class="help-heading-tags">                                <span id="lsp-inlay_hint" class="help-tag"><a href="#lsp-inlay_hint">lsp-inlay_hint</a></span></h2>


</div>
<div class="help-para">
enable(<code>{enable}</code>, <code>{filter}</code>)                       <span id="vim.lsp.inlay_hint.enable()" class="help-tag-right"><a href="#vim.lsp.inlay_hint.enable()">vim.lsp.inlay_hint.enable()</a></span><br>
    Enables or disables inlay hints for the <code>{filter}</code>ed scope.

</div>
<div class="help-para">
    To "toggle", pass the inverse of <code>is_enabled()</code>:<pre><code class="language-lua">vim.lsp.inlay_hint.enable(not vim.lsp.inlay_hint.is_enabled())</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">Attributes:</div>
        Since: 0.10.0

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{enable}</code>  (<code>boolean?</code>) true/nil to enable, false to disable
</div><div class="help-li" style=""> <code>{filter}</code>  (<code>table?</code>) Optional filters <a href="lua.html#kwargs">kwargs</a>, or <code>nil</code> for all.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}</code> (<code>integer?</code>) Buffer number, or 0 for current
                    buffer, or nil for all.
</div>
</div>
<div class="help-para">
get(<code>{filter}</code>)                                       <span id="vim.lsp.inlay_hint.get()" class="help-tag-right"><a href="#vim.lsp.inlay_hint.get()">vim.lsp.inlay_hint.get()</a></span><br>
    Get the list of inlay hints, (optionally) restricted by buffer or range.

</div>
<div class="help-para">
    Example usage:<pre><code class="language-lua">local hint = vim.lsp.inlay_hint.get({ bufnr = 0 })[1] -- 0 for current buffer
local client = vim.lsp.get_client_by_id(hint.client_id)
local resp = client:request_sync('inlayHint/resolve', hint.inlay_hint, 100, 0)
local resolved_hint = assert(resp and resp.result, resp.err)
vim.lsp.util.apply_text_edits(resolved_hint.textEdits, 0, client.encoding)
location = resolved_hint.label[1].location
client:request('textDocument/hover', {
  textDocument = { uri = location.uri },
  position = location.range.start,
})</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">Attributes:</div>
        Since: 0.10.0

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{filter}</code>  (<code>table?</code>) Optional filters <a href="lua.html#kwargs">kwargs</a>:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}</code> (<code>integer?</code>)
</div><div class="help-li" style="margin-left: 3rem;"> <code>{range}</code> (<code>lsp.Range?</code>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>table[]</code>) A list of objects with the following fields:
<div class="help-li" style=""> <code>{bufnr}</code> (<code>integer</code>)
</div><div class="help-li" style=""> <code>{client_id}</code> (<code>integer</code>)
</div><div class="help-li" style=""> <code>{inlay_hint}</code> (<code>lsp.InlayHint</code>)
</div>
</div>
<div class="help-para">
is_enabled(<code>{filter}</code>)                         <span id="vim.lsp.inlay_hint.is_enabled()" class="help-tag-right"><a href="#vim.lsp.inlay_hint.is_enabled()">vim.lsp.inlay_hint.is_enabled()</a></span><br>
    Query whether inlay hint is enabled in the <code>{filter}</code>ed scope

</div>
<div class="help-para">
<div class="help-column_heading">Attributes:</div>
        Since: 0.10.0

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{filter}</code>  (<code>table?</code>) Optional filters <a href="lua.html#kwargs">kwargs</a>, or <code>nil</code> for all.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}</code> (<code>integer?</code>) Buffer number, or 0 for current
                    buffer, or nil for all.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>boolean</code>)

</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp.inline_completion" class="help-heading">Lua module: vim.lsp.inline_completion<span class="help-heading-tags">                  <span id="lsp-inline_completion" class="help-tag"><a href="#lsp-inline_completion">lsp-inline_completion</a></span></h2>


</div>
<div class="help-para">
This module provides the LSP "inline completion" feature, for completing
multiline text (e.g., whole methods) instead of just a word or line, which may
result in "syntactically or semantically incorrect" code. Unlike regular
completion, this is typically presented as overlay text instead of a menu of
completion candidates.

</div>
<div class="help-para">
LSP spec:
<a href="https://microsoft.github.io/language-server-protocol/specifications/lsp/3.18/specification/#textDocument_inlineCompletion">https://microsoft.github.io/language-server-protocol/specifications/lsp/3.18/specification/#textDocument_inlineCompletion</a>

</div>
<div class="help-para">
To try it out, here is a quickstart example using Copilot:       <span id="lsp-copilot" class="help-tag"><a href="#lsp-copilot">lsp-copilot</a></span>
<div class="help-li-num" style=""> Install Copilot:
<pre><code class="language-sh">npm install --global @github/copilot-language-server</code></pre></div>
</div>
<div class="help-para">
<div class="help-li-num" style=""> Define a config, (or copy <code>lsp/copilot.lua</code> from
   <a href="https://github.com/neovim/nvim-lspconfig">https://github.com/neovim/nvim-lspconfig</a>):<pre><code class="language-lua"> vim.lsp.config('copilot', {
  cmd = { 'copilot-language-server', '--stdio', },
  root_markers = { '.git' },
})</code></pre>
</div>
</div>
<div class="help-para">
<div class="help-li-num" style=""> Activate the config:
<pre><code class="language-lua">vim.lsp.enable('copilot')</code></pre></div>
</div>
<div class="help-para">
<div class="help-li-num" style=""> Sign in to Copilot, or use the <code>:LspCopilotSignIn</code> command from
   <a href="https://github.com/neovim/nvim-lspconfig">https://github.com/neovim/nvim-lspconfig</a>
</div>
</div>
<div class="help-para">
<div class="help-li-num" style=""> Enable inline completion:
<pre><code class="language-lua">vim.lsp.inline_completion.enable()</code></pre></div>
</div>
<div class="help-para">
<div class="help-li-num" style=""> Set a keymap for <code>vim.lsp.inline_completion.get()</code> and invoke the keymap.
</div>
</div>
<div class="help-para">
<span id="vim.lsp.inline_completion.Item" class="help-tag"><a href="#vim.lsp.inline_completion.Item">vim.lsp.inline_completion.Item</a></span>

</div>
<div class="help-para">
<div class="help-column_heading">Fields:</div>
<div class="help-li" style=""> <code>{client_id}</code>    (<code>integer</code>) Client ID
</div><div class="help-li" style=""> <code>{insert_text}</code>  (<code>string|lsp.StringValue</code>) The text to be inserted, can
                       be a snippet.
</div><div class="help-li" style=""> <code>{range}?</code>       (<code>vim.Range</code>) Which range it be applied.
</div><div class="help-li" style=""> <code>{command}?</code>     (<code>lsp.Command</code>) Corresponding server command.
</div>
</div>
<div class="help-para">
enable(<code>{enable}</code>, <code>{filter}</code>)                <span id="vim.lsp.inline_completion.enable()" class="help-tag-right"><a href="#vim.lsp.inline_completion.enable()">vim.lsp.inline_completion.enable()</a></span><br>
    Enables or disables inline completion for the <code>{filter}</code>ed scope, inline
    completion will automatically be refreshed when you are in insert mode.

</div>
<div class="help-para">
    To "toggle", pass the inverse of <code>is_enabled()</code>:<pre><code class="language-lua">vim.lsp.inline_completion.enable(not vim.lsp.inline_completion.is_enabled())</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{enable}</code>  (<code>boolean?</code>) true/nil to enable, false to disable
</div><div class="help-li" style=""> <code>{filter}</code>  (<code>table?</code>) Optional filters <a href="lua.html#kwargs">kwargs</a>,
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}?</code> (<code>integer</code>, default: all) Buffer number, or 0 for
                    current buffer, or nil for all.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{client_id}?</code> (<code>integer</code>, default: all) Client ID, or nil
                    for all.
</div>
</div>
<div class="help-para">
get(<code>{opts}</code>)                                  <span id="vim.lsp.inline_completion.get()" class="help-tag-right"><a href="#vim.lsp.inline_completion.get()">vim.lsp.inline_completion.get()</a></span><br>
    Accept the currently displayed completion candidate to the buffer.

</div>
<div class="help-para">
    It returns false when no candidate can be accepted, so you can use the
    return value to implement a fallback:<pre><code class="language-lua"> vim.keymap.set('i', '&lt;Tab&gt;', function()
  if not vim.lsp.inline_completion.get() then
    return '&lt;Tab&gt;'
  end
end, { expr = true, desc = 'Accept the current inline completion' })</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{opts}</code>  (<code>table?</code>) A table with the following fields:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}?</code> (<code>integer</code>, default: 0) Buffer handle, or 0 for
                  current.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{on_accept}?</code>
                  (<code>fun(item: vim.lsp.inline_completion.Item): vim.lsp.inline_completion.Item?</code>)
                  A callback triggered when a completion item is accepted. You
                  can use it to modify the completion item that is about to be
                  accepted and return it to apply the changes, or return <code>nil</code>
                  to prevent the changes from being applied to the buffer so
                  you can implement custom behavior.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>boolean</code>) <code>true</code> if a completion was applied, else <code>false</code>.

</div>
<div class="help-para">
is_enabled(<code>{filter}</code>)                  <span id="vim.lsp.inline_completion.is_enabled()" class="help-tag-right"><a href="#vim.lsp.inline_completion.is_enabled()">vim.lsp.inline_completion.is_enabled()</a></span><br>
    Query whether inline completion is enabled in the <code>{filter}</code>ed scope

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{filter}</code>  (<code>table?</code>) Optional filters <a href="lua.html#kwargs">kwargs</a>,
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}?</code> (<code>integer</code>, default: all) Buffer number, or 0 for
                    current buffer, or nil for all.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{client_id}?</code> (<code>integer</code>, default: all) Client ID, or nil
                    for all.
</div>
</div>
<div class="help-para">
select(<code>{opts}</code>)                            <span id="vim.lsp.inline_completion.select()" class="help-tag-right"><a href="#vim.lsp.inline_completion.select()">vim.lsp.inline_completion.select()</a></span><br>
    Switch between available inline completion candidates.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{opts}</code>  (<code>table?</code>) A table with the following fields:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}?</code> (<code>integer</code>) (default: current buffer)
</div><div class="help-li" style="margin-left: 3rem;"> <code>{count}?</code> (<code>integer</code>, default: v:count1) The number of
                  candidates to move by. A positive integer moves forward by
                  <code>{count}</code> candidates, while a negative integer moves backward
                  by <code>{count}</code> candidates.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{wrap}?</code> (<code>boolean</code>, default: <code>true</code>) Whether to loop around
                  file or not. Similar to <a href="options.html#'wrapscan'">'wrapscan'</a>.
</div>
</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp.linked_editing_range" class="help-heading">Lua module: vim.lsp.linked_editing_range<span class="help-heading-tags">            <span id="lsp-linked_editing_range" class="help-tag"><a href="#lsp-linked_editing_range">lsp-linked_editing_range</a></span></h2>


</div>
<div class="help-para">
The <code>vim.lsp.linked_editing_range</code> module enables "linked editing" via a
language server's <code>textDocument/linkedEditingRange</code> request. Linked editing
ranges are synchronized text regions, meaning changes in one range are
mirrored in all the others. This is helpful in HTML files for example, where
the language server can update the text of a closing tag if its opening tag
was changed.

</div>
<div class="help-para">
LSP spec:
<a href="https://microsoft.github.io/language-server-protocol/specification/#textDocument_linkedEditingRange">https://microsoft.github.io/language-server-protocol/specification/#textDocument_linkedEditingRange</a>

</div>
<div class="help-para">
enable(<code>{enable}</code>, <code>{filter}</code>)             <span id="vim.lsp.linked_editing_range.enable()" class="help-tag-right"><a href="#vim.lsp.linked_editing_range.enable()">vim.lsp.linked_editing_range.enable()</a></span><br>
    Enable or disable a linked editing session globally or for a specific
    client. The following is a practical usage example:<pre><code class="language-lua">vim.lsp.start({
  name = 'html',
  cmd = 'â€¦',
  on_attach = function(client)
    vim.lsp.linked_editing_range.enable(true, { client_id = client.id })
  end,
})</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{enable}</code>  (<code>boolean?</code>) <code>true</code> or <code>nil</code> to enable, <code>false</code> to disable.
</div><div class="help-li" style=""> <code>{filter}</code>  (<code>table?</code>) Optional filters <a href="lua.html#kwargs">kwargs</a>:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{client_id}</code> (<code>integer?</code>) Client ID, or <code>nil</code> for all.
</div>
</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp.log" class="help-heading">Lua module: vim.lsp.log<span class="help-heading-tags">                                              <span id="lsp-log" class="help-tag"><a href="#lsp-log">lsp-log</a></span></h2>


</div>
<div class="help-para">
The <code>vim.lsp.log</code> module provides logging for the Nvim LSP client.

</div>
<div class="help-para">
When debugging language servers, it is helpful to enable extra-verbose logging
of the LSP client RPC events. Example:<pre><code class="language-lua">vim.lsp.log.set_level 'trace'
require('vim.lsp.log').set_format_func(vim.inspect)</code></pre>

</div>
<div class="help-para">
Then try to run the language server, and open the log with:<pre><code class="language-vim">:lua vim.cmd('tabnew ' .. vim.lsp.log.get_filename())</code></pre>

</div>
<div class="help-para">
(Or use <code>:LspLog</code> if you have nvim-lspconfig installed.)

</div>
<div class="help-para">
<b>Note:</b>
<div class="help-li" style=""> Remember to DISABLE verbose logging ("debug" or "trace" level), else you may
  encounter performance issues.
</div><div class="help-li" style=""> "ERROR" messages containing "stderr" only indicate that the log was sent to
  stderr. Many servers send harmless messages via stderr.
</div>
</div>
<div class="help-para">
get_filename()                                    <span id="vim.lsp.log.get_filename()" class="help-tag-right"><a href="#vim.lsp.log.get_filename()">vim.lsp.log.get_filename()</a></span><br>
    Returns the log filename.

</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>string</code>) log filename

</div>
<div class="help-para">
get_level()                                          <span id="vim.lsp.log.get_level()" class="help-tag-right"><a href="#vim.lsp.log.get_level()">vim.lsp.log.get_level()</a></span><br>
    Gets the current log level.

</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>integer</code>) current log level

</div>
<div class="help-para">
set_format_func(<code>{handle}</code>)                      <span id="vim.lsp.log.set_format_func()" class="help-tag-right"><a href="#vim.lsp.log.set_format_func()">vim.lsp.log.set_format_func()</a></span><br>
    Sets the formatting function used to format logs. If the formatting
    function returns nil, the entry won't be written to the log file.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{handle}</code>  (<code>fun(level:string, ...): string?</code>) Function to apply to log
                  entries. The default will log the level, date, source and
                  line number of the caller, followed by the arguments.
</div>
</div>
<div class="help-para">
set_level(<code>{level}</code>)                                   <span id="vim.lsp.log.set_level()" class="help-tag-right"><a href="#vim.lsp.log.set_level()">vim.lsp.log.set_level()</a></span><br>
    Sets the current log level.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{level}</code>  (<code>string|integer</code>) One of <a href="lua.html#vim.log.levels">vim.log.levels</a>
</div>
</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp.on_type_formatting" class="help-heading">Lua module: vim.lsp.on_type_formatting<span class="help-heading-tags">                <span id="lsp-on_type_formatting" class="help-tag"><a href="#lsp-on_type_formatting">lsp-on_type_formatting</a></span></h2>


</div>
<div class="help-para">
enable(<code>{enable}</code>, <code>{filter}</code>)               <span id="vim.lsp.on_type_formatting.enable()" class="help-tag-right"><a href="#vim.lsp.on_type_formatting.enable()">vim.lsp.on_type_formatting.enable()</a></span><br>
    Enables/disables on-type formatting globally or for the <code>{filter}</code>ed scope.
    The following are some practical usage examples:<pre><code class="language-lua">-- Enable for all clients
vim.lsp.on_type_formatting.enable()
-- Enable for a specific client
vim.api.nvim_create_autocmd('LspAttach', {
  callback = function(args)
    local client_id = args.data.client_id
    local client = assert(vim.lsp.get_client_by_id(client_id))
    if client.name == 'rust-analyzer' then
      vim.lsp.on_type_formatting.enable(true, { client_id = client_id })
    end
  end,
})</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{enable}</code>  (<code>boolean?</code>) true/nil to enable, false to disable.
</div><div class="help-li" style=""> <code>{filter}</code>  (<code>table?</code>) Optional filters <a href="lua.html#kwargs">kwargs</a>:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{client_id}</code> (<code>integer?</code>) Client ID, or <code>nil</code> for all.
</div>
</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp.rpc" class="help-heading">Lua module: vim.lsp.rpc<span class="help-heading-tags">                                              <span id="lsp-rpc" class="help-tag"><a href="#lsp-rpc">lsp-rpc</a></span></h2>


</div>
<div class="help-para">
<span id="vim.lsp.rpc.PublicClient" class="help-tag"><a href="#vim.lsp.rpc.PublicClient">vim.lsp.rpc.PublicClient</a></span>
    Client RPC object

</div>
<div class="help-para">
<div class="help-column_heading">Fields:</div>
<div class="help-li" style=""> <code>{request}</code>     (<code>fun(method: string, params: table?, callback: fun(err?: lsp.ResponseError, result: any), notify_reply_callback?: fun(message_id: integer)):boolean,integer?</code>)
                      See <a href="lsp.html#vim.lsp.rpc.request()">vim.lsp.rpc.request()</a>
</div><div class="help-li" style=""> <code>{notify}</code>      (<code>fun(method: string, params: any): boolean</code>) See
                      <a href="lsp.html#vim.lsp.rpc.notify()">vim.lsp.rpc.notify()</a>
</div><div class="help-li" style=""> <code>{is_closing}</code>  (<code>fun(): boolean</code>) Indicates if the RPC is closing.
</div><div class="help-li" style=""> <code>{terminate}</code>   (<code>fun()</code>) Terminates the RPC client.
</div>
</div>
<div class="help-para">
connect(<code>{host_or_path}</code>, <code>{port}</code>)                        <span id="vim.lsp.rpc.connect()" class="help-tag-right"><a href="#vim.lsp.rpc.connect()">vim.lsp.rpc.connect()</a></span><br>
    Create a LSP RPC client factory that connects to either:
<div class="help-li" style=""> a named pipe (windows)
</div><div class="help-li" style=""> a domain socket (unix)
</div><div class="help-li" style=""> a host and port via TCP
</div>
</div>
<div class="help-para">
    Return a function that can be passed to the <code>cmd</code> field for
    <a href="lsp.html#vim.lsp.start()">vim.lsp.start()</a>.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{host_or_path}</code>  (<code>string</code>) host to connect to or path to a pipe/domain
                        socket
</div><div class="help-li" style=""> <code>{port}</code>          (<code>integer?</code>) TCP port to connect to. If absent the
                        first argument must be a pipe
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>fun(dispatchers: vim.lsp.rpc.Dispatchers): vim.lsp.rpc.PublicClient</code>)

</div>
<div class="help-para">
format_rpc_error(<code>{err}</code>)                       <span id="vim.lsp.rpc.format_rpc_error()" class="help-tag-right"><a href="#vim.lsp.rpc.format_rpc_error()">vim.lsp.rpc.format_rpc_error()</a></span><br>
    Constructs an error message from an LSP error object.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{err}</code>  (<code>table</code>) The error object
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>string</code>) error_message The formatted error message

</div>
<div class="help-para">
notify(<code>{method}</code>, <code>{params}</code>)                              <span id="vim.lsp.rpc.notify()" class="help-tag-right"><a href="#vim.lsp.rpc.notify()">vim.lsp.rpc.notify()</a></span><br>
    Sends a notification to the LSP server.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{method}</code>  (<code>string</code>) The invoked LSP method
</div><div class="help-li" style=""> <code>{params}</code>  (<code>table?</code>) Parameters for the invoked LSP method
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>boolean</code>) <code>true</code> if notification could be sent, <code>false</code> if not

</div>
<div class="help-para">
                                                       <span id="vim.lsp.rpc.request()" class="help-tag-right"><a href="#vim.lsp.rpc.request()">vim.lsp.rpc.request()</a></span><br>
request(<code>{method}</code>, <code>{params}</code>, <code>{callback}</code>, <code>{notify_reply_callback}</code>)
    Sends a request to the LSP server and runs <code>{callback}</code> upon response.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{method}</code>                 (<code>string</code>) The invoked LSP method
</div><div class="help-li" style=""> <code>{params}</code>                 (<code>table?</code>) Parameters for the invoked LSP
                                 method
</div><div class="help-li" style=""> <code>{callback}</code>               (<code>fun(err: lsp.ResponseError?, result: any)</code>)
                                 Callback to invoke
</div><div class="help-li" style=""> <code>{notify_reply_callback}</code>  (<code>fun(message_id: integer)?</code>) Callback to
                                 invoke as soon as a request is no longer
                                 pending
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return (multiple):</div>
        (<code>boolean</code>) success <code>true</code> if request could be sent, <code>false</code> if not
        (<code>integer?</code>) message_id if request could be sent, <code>nil</code> if not

</div>
<div class="help-para">
                                            <span id="vim.lsp.rpc.rpc_response_error()" class="help-tag-right"><a href="#vim.lsp.rpc.rpc_response_error()">vim.lsp.rpc.rpc_response_error()</a></span><br>
rpc_response_error(<code>{code}</code>, <code>{message}</code>, <code>{data}</code>)
    Creates an RPC response table <code>error</code> to be sent to the LSP response.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{code}</code>     (<code>integer</code>) RPC error code defined, see
                   <code>vim.lsp.protocol.ErrorCodes</code>
</div><div class="help-li" style=""> <code>{message}</code>  (<code>string?</code>) arbitrary message to send to server
</div><div class="help-li" style=""> <code>{data}</code>     (<code>any?</code>) arbitrary data to send to server
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>lsp.ResponseError</code>)

</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> lsp.ErrorCodes See <code>vim.lsp.protocol.ErrorCodes</code>
</div>
</div>
<div class="help-para">
start(<code>{cmd}</code>, <code>{dispatchers}</code>, <code>{extra_spawn_params}</code>)        <span id="vim.lsp.rpc.start()" class="help-tag"><a href="#vim.lsp.rpc.start()">vim.lsp.rpc.start()</a></span>
    Starts an LSP server process and create an LSP RPC client object to
    interact with it. Communication with the spawned process happens via
    stdio. For communication via TCP, spawn a process manually and use
    <a href="lsp.html#vim.lsp.rpc.connect()">vim.lsp.rpc.connect()</a>

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{cmd}</code>                 (<code>string[]</code>) Command to start the LSP server.
</div><div class="help-li" style=""> <code>{dispatchers}</code>         (<code>table?</code>) Dispatchers for LSP message types.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{notification}</code>
                                (<code>fun(method: string, params: table)</code>)
</div><div class="help-li" style="margin-left: 3rem;"> <code>{server_request}</code>
                                (<code>fun(method: string, params: table): any?, lsp.ResponseError?</code>)
</div><div class="help-li" style="margin-left: 3rem;"> <code>{on_exit}</code>
                                (<code>fun(code: integer, signal: integer)</code>)
</div><div class="help-li" style="margin-left: 3rem;"> <code>{on_error}</code> (<code>fun(code: integer, err: any)</code>)
</div><div class="help-li" style=""> <code>{extra_spawn_params}</code>  (<code>table?</code>) Additional context for the LSP server
                              process.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{cwd}?</code> (<code>string</code>) Working directory for the
                                LSP server process
</div><div class="help-li" style="margin-left: 3rem;"> <code>{detached}?</code> (<code>boolean</code>) Detach the LSP server
                                process from the current process
</div><div class="help-li" style="margin-left: 3rem;"> <code>{env}?</code> (<code>table&lt;string,string&gt;</code>) Additional
                                environment variables for LSP server process.
                                See <a href="lua.html#vim.system()">vim.system()</a>
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>vim.lsp.rpc.PublicClient</code>) See <a href="lsp.html#vim.lsp.rpc.PublicClient">vim.lsp.rpc.PublicClient</a>.

</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp.semantic_tokens" class="help-heading">Lua module: vim.lsp.semantic_tokens<span class="help-heading-tags">                      <span id="lsp-semantic_tokens" class="help-tag"><a href="#lsp-semantic_tokens">lsp-semantic_tokens</a></span></h2>


</div>
<div class="help-para">
enable(<code>{enable}</code>, <code>{filter}</code>)                  <span id="vim.lsp.semantic_tokens.enable()" class="help-tag-right"><a href="#vim.lsp.semantic_tokens.enable()">vim.lsp.semantic_tokens.enable()</a></span><br>
    Enables or disables semantic tokens for the <code>{filter}</code>ed scope.

</div>
<div class="help-para">
    To "toggle", pass the inverse of <code>is_enabled()</code>:<pre><code class="language-lua">vim.lsp.semantic_tokens.enable(not vim.lsp.semantic_tokens.is_enabled())</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{enable}</code>  (<code>boolean?</code>) true/nil to enable, false to disable
</div><div class="help-li" style=""> <code>{filter}</code>  (<code>table?</code>) Optional filters <a href="lua.html#kwargs">kwargs</a>,
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}?</code> (<code>integer</code>, default: all) Buffer number, or 0 for
                    current buffer, or nil for all.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{client_id}?</code> (<code>integer</code>, default: all) Client ID, or nil
                    for all.
</div>
</div>
<div class="help-para">
force_refresh(<code>{bufnr}</code>)               <span id="vim.lsp.semantic_tokens.force_refresh()" class="help-tag-right"><a href="#vim.lsp.semantic_tokens.force_refresh()">vim.lsp.semantic_tokens.force_refresh()</a></span><br>
    Force a refresh of all semantic tokens

</div>
<div class="help-para">
    Only has an effect if the buffer is currently active for semantic token
    highlighting (<a href="lsp.html#vim.lsp.semantic_tokens.enable()">vim.lsp.semantic_tokens.enable()</a> has been called for it)

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>  (<code>integer?</code>) filter by buffer. All buffers if nil, current
                 buffer if 0
</div>
</div>
<div class="help-para">
                                        <span id="vim.lsp.semantic_tokens.get_at_pos()" class="help-tag-right"><a href="#vim.lsp.semantic_tokens.get_at_pos()">vim.lsp.semantic_tokens.get_at_pos()</a></span><br>
get_at_pos(<code>{bufnr}</code>, <code>{row}</code>, <code>{col}</code>)
    Return the semantic token(s) at the given position. If called without
    arguments, returns the token under the cursor.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>  (<code>integer?</code>) Buffer number (0 for current buffer, default)
</div><div class="help-li" style=""> <code>{row}</code>    (<code>integer?</code>) Position row (default cursor position)
</div><div class="help-li" style=""> <code>{col}</code>    (<code>integer?</code>) Position column (default cursor position)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>table?</code>) List of tokens at position. Each token has the following
        fields:
<div class="help-li" style=""> line (integer) line number, 0-based
</div><div class="help-li" style=""> start_col (integer) start column, 0-based
</div><div class="help-li" style=""> end_line (integer) end line number, 0-based
</div><div class="help-li" style=""> end_col (integer) end column, 0-based
</div><div class="help-li" style=""> type (string) token type as string, e.g. "variable"
</div><div class="help-li" style=""> modifiers (table) token modifiers as a set. E.g., { static = true,
          readonly = true }
</div><div class="help-li" style=""> client_id (integer)
</div>
</div>
<div class="help-para">
                                   <span id="vim.lsp.semantic_tokens.highlight_token()" class="help-tag-right"><a href="#vim.lsp.semantic_tokens.highlight_token()">vim.lsp.semantic_tokens.highlight_token()</a></span><br>
highlight_token(<code>{token}</code>, <code>{bufnr}</code>, <code>{client_id}</code>, <code>{hl_group}</code>, <code>{opts}</code>)
    Highlight a semantic token.

</div>
<div class="help-para">
    Apply an extmark with a given highlight group for a semantic token. The
    mark will be deleted by the semantic token engine when appropriate; for
    example, when the LSP sends updated tokens. This function is intended for
    use inside <a href="lsp.html#LspTokenUpdate">LspTokenUpdate</a> callbacks.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{token}</code>      (<code>table</code>) A semantic token, found as <code>args.data.token</code> in
                     <a href="lsp.html#LspTokenUpdate">LspTokenUpdate</a>
</div><div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer</code>) The buffer to highlight, or <code>0</code> for current
                     buffer
</div><div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>) The ID of the <a href="lsp.html#vim.lsp.Client">vim.lsp.Client</a>
</div><div class="help-li" style=""> <code>{hl_group}</code>   (<code>string</code>) Highlight group name
</div><div class="help-li" style=""> <code>{opts}</code>       (<code>table?</code>) Optional parameters:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{priority}?</code> (<code>integer</code>, default:
                       <code>vim.hl.priorities.semantic_tokens + 3</code>) Priority for
                       the applied extmark.
</div>
</div>
<div class="help-para">
is_enabled(<code>{filter}</code>)                    <span id="vim.lsp.semantic_tokens.is_enabled()" class="help-tag-right"><a href="#vim.lsp.semantic_tokens.is_enabled()">vim.lsp.semantic_tokens.is_enabled()</a></span><br>
    Query whether semantic tokens is enabled in the <code>{filter}</code>ed scope

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{filter}</code>  (<code>table?</code>) Optional filters <a href="lua.html#kwargs">kwargs</a>,
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}?</code> (<code>integer</code>, default: all) Buffer number, or 0 for
                    current buffer, or nil for all.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{client_id}?</code> (<code>integer</code>, default: all) Client ID, or nil
                    for all.
</div>
</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp.util" class="help-heading">Lua module: vim.lsp.util<span class="help-heading-tags">                                            <span id="lsp-util" class="help-tag"><a href="#lsp-util">lsp-util</a></span></h2>


</div>
<div class="help-para">
<span id="vim.lsp.util.open_floating_preview.Opts" class="help-tag"><a href="#vim.lsp.util.open_floating_preview.Opts">vim.lsp.util.open_floating_preview.Opts</a></span>

</div>
<div class="help-para">
<div class="help-column_heading">Fields:</div>
<div class="help-li" style=""> <code>{height}?</code>        (<code>integer</code>) Height of floating window
</div><div class="help-li" style=""> <code>{width}?</code>         (<code>integer</code>) Width of floating window
</div><div class="help-li" style=""> <code>{wrap}?</code>          (<code>boolean</code>, default: <code>true</code>) Wrap long lines
</div><div class="help-li" style=""> <code>{wrap_at}?</code>       (<code>integer</code>) Character to wrap at for computing height
                         when wrap is enabled
</div><div class="help-li" style=""> <code>{max_width}?</code>     (<code>integer</code>) Maximal width of floating window
</div><div class="help-li" style=""> <code>{max_height}?</code>    (<code>integer</code>) Maximal height of floating window
</div><div class="help-li" style=""> <code>{focus_id}?</code>      (<code>string</code>) If a popup with this id is opened, then
                         focus it
</div><div class="help-li" style=""> <code>{close_events}?</code>  (<code>table</code>) List of events that closes the floating
                         window
</div><div class="help-li" style=""> <code>{focusable}?</code>     (<code>boolean</code>, default: <code>true</code>) Make float focusable.
</div><div class="help-li" style=""> <code>{focus}?</code>         (<code>boolean</code>, default: <code>true</code>) If <code>true</code>, and if
                         <code>{focusable}</code> is also <code>true</code>, focus an existing
                         floating window with the same <code>{focus_id}</code>
</div><div class="help-li" style=""> <code>{offset_x}?</code>      (<code>integer</code>) offset to add to <code>col</code>
</div><div class="help-li" style=""> <code>{offset_y}?</code>      (<code>integer</code>) offset to add to <code>row</code>
</div><div class="help-li" style=""> <code>{border}?</code>        (<code>string|(string|[string,string])[]</code>) override
                         <code>border</code>
</div><div class="help-li" style=""> <code>{zindex}?</code>        (<code>integer</code>) override <code>zindex</code>, defaults to 50
</div><div class="help-li" style=""> <code>{title}?</code>         (<code>string|[string,string][]</code>)
</div><div class="help-li" style=""> <code>{title_pos}?</code>     (<code>'left'|'center'|'right'</code>)
</div><div class="help-li" style=""> <code>{relative}?</code>      (<code>'mouse'|'cursor'|'editor'</code>) (default: <code>'cursor'</code>)
</div><div class="help-li" style=""> <code>{anchor_bias}?</code>   (<code>'auto'|'above'|'below'</code>, default: <code>'auto'</code>) Adjusts
                         placement relative to cursor.
</div><div class="help-li" style="margin-left: 3rem;"> "auto": place window based on which side of the
                           cursor has more lines
</div><div class="help-li" style="margin-left: 3rem;"> "above": place the window above the cursor unless
                           there are not enough lines to display the full
                           window height.
</div><div class="help-li" style="margin-left: 3rem;"> "below": place the window below the cursor unless
                           there are not enough lines to display the full
                           window height.
</div>
</div>
<div class="help-para">
                                     <span id="vim.lsp.util.apply_text_document_edit()" class="help-tag-right"><a href="#vim.lsp.util.apply_text_document_edit()">vim.lsp.util.apply_text_document_edit()</a></span><br>
apply_text_document_edit(<code>{text_document_edit}</code>, <code>{index}</code>, <code>{position_encoding}</code>,
                         <code>{change_annotations}</code>)
    Applies a <code>TextDocumentEdit</code>, which is a list of changes to a single
    document.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{text_document_edit}</code>  (<code>lsp.TextDocumentEdit</code>)
</div><div class="help-li" style=""> <code>{index}</code>               (<code>integer?</code>) Optional index of the edit, if from
                              a list of edits (or nil, if not from a list)
</div><div class="help-li" style=""> <code>{position_encoding}</code>   (<code>'utf-8'|'utf-16'|'utf-32'?</code>)
</div><div class="help-li" style=""> <code>{change_annotations}</code>  (<code>table&lt;string, lsp.ChangeAnnotation&gt;?</code>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentEdit">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentEdit</a>
</div>
</div>
<div class="help-para">
                                             <span id="vim.lsp.util.apply_text_edits()" class="help-tag-right"><a href="#vim.lsp.util.apply_text_edits()">vim.lsp.util.apply_text_edits()</a></span><br>
apply_text_edits(<code>{text_edits}</code>, <code>{bufnr}</code>, <code>{position_encoding}</code>,
                 <code>{change_annotations}</code>)
    Applies a list of text edits to a buffer.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{text_edits}</code>          (<code>(lsp.TextEdit|lsp.AnnotatedTextEdit)[]</code>)
</div><div class="help-li" style=""> <code>{bufnr}</code>               (<code>integer</code>) Buffer id
</div><div class="help-li" style=""> <code>{position_encoding}</code>   (<code>'utf-8'|'utf-16'|'utf-32'</code>)
</div><div class="help-li" style=""> <code>{change_annotations}</code>  (<code>table&lt;string, lsp.ChangeAnnotation&gt;?</code>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textEdit">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textEdit</a>
</div>
</div>
<div class="help-para">
                                         <span id="vim.lsp.util.apply_workspace_edit()" class="help-tag-right"><a href="#vim.lsp.util.apply_workspace_edit()">vim.lsp.util.apply_workspace_edit()</a></span><br>
apply_workspace_edit(<code>{workspace_edit}</code>, <code>{position_encoding}</code>)
    Applies a <code>WorkspaceEdit</code>.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{workspace_edit}</code>     (<code>lsp.WorkspaceEdit</code>)
</div><div class="help-li" style=""> <code>{position_encoding}</code>  (<code>'utf-8'|'utf-16'|'utf-32'</code>) (required)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_applyEdit">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_applyEdit</a>
</div>
</div>
<div class="help-para">
buf_clear_references(<code>{bufnr}</code>)            <span id="vim.lsp.util.buf_clear_references()" class="help-tag-right"><a href="#vim.lsp.util.buf_clear_references()">vim.lsp.util.buf_clear_references()</a></span><br>
    Removes document highlights from a buffer.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>  (<code>integer?</code>) Buffer id
</div>
</div>
<div class="help-para">
                                     <span id="vim.lsp.util.buf_highlight_references()" class="help-tag-right"><a href="#vim.lsp.util.buf_highlight_references()">vim.lsp.util.buf_highlight_references()</a></span><br>
buf_highlight_references(<code>{bufnr}</code>, <code>{references}</code>, <code>{position_encoding}</code>)
    Shows a list of document highlights for a certain buffer.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>              (<code>integer</code>) Buffer id
</div><div class="help-li" style=""> <code>{references}</code>         (<code>lsp.DocumentHighlight[]</code>) objects to highlight
</div><div class="help-li" style=""> <code>{position_encoding}</code>  (<code>'utf-8'|'utf-16'|'utf-32'</code>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specification/#textDocumentContentChangeEvent">https://microsoft.github.io/language-server-protocol/specification/#textDocumentContentChangeEvent</a>
</div>
</div>
<div class="help-para">
                                             <span id="vim.lsp.util.character_offset()" class="help-tag-right"><a href="#vim.lsp.util.character_offset()">vim.lsp.util.character_offset()</a></span><br>
character_offset(<code>{buf}</code>, <code>{row}</code>, <code>{col}</code>, <code>{offset_encoding}</code>)
    Returns the UTF-32 and UTF-16 offsets for a position in a certain buffer.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{buf}</code>              (<code>integer</code>) buffer number (0 for current)
</div><div class="help-li" style=""> <code>{row}</code>              (<code>integer</code>) 0-indexed line
</div><div class="help-li" style=""> <code>{col}</code>              (<code>integer</code>) 0-indexed byte offset in line
</div><div class="help-li" style=""> <code>{offset_encoding}</code>  (<code>'utf-8'|'utf-16'|'utf-32'?</code>) defaults to
                           <code>offset_encoding</code> of first client of <code>buf</code>
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>integer</code>) <code>offset_encoding</code> index of the character in line <code>{row}</code>
        column <code>{col}</code> in buffer <code>{buf}</code>

</div>
<div class="help-para">
                              <span id="vim.lsp.util.convert_input_to_markdown_lines()" class="help-tag-right"><a href="#vim.lsp.util.convert_input_to_markdown_lines()">vim.lsp.util.convert_input_to_markdown_lines()</a></span><br>
convert_input_to_markdown_lines(<code>{input}</code>, <code>{contents}</code>)
    Converts any of <code>MarkedString</code> | <code>MarkedString[]</code> | <code>MarkupContent</code> into a
    list of lines containing valid markdown. Useful to populate the hover
    window for <code>textDocument/hover</code>, for parsing the result of
    <code>textDocument/signatureHelp</code>, and potentially others.

</div>
<div class="help-para">
    Note that if the input is of type <code>MarkupContent</code> and its kind is
    <code>plaintext</code>, then the corresponding value is returned without further
    modifications.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{input}</code>     (<code>lsp.MarkedString|lsp.MarkedString[]|lsp.MarkupContent</code>)
</div><div class="help-li" style=""> <code>{contents}</code>  (<code>string[]?</code>) List of strings to extend with converted
                    lines. Defaults to {}.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>string[]</code>) extended with lines of converted markdown.

</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_hover">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_hover</a>
</div>
</div>
<div class="help-para">
                     <span id="vim.lsp.util.convert_signature_help_to_markdown_lines()" class="help-tag-right"><a href="#vim.lsp.util.convert_signature_help_to_markdown_lines()">vim.lsp.util.convert_signature_help_to_markdown_lines()</a></span><br>
convert_signature_help_to_markdown_lines(<code>{signature_help}</code>, <code>{ft}</code>, <code>{triggers}</code>)
    Converts <code>textDocument/signatureHelp</code> response to markdown lines.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{signature_help}</code>  (<code>lsp.SignatureHelp</code>) Response of
                          <code>textDocument/SignatureHelp</code>
</div><div class="help-li" style=""> <code>{ft}</code>              (<code>string?</code>) filetype that will be use as the <code>lang</code>
                          for the label markdown code block
</div><div class="help-li" style=""> <code>{triggers}</code>        (<code>string[]?</code>) list of trigger characters from the
                          lsp server. used to better determine parameter
                          offsets
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return (multiple):</div>
        (<code>string[]?</code>) lines of converted markdown.
        (<code>Range4?</code>) highlight range for the active parameter

</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_signatureHelp">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_signatureHelp</a>
</div>
</div>
<div class="help-para">
get_effective_tabstop(<code>{bufnr}</code>)          <span id="vim.lsp.util.get_effective_tabstop()" class="help-tag-right"><a href="#vim.lsp.util.get_effective_tabstop()">vim.lsp.util.get_effective_tabstop()</a></span><br>
    Returns indentation size.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>  (<code>integer?</code>) Buffer handle, defaults to current
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>integer</code>) indentation size

</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="options.html#'shiftwidth'">'shiftwidth'</a>
</div>
</div>
<div class="help-para">
                                           <span id="vim.lsp.util.locations_to_items()" class="help-tag-right"><a href="#vim.lsp.util.locations_to_items()">vim.lsp.util.locations_to_items()</a></span><br>
locations_to_items(<code>{locations}</code>, <code>{position_encoding}</code>)
    Returns the items with the byte position calculated correctly and in
    sorted order, for display in quickfix and location lists.

</div>
<div class="help-para">
    The <code>user_data</code> field of each resulting item will contain the original
    <code>Location</code> or <code>LocationLink</code> it was computed from.

</div>
<div class="help-para">
    The result can be passed to the <code>{list}</code> argument of <a href="vimfn.html#setqflist()">setqflist()</a> or
    <a href="vimfn.html#setloclist()">setloclist()</a>.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{locations}</code>          (<code>lsp.Location[]|lsp.LocationLink[]</code>)
</div><div class="help-li" style=""> <code>{position_encoding}</code>  (<code>'utf-8'|'utf-16'|'utf-32'?</code>) default to first
                             client of buffer
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>vim.quickfix.entry[]</code>) See <a href="vimfn.html#setqflist()">setqflist()</a> for the format

</div>
<div class="help-para">
                                  <span id="vim.lsp.util.make_floating_popup_options()" class="help-tag-right"><a href="#vim.lsp.util.make_floating_popup_options()">vim.lsp.util.make_floating_popup_options()</a></span><br>
make_floating_popup_options(<code>{width}</code>, <code>{height}</code>, <code>{opts}</code>)
    Creates a table with sensible default options for a floating window. The
    table can be passed to <a href="api.html#nvim_open_win()">nvim_open_win()</a>.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{width}</code>   (<code>integer</code>) window width (in character cells)
</div><div class="help-li" style=""> <code>{height}</code>  (<code>integer</code>) window height (in character cells)
</div><div class="help-li" style=""> <code>{opts}</code>    (<code>vim.lsp.util.open_floating_preview.Opts?</code>) See
                  <a href="lsp.html#vim.lsp.util.open_floating_preview.Opts">vim.lsp.util.open_floating_preview.Opts</a>.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>vim.api.keyset.win_config</code>)

</div>
<div class="help-para">
                                       <span id="vim.lsp.util.make_formatting_params()" class="help-tag-right"><a href="#vim.lsp.util.make_formatting_params()">vim.lsp.util.make_formatting_params()</a></span><br>
make_formatting_params(<code>{options}</code>)
    Creates a <code>DocumentFormattingParams</code> object for the current buffer and
    cursor position.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{options}</code>  (<code>lsp.FormattingOptions?</code>) with valid <code>FormattingOptions</code>
                   entries
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>lsp.DocumentFormattingParams</code>) object

</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_formatting">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_formatting</a>
</div>
</div>
<div class="help-para">
                                      <span id="vim.lsp.util.make_given_range_params()" class="help-tag-right"><a href="#vim.lsp.util.make_given_range_params()">vim.lsp.util.make_given_range_params()</a></span><br>
make_given_range_params(<code>{start_pos}</code>, <code>{end_pos}</code>, <code>{bufnr}</code>, <code>{position_encoding}</code>)
    Using the given range in the current buffer, creates an object that is
    similar to <a href="lsp.html#vim.lsp.util.make_range_params()">vim.lsp.util.make_range_params()</a>.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{start_pos}</code>          (<code>[integer,integer]?</code>) <code>{row,col}</code> mark-indexed
                             position. Defaults to the start of the last
                             visual selection.
</div><div class="help-li" style=""> <code>{end_pos}</code>            (<code>[integer,integer]?</code>) <code>{row,col}</code> mark-indexed
                             position. Defaults to the end of the last visual
                             selection.
</div><div class="help-li" style=""> <code>{bufnr}</code>              (<code>integer?</code>) buffer handle or 0 for current,
                             defaults to current
</div><div class="help-li" style=""> <code>{position_encoding}</code>  (<code>'utf-8'|'utf-16'|'utf-32'</code>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>{ textDocument: { uri: lsp.DocumentUri }, range: lsp.Range }</code>)

</div>
<div class="help-para">
                                         <span id="vim.lsp.util.make_position_params()" class="help-tag-right"><a href="#vim.lsp.util.make_position_params()">vim.lsp.util.make_position_params()</a></span><br>
make_position_params(<code>{window}</code>, <code>{position_encoding}</code>)
    Creates a <code>TextDocumentPositionParams</code> object for the current buffer and
    cursor position.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{window}</code>             (<code>integer?</code>) <a href="windows.html#window-ID">window-ID</a> or 0 for current,
                             defaults to current
</div><div class="help-li" style=""> <code>{position_encoding}</code>  (<code>'utf-8'|'utf-16'|'utf-32'</code>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>lsp.TextDocumentPositionParams</code>)

</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentPositionParams">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentPositionParams</a>
</div>
</div>
<div class="help-para">
                                            <span id="vim.lsp.util.make_range_params()" class="help-tag-right"><a href="#vim.lsp.util.make_range_params()">vim.lsp.util.make_range_params()</a></span><br>
make_range_params(<code>{window}</code>, <code>{position_encoding}</code>)
    Using the current position in the current buffer, creates an object that
    can be used as a building block for several LSP requests, such as
    <code>textDocument/codeAction</code>, <code>textDocument/colorPresentation</code>,
    <code>textDocument/rangeFormatting</code>.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{window}</code>             (<code>integer?</code>) <a href="windows.html#window-ID">window-ID</a> or 0 for current,
                             defaults to current
</div><div class="help-li" style=""> <code>{position_encoding}</code>  (<code>"utf-8"|"utf-16"|"utf-32"</code>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>{ textDocument: { uri: lsp.DocumentUri }, range: lsp.Range }</code>)

</div>
<div class="help-para">
                                    <span id="vim.lsp.util.make_text_document_params()" class="help-tag-right"><a href="#vim.lsp.util.make_text_document_params()">vim.lsp.util.make_text_document_params()</a></span><br>
make_text_document_params(<code>{bufnr}</code>)
    Creates a <code>TextDocumentIdentifier</code> object for the current buffer.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>  (<code>integer?</code>) Buffer handle, defaults to current
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>lsp.TextDocumentIdentifier</code>)

</div>
<div class="help-para">
<div class="help-column_heading">See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentIdentifier">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentIdentifier</a>
</div>
</div>
<div class="help-para">
                                        <span id="vim.lsp.util.make_workspace_params()" class="help-tag-right"><a href="#vim.lsp.util.make_workspace_params()">vim.lsp.util.make_workspace_params()</a></span><br>
make_workspace_params(<code>{added}</code>, <code>{removed}</code>)
    Create the workspace params

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{added}</code>    (<code>lsp.WorkspaceFolder[]</code>)
</div><div class="help-li" style=""> <code>{removed}</code>  (<code>lsp.WorkspaceFolder[]</code>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>lsp.DidChangeWorkspaceFoldersParams</code>)

</div>
<div class="help-para">
                                        <span id="vim.lsp.util.open_floating_preview()" class="help-tag-right"><a href="#vim.lsp.util.open_floating_preview()">vim.lsp.util.open_floating_preview()</a></span><br>
open_floating_preview(<code>{contents}</code>, <code>{syntax}</code>, <code>{opts}</code>)
    Shows contents in a floating window.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{contents}</code>  (<code>table</code>) of lines to show in window
</div><div class="help-li" style=""> <code>{syntax}</code>    (<code>string</code>) of syntax to set for opened buffer
</div><div class="help-li" style=""> <code>{opts}</code>      (<code>vim.lsp.util.open_floating_preview.Opts?</code>) with optional
                    fields (additional keys are filtered with
                    <a href="lsp.html#vim.lsp.util.make_floating_popup_options()">vim.lsp.util.make_floating_popup_options()</a> before they
                    are passed on to <a href="api.html#nvim_open_win()">nvim_open_win()</a>). See
                    <a href="lsp.html#vim.lsp.util.open_floating_preview.Opts">vim.lsp.util.open_floating_preview.Opts</a>.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return (multiple):</div>
        (<code>integer</code>) bufnr of newly created float window
        (<code>integer</code>) winid of newly created float window preview window

</div>
<div class="help-para">
preview_location(<code>{location}</code>, <code>{opts}</code>)         <span id="vim.lsp.util.preview_location()" class="help-tag-right"><a href="#vim.lsp.util.preview_location()">vim.lsp.util.preview_location()</a></span><br>
    Previews a location in a floating window

</div>
<div class="help-para">
    behavior depends on type of location:
<div class="help-li" style=""> for Location, range is shown (e.g., function definition)
</div><div class="help-li" style=""> for LocationLink, targetRange is shown (e.g., body of function
      definition)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{location}</code>  (<code>lsp.Location|lsp.LocationLink</code>)
</div><div class="help-li" style=""> <code>{opts}</code>      (<code>vim.lsp.util.open_floating_preview.Opts?</code>) See
                    <a href="lsp.html#vim.lsp.util.open_floating_preview.Opts">vim.lsp.util.open_floating_preview.Opts</a>.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return (multiple):</div>
        (<code>integer?</code>) buffer id of float window
        (<code>integer?</code>) window id of float window

</div>
<div class="help-para">
rename(<code>{old_fname}</code>, <code>{new_fname}</code>, <code>{opts}</code>)               <span id="vim.lsp.util.rename()" class="help-tag-right"><a href="#vim.lsp.util.rename()">vim.lsp.util.rename()</a></span><br>
    Rename old_fname to new_fname

</div>
<div class="help-para">
    Existing buffers are renamed as well, while maintaining their bufnr.

</div>
<div class="help-para">
    It deletes existing buffers that conflict with the renamed file name only
    when
<div class="help-li" style=""> <code>opts</code> requests overwriting; or
</div><div class="help-li" style=""> the conflicting buffers are not loaded, so that deleting them does not
      result in data loss.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{old_fname}</code>  (<code>string</code>)
</div><div class="help-li" style=""> <code>{new_fname}</code>  (<code>string</code>)
</div><div class="help-li" style=""> <code>{opts}</code>       (<code>table?</code>) Options:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{overwrite}?</code> (<code>boolean</code>)
</div><div class="help-li" style="margin-left: 3rem;"> <code>{ignoreIfExists}?</code> (<code>boolean</code>)
</div>
</div>
<div class="help-para">
                                                <span id="vim.lsp.util.show_document()" class="help-tag-right"><a href="#vim.lsp.util.show_document()">vim.lsp.util.show_document()</a></span><br>
show_document(<code>{location}</code>, <code>{position_encoding}</code>, <code>{opts}</code>)
    Shows document and optionally jumps to the location.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{location}</code>           (<code>lsp.Location|lsp.LocationLink</code>)
</div><div class="help-li" style=""> <code>{position_encoding}</code>  (<code>'utf-8'|'utf-16'|'utf-32'?</code>)
</div><div class="help-li" style=""> <code>{opts}</code>               (<code>table?</code>) A table with the following fields:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{reuse_win}?</code> (<code>boolean</code>) Jump to existing
                               window if buffer is already open.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{focus}?</code> (<code>boolean</code>) Whether to focus/jump to
                               location if possible. (defaults: true)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>boolean</code>) <code>true</code> if succeeded

</div>
<div class="help-para">
                                             <span id="vim.lsp.util.symbols_to_items()" class="help-tag-right"><a href="#vim.lsp.util.symbols_to_items()">vim.lsp.util.symbols_to_items()</a></span><br>
symbols_to_items(<code>{symbols}</code>, <code>{bufnr}</code>, <code>{position_encoding}</code>)
    Converts symbols to quickfix list items.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{symbols}</code>            (<code>lsp.DocumentSymbol[]|lsp.SymbolInformation[]|lsp.WorkspaceSymbol[]</code>)
                             list of symbols
</div><div class="help-li" style=""> <code>{bufnr}</code>              (<code>integer?</code>) buffer handle or 0 for current,
                             defaults to current
</div><div class="help-li" style=""> <code>{position_encoding}</code>  (<code>'utf-8'|'utf-16'|'utf-32'?</code>) default to first
                             client of buffer
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>vim.quickfix.entry[]</code>) See <a href="vimfn.html#setqflist()">setqflist()</a> for the format

</div>
<div class="help-para">
<h2 id="_lua-module:-vim.lsp.protocol" class="help-heading">Lua module: vim.lsp.protocol<span class="help-heading-tags">                                    <span id="lsp-protocol" class="help-tag"><a href="#lsp-protocol">lsp-protocol</a></span></h2>


</div>
<div class="help-para">
                                 <span id="vim.lsp.protocol.make_client_capabilities()" class="help-tag-right"><a href="#vim.lsp.protocol.make_client_capabilities()">vim.lsp.protocol.make_client_capabilities()</a></span><br>
make_client_capabilities()
    Gets a new ClientCapabilities object describing the LSP client
    capabilities.

</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>lsp.ClientCapabilities</code>)

</div>
<div class="help-para">
                                     <span id="vim.lsp.protocol.resolve_capabilities()" class="help-tag-right"><a href="#vim.lsp.protocol.resolve_capabilities()">vim.lsp.protocol.resolve_capabilities()</a></span><br>
resolve_capabilities(<code>{server_capabilities}</code>)
    Creates a normalized object describing LSP server capabilities.

</div>
<div class="help-para">
<div class="help-column_heading">Parameters:</div>
<div class="help-li" style=""> <code>{server_capabilities}</code>  (<code>table</code>) Table of capabilities supported by
                               the server
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Return:</div>
        (<code>lsp.ServerCapabilities?</code>) Normalized table of capabilities

</div>

  </div>
      <div class="col-narrow toc">
      <div><a href="index.html">Main</a></div>
      <div><a href="vimindex.html">Commands index</a></div>
      <div><a href="quickref.html">Quick reference</a></div>
      <hr/>
  <div class="help-toc-h1"><a href="#_quickstart">QUICKSTART</a>
</div><div class="help-toc-h1"><a href="#_defaults">DEFAULTS</a>
</div><div class="help-toc-h1"><a href="#_commands">COMMANDS</a>
</div><div class="help-toc-h1"><a href="#_config">CONFIG</a>
</div><div class="help-toc-h1"><a href="#_faq">FAQ</a>
</div><div class="help-toc-h1"><a href="#_lsp-api">LSP API</a>
</div><div class="help-toc-h1"><a href="#_lsp-highlight">LSP HIGHLIGHT</a>
</div><div class="help-toc-h1"><a href="#_events">EVENTS</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp">Lua module: vim.lsp</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp.buf">Lua module: vim.lsp.buf</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp.client">Lua module: vim.lsp.client</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp.codelens">Lua module: vim.lsp.codelens</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp.completion">Lua module: vim.lsp.completion</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp.diagnostic">Lua module: vim.lsp.diagnostic</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp.document_color">Lua module: vim.lsp.document_color</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp.inlay_hint">Lua module: vim.lsp.inlay_hint</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp.inline_completion">Lua module: vim.lsp.inline_completion</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp.linked_editing_range">Lua module: vim.lsp.linked_editing_range</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp.log">Lua module: vim.lsp.log</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp.on_type_formatting">Lua module: vim.lsp.on_type_formatting</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp.rpc">Lua module: vim.lsp.rpc</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp.semantic_tokens">Lua module: vim.lsp.semantic_tokens</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp.util">Lua module: vim.lsp.util</a>
</div><div class="help-toc-h1"><a href="#_lua-module:-vim.lsp.protocol">Lua module: vim.lsp.protocol</a>
</div></div>
</div>
  <footer>
    <div class="container flex">
      <div class="generator-stats">
        Generated at 2026-01-22 05:32 from <code><a href="https://github.com/neovim/neovim/commit/196df35cca7df2f499ce6f1352184bf7034801c7">196df35</a></code>
      </div>
      <div class="generator-stats">
      parse_errors: 0 (<a href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+lsp.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/lsp.html%0D%0DContext%3A%0D%0D%60%60%60%0DTODO%0D%60%60%60" target="_blank">report docs bug...</a>) | <span title="   LSP
                            NVIM REFERENCE MANUAL
                                      Type &lt;a href="various.html#gO"&gt;gO&lt;/a&gt; to see the table of contents.">noise_lines: 3</span>
      </div>
    <div>

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    <script type="module">
      docsearch({
        container: '#docsearch',
        appId: 'X185E15FPG',
        apiKey: 'b5e6b2f9c636b2b471303205e59832ed',
        indexName: 'nvim',
      });
    </script>

  </footer>
  </body>
</html>
