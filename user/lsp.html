  <!DOCTYPE html>
  <html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Neovim user documentation">

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
    <link rel="preconnect" href="https://X185E15FPG-dsn.algolia.net" crossorigin />

    <link href="/css/normalize.min.css" rel="stylesheet">
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="help.css" rel="stylesheet">
    <link href="/highlight/styles/neovim.min.css" rel="stylesheet">

    <script src="/highlight/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <title> Lsp - Neovim docs</title>
  </head>
  <body>
    <header class="container">
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <a href="/" class="navbar-brand" aria-label="logo">
          <!--TODO: use <img src="â€¦.svg"> here instead. Need one that has green lettering instead of gray. -->
              <svg xmlns="http://www.w3.org/2000/svg" role="img" width="173" height="50" viewBox="0 0 742 214" aria-label="Neovim">
      <title>Neovim</title>
      <defs>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
          <stop stop-color="#16B0ED" stop-opacity=".8" offset="0%" />
          <stop stop-color="#0F59B2" stop-opacity=".837" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b">
          <stop stop-color="#7DB643" offset="0%" />
          <stop stop-color="#367533" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c">
          <stop stop-color="#88C649" stop-opacity=".8" offset="0%" />
          <stop stop-color="#439240" stop-opacity=".84" offset="100%" />
        </linearGradient>
      </defs>
      <g fill="none" fill-rule="evenodd">
        <path
          d="M.027 45.459L45.224-.173v212.171L.027 166.894V45.459z"
          fill="url(#a)"
          transform="translate(1 1)"
        />
        <path
          d="M129.337 45.89L175.152-.149l-.928 212.146-45.197-45.104.31-121.005z"
          fill="url(#b)"
          transform="matrix(-1 0 0 1 305 1)"
        />
        <path
          d="M45.194-.137L162.7 179.173l-32.882 32.881L12.25 33.141 45.194-.137z"
          fill="url(#c)"
          transform="translate(1 1)"
        />
        <path
          d="M46.234 84.032l-.063 7.063-36.28-53.563 3.36-3.422 32.983 49.922z"
          fill-opacity=".13"
          fill="#000"
        />
        <g fill="#444">
          <path
            d="M227 154V64.44h4.655c1.55 0 2.445.75 2.685 2.25l.806 13.502c4.058-5.16 8.786-9.316 14.188-12.466 5.4-3.15 11.413-4.726 18.037-4.726 4.893 0 9.205.781 12.935 2.34 3.729 1.561 6.817 3.811 9.264 6.751 2.448 2.942 4.297 6.48 5.55 10.621 1.253 4.14 1.88 8.821 1.88 14.042V154h-8.504V96.754c0-8.402-1.91-14.987-5.729-19.757-3.82-4.771-9.667-7.156-17.544-7.156-5.851 0-11.28 1.516-16.292 4.545-5.013 3.032-9.489 7.187-13.427 12.467V154H227zM350.624 63c5.066 0 9.755.868 14.069 2.605 4.312 1.738 8.052 4.268 11.219 7.592s5.638 7.412 7.419 12.264C385.11 90.313 386 95.883 386 102.17c0 1.318-.195 2.216-.588 2.696-.393.48-1.01.719-1.851.719h-64.966v1.70c0 6.708.784 12.609 2.353 17.7 1.567 5.09 3.8 9.357 6.695 12.802 2.895 3.445 6.393 6.034 10.495 7.771 4.1 1.738 8.686 2.606 13.752 2.606 4.524 0 8.446-.494 11.762-1.483 3.317-.988 6.108-2.097 8.37-3.324 2.261-1.227 4.056-2.336 5.383-3.324 1.326-.988 2.292-1.482 2.895-1.482.784 0 1.388.3 1.81.898l2.352 2.875c-1.448 1.797-3.362 3.475-5.745 5.031-2.383 1.558-5.038 2.891-7.962 3.998-2.926 1.109-6.062 1.991-9.41 2.65a52.21 52.21 0 01-10.088.989c-6.152 0-11.762-1.064-16.828-3.19-5.067-2.125-9.415-5.225-13.043-9.298-3.63-4.074-6.435-9.06-8.415-14.96C310.99 121.655 310 114.9 310 107.294c0-6.408.92-12.323 2.76-17.744 1.84-5.421 4.493-10.093 7.961-14.016 3.467-3.922 7.72-6.991 12.758-9.209C338.513 64.11 344.229 63 350.624 63zm.573 6c-4.696 0-8.904.702-12.623 2.105-3.721 1.404-6.936 3.421-9.65 6.053-2.713 2.631-4.908 5.79-6.586 9.474S319.55 94.439 319 99h60c0-4.679-.672-8.874-2.013-12.588-1.343-3.712-3.232-6.856-5.67-9.43-2.44-2.571-5.367-4.545-8.782-5.92-3.413-1.374-7.192-2.062-11.338-2.062zM435.546 63c6.526 0 12.368 1.093 17.524 3.28 5.154 2.186 9.5 5.286 13.04 9.298 3.538 4.013 6.238 8.85 8.099 14.51 1.861 5.66 2.791 11.994 2.791 19.002 0 7.008-.932 13.327-2.791 18.957-1.861 5.631-4.561 10.452-8.099 14.465-3.54 4.012-7.886 7.097-13.04 9.254-5.156 2.156-10.998 3.234-17.524 3.234-6.529 0-12.369-1.078-17.525-3.234-5.155-2.157-9.517-5.242-13.085-9.254-3.57-4.013-6.285-8.836-8.145-14.465-1.861-5.63-2.791-11.95-2.791-18.957 0-7.008.93-13.342 2.791-19.002 1.861-5.66 4.576-10.496 8.145-14.51 3.568-4.012 7.93-7.112 13.085-9.299C423.177 64.094 429.017 63 435.546 63zm-.501 86c5.341 0 10.006-.918 13.997-2.757 3.99-1.838 7.32-4.474 9.992-7.909 2.67-3.435 4.664-7.576 5.986-12.428 1.317-4.85 1.98-10.288 1.98-16.316 0-5.965-.66-11.389-1.98-16.27-1.322-4.88-3.316-9.053-5.986-12.519-2.67-3.463-6-6.13-9.992-7.999-3.991-1.867-8.657-2.802-13.997-2.802s-10.008.935-13.997 2.802c-3.991 1.87-7.322 4.536-9.992 8-2.671 3.465-4.68 7.637-6.03 12.518-1.35 4.881-2.026 10.305-2.026 16.27 0 6.026.675 11.465 2.025 16.316 1.35 4.852 3.36 8.993 6.031 12.428 2.67 3.435 6 6.07 9.992 7.91 3.99 1.838 8.656 2.756 13.997 2.756z"
            fill="currentColor"
          />
          <path
            d="M530.57 152h-20.05L474 60h18.35c1.61 0 2.967.39 4.072 1.166 1.103.778 1.865 1.763 2.283 2.959l17.722 49.138a92.762 92.762 0 012.551 8.429c.686 2.751 1.298 5.5 1.835 8.25.537-2.75 1.148-5.499 1.835-8.25a77.713 77.713 0 012.64-8.429l18.171-49.138c.417-1.196 1.164-2.181 2.238-2.96 1.074-.776 2.356-1.165 3.849-1.165H567l-36.43 92zM572 61h23v92h-23zM610 153V60.443h13.624c2.887 0 4.78 1.354 5.682 4.06l1.443 6.856a52.7 52.7 0 015.097-4.962 32.732 32.732 0 015.683-3.879 30.731 30.731 0 016.496-2.57c2.314-.632 4.855-.948 7.624-.948 5.832 0 10.63 1.579 14.39 4.736 3.758 3.157 6.57 7.352 8.434 12.585 1.444-3.068 3.248-5.698 5.413-7.894 2.165-2.194 4.541-3.984 7.127-5.367a32.848 32.848 0 018.254-3.068 39.597 39.597 0 018.796-.992c5.111 0 9.653.783 13.622 2.345 3.97 1.565 7.307 3.849 10.014 6.857 2.706 3.007 4.766 6.675 6.18 11.005C739.29 83.537 740 88.5 740 94.092V153h-22.284V94.092c0-5.894-1.294-10.329-3.878-13.306-2.587-2.977-6.376-4.465-11.368-4.465-2.286 0-4.404.391-6.358 1.172a15.189 15.189 0 00-5.144 3.383c-1.473 1.474-2.631 3.324-3.474 5.548-.842 2.225-1.263 4.781-1.263 7.668V153h-22.37V94.092c0-6.194-1.249-10.704-3.744-13.532-2.497-2.825-6.18-4.24-11.051-4.24-3.19 0-6.18.798-8.976 2.391-2.799 1.593-5.399 3.775-7.804 6.54V153H610zM572 30h23v19h-23z"
            fill="currentColor"
            fill-opacity=".8"
          />
        </g>
      </g>
    </svg>
  
          <!--<img src="https://neovim.io/logos/neovim-logo.svg" width="173" height="50" alt="Neovim" />-->
        </a>
        <div id="docsearch"></div> <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
      </div>
    </nav>
  </header>

  <div class="container golden-grid help-body">
  <div class="col-wide">
  <a name="lsp"></a><h1 id="lsp.txt"> Lsp</h1>
  <p>
    <i>
    Nvim <code>:help</code> pages, <a href="https://github.com/neovim/neovim/blob/master/scripts/gen_help_html.lua">generated</a>
    from <a href="https://github.com/neovim/neovim/blob/master/runtime/doc/lsp.txt">source</a>
    using the <a href="https://github.com/neovim/tree-sitter-vimdoc">tree-sitter-vimdoc</a> parser.
    </i>
  </p>
  <hr/>
  <div class="help-para">
LSP client/framework <code id="LSP" class="help-tag"><a href="#LSP">LSP</a></code>

</div>
<div class="help-para">
Nvim supports the Language Server Protocol (LSP), which means it acts as
a client to LSP servers and includes a Lua framework <code>vim.lsp</code> for building
enhanced LSP tools.

</div>
<div class="help-para">
    <a href="https://microsoft.github.io/language-server-protocol/">https://microsoft.github.io/language-server-protocol/</a>

</div>
<div class="help-para">
LSP facilitates features like go-to-definition, find-references, hover,
completion, rename, format, refactor, etc., using semantic whole-project
analysis (unlike <a href="tagsrch.html#ctags">ctags</a>).

</div>
<div class="help-para">
<h2 id="lsp-quickstart" class="help-heading">QUICKSTART<span class="help-heading-tags">                                              <span class="help-tag"><a href="#lsp-quickstart">lsp-quickstart</a></span></h2>


</div>
<div class="help-para">
Nvim provides an LSP client, but the servers are provided by third parties.
Follow these steps to get LSP features:

</div>
<div class="help-para">
1. Install language servers using your package manager or by following the
   upstream installation instruction. You can find language servers here:
   <a href="https://microsoft.github.io/language-server-protocol/implementors/servers/">https://microsoft.github.io/language-server-protocol/implementors/servers/</a>

</div>
<div class="help-para">
2. Configure the LSP client per language server. See <a href="lsp.html#vim.lsp.start()">vim.lsp.start()</a> or use
   this minimal example as a guide:<pre><code class="language-lua">vim.lsp.start({
  name = 'my-server-name',
  cmd = {'name-of-language-server-executable'},
  root_dir = vim.fs.dirname(vim.fs.find({'setup.py', 'pyproject.toml'}, { upward = true })[1]),
})</code></pre>

</div>
<div class="help-para">
3. Check that the server attached to the buffer:<pre>:lua =vim.lsp.get_clients()</pre>
4. Configure keymaps and autocmds to use LSP features. See <a href="lsp.html#lsp-config">lsp-config</a>.

</div>
<div class="help-para">
                                                        <code id="lsp-config" class="help-tag-right"><a href="#lsp-config">lsp-config</a></code>
                                                        <code id="lsp-defaults" class="help-tag-right"><a href="#lsp-defaults">lsp-defaults</a></code>
When the LSP client starts it enables diagnostics <a href="diagnostic.html#vim.diagnostic">vim.diagnostic</a> (see
<a href="diagnostic.html#vim.diagnostic.config()">vim.diagnostic.config()</a> to customize). It also sets various default options,
listed below, if (1) the language server supports the functionality and (2)
the options are empty or were set by the builtin runtime (ftplugin) files. The
options are not restored when the LSP client is stopped or detached.

</div>
<div class="help-para">
<div class="help-li" style=""> <a href="options.html#'omnifunc'">'omnifunc'</a> is set to <a href="lsp.html#vim.lsp.omnifunc()">vim.lsp.omnifunc()</a>, use <a href="insert.html#i_CTRL-X_CTRL-O">i_CTRL-X_CTRL-O</a> to trigger
  completion.
</div><div class="help-li" style=""> <a href="options.html#'tagfunc'">'tagfunc'</a> is set to <a href="lsp.html#vim.lsp.tagfunc()">vim.lsp.tagfunc()</a>. This enables features like
  go-to-definition, <a href="tagsrch.html#%3Atjump">:tjump</a>, and keymaps like <a href="tagsrch.html#CTRL-%5D">CTRL-]</a>, <a href="windows.html#CTRL-W_%5D">CTRL-W_]</a>,
  <a href="windows.html#CTRL-W_%7D">CTRL-W_}</a> to utilize the language server.
</div><div class="help-li" style=""> <a href="options.html#'formatexpr'">'formatexpr'</a> is set to <a href="lsp.html#vim.lsp.formatexpr()">vim.lsp.formatexpr()</a>, so you can format lines via
  <a href="change.html#gq">gq</a> if the language server supports it.
</div><div class="help-li" style="margin-left: 3rem;"> To opt out of this use <a href="change.html#gw">gw</a> instead of gq, or set <a href="options.html#'formatexpr'">'formatexpr'</a> on LspAttach.
</div><div class="help-li" style=""> <a href="various.html#K">K</a> is mapped to <a href="lsp.html#vim.lsp.buf.hover()">vim.lsp.buf.hover()</a> unless <a href="options.html#'keywordprg'">'keywordprg'</a> is customized or
  a custom keymap for <code>K</code> exists.
</div>
</div>
<div class="help-para">
                                                        <code id="lsp-defaults-disable" class="help-tag-right"><a href="#lsp-defaults-disable">lsp-defaults-disable</a></code>
To override the above defaults, set or unset the options on <a href="lsp.html#LspAttach">LspAttach</a>:<pre><code class="language-lua">vim.api.nvim_create_autocmd('LspAttach', {
  callback = function(ev)
    vim.bo[ev.buf].formatexpr = nil
    vim.bo[ev.buf].omnifunc = nil
    vim.keymap.del("n", "K", { buffer = ev.buf })
  end,
})</code></pre>
To use other LSP features like hover, rename, etc. you can set other keymaps
on <a href="lsp.html#LspAttach">LspAttach</a>. Example:<pre><code class="language-lua">vim.api.nvim_create_autocmd('LspAttach', {
  callback = function(args)
    vim.keymap.set('n', 'K', vim.lsp.buf.hover, { buffer = args.buf })
  end,
})</code></pre>
The most common functions are:

</div>
<div class="help-para">
<div class="help-li" style=""> <a href="lsp.html#vim.lsp.buf.hover()">vim.lsp.buf.hover()</a>
</div><div class="help-li" style=""> <a href="lsp.html#vim.lsp.buf.format()">vim.lsp.buf.format()</a>
</div><div class="help-li" style=""> <a href="lsp.html#vim.lsp.buf.references()">vim.lsp.buf.references()</a>
</div><div class="help-li" style=""> <a href="lsp.html#vim.lsp.buf.implementation()">vim.lsp.buf.implementation()</a>
</div><div class="help-li" style=""> <a href="lsp.html#vim.lsp.buf.code_action()">vim.lsp.buf.code_action()</a>
</div>
</div>
<div class="help-para">
Not all language servers provide the same capabilities. To ensure you only set
keymaps if the language server supports a feature, you can guard the keymap
calls behind capability checks:
<pre><code class="language-lua">vim.api.nvim_create_autocmd('LspAttach', {
  callback = function(args)
    local client = vim.lsp.get_client_by_id(args.data.client_id)
    if client.server_capabilities.hoverProvider then
      vim.keymap.set('n', 'K', vim.lsp.buf.hover, { buffer = args.buf })
    end
  end,
})</code></pre>

</div>
<div class="help-para">
To learn what capabilities are available you can run the following command in
a buffer with a started LSP client:<pre><code class="language-vim">:lua =vim.lsp.get_clients()[1].server_capabilities</code></pre>
Full list of features provided by default can be found in <a href="lsp.html#lsp-buf">lsp-buf</a>.

</div>
<div class="help-para">
<h2 id="lsp-faq" class="help-heading">FAQ<span class="help-heading-tags">                                                     <span class="help-tag"><a href="#lsp-faq">lsp-faq</a></span></h2>


</div>
<div class="help-para">
<div class="help-li" style=""> Q: How to force-reload LSP?
</div><div class="help-li" style=""> A: Stop all clients, then reload the buffer.
<pre><code class="language-vim">:lua vim.lsp.stop_client(vim.lsp.get_clients())
:edit</code></pre></div><div class="help-li" style=""> Q: Why isn't completion working?
</div><div class="help-li" style=""> A: In the buffer where you want to use LSP, check that <a href="options.html#'omnifunc'">'omnifunc'</a> is set to
     "v:lua.vim.lsp.omnifunc": <code>:verbose set omnifunc?</code>
</div><div class="help-li" style="margin-left: 3rem;"> Some other plugin may be overriding the option. To avoid that you could
       set the option in an <a href="options.html#after-directory">after-directory</a> ftplugin, e.g.
       "after/ftplugin/python.vim".
</div>
</div>
<div class="help-para">
<div class="help-li" style=""> Q: How do I run a request synchronously (e.g. for formatting on file save)?
</div><div class="help-li" style=""> A: Check if the function has an <code>async</code> parameter and set the value to
  false. E.g. code formatting:<pre><code class="language-vim">" Auto-format *.rs (rust) files prior to saving them
" (async = false is the default for format)
autocmd BufWritePre *.rs lua vim.lsp.buf.format({ async = false })</code></pre>
</div>
</div>
<div class="help-para">
                                                           <code id="lsp-vs-treesitter" class="help-tag-right"><a href="#lsp-vs-treesitter">lsp-vs-treesitter</a></code>
<div class="help-li" style=""> Q: How do LSP and Treesitter compare?
</div><div class="help-li" style=""> A: LSP requires a client and language server. The language server uses
     semantic analysis to understand code at a project level. This provides
     language servers with the ability to rename across files, find
     definitions in external libraries and more.
</div>
</div>
<div class="help-para">
     Treesitter is a language parsing library that provides excellent tools
     for incrementally parsing text and handling errors. This makes it a great
     fit for editors to understand the contents of the current file for things
     like syntax highlighting, simple goto-definitions, scope analysis and
     more.

</div>
<div class="help-para">
     LSP and Treesitter are both great tools for editing and inspecting code.

</div>
<div class="help-para">
<h2 id="lsp-api" class="help-heading">LSP API<span class="help-heading-tags">                                                 <span class="help-tag"><a href="#lsp-api">lsp-api</a></span></h2>


</div>
<div class="help-para">
LSP core API is described at <a href="lsp.html#lsp-core">lsp-core</a>.  Those are the core functions for
creating and managing clients.

</div>
<div class="help-para">
The <code>vim.lsp.buf_â€¦</code> functions perform operations for all LSP clients attached
to the given buffer. <a href="lsp.html#lsp-buf">lsp-buf</a>

</div>
<div class="help-para">
LSP request/response handlers are implemented as Lua functions (see
<a href="lsp.html#lsp-handler">lsp-handler</a>).
                                                                  <code id="lsp-method" class="help-tag-right"><a href="#lsp-method">lsp-method</a></code>

</div>
<div class="help-para">
Requests and notifications defined by the LSP specification are referred to as
"LSP methods". The Nvim LSP client provides default handlers in the global
<a href="lsp.html#vim.lsp.handlers">vim.lsp.handlers</a> table, you can list them with this command:<pre><code class="language-vim">:lua vim.print(vim.tbl_keys(vim.lsp.handlers))</code></pre>

</div>
<div class="help-para">
They are also listed below. Note that handlers depend on server support: they
won't run if your server doesn't support them.

</div>
<div class="help-para">
<div class="help-li" style=""> callHierarchy/incomingCalls
</div><div class="help-li" style=""> callHierarchy/outgoingCalls
</div><div class="help-li" style=""> textDocument/codeAction
</div><div class="help-li" style=""> textDocument/completion
</div><div class="help-li" style=""> textDocument/declaration*
</div><div class="help-li" style=""> textDocument/definition
</div><div class="help-li" style=""> textDocument/diagnostic
</div><div class="help-li" style=""> textDocument/documentHighlight
</div><div class="help-li" style=""> textDocument/documentSymbol
</div><div class="help-li" style=""> textDocument/formatting
</div><div class="help-li" style=""> textDocument/hover
</div><div class="help-li" style=""> textDocument/implementation*
</div><div class="help-li" style=""> textDocument/inlayHint
</div><div class="help-li" style=""> textDocument/publishDiagnostics
</div><div class="help-li" style=""> textDocument/rangeFormatting
</div><div class="help-li" style=""> textDocument/references
</div><div class="help-li" style=""> textDocument/rename
</div><div class="help-li" style=""> textDocument/semanticTokens/full
</div><div class="help-li" style=""> textDocument/semanticTokens/full/delta
</div><div class="help-li" style=""> textDocument/signatureHelp
</div><div class="help-li" style=""> textDocument/typeDefinition*
</div><div class="help-li" style=""> window/logMessage
</div><div class="help-li" style=""> window/showMessage
</div><div class="help-li" style=""> window/showDocument
</div><div class="help-li" style=""> window/showMessageRequest
</div><div class="help-li" style=""> workspace/applyEdit
</div><div class="help-li" style=""> workspace/configuration
</div><div class="help-li" style=""> workspace/executeCommand
</div><div class="help-li" style=""> workspace/inlayHint/refresh
</div><div class="help-li" style=""> workspace/symbol
</div><div class="help-li" style=""> workspace/workspaceFolders
</div>
</div>
<div class="help-para">
                                                                 <code id="lsp-handler" class="help-tag-right"><a href="#lsp-handler">lsp-handler</a></code>
LSP handlers are functions that handle <a href="lsp.html#lsp-response">lsp-response</a>s to requests made by Nvim
to the server. (Notifications, as opposed to requests, are fire-and-forget:
there is no response, so they can't be handled. <a href="lsp.html#lsp-notification">lsp-notification</a>)

</div>
<div class="help-para">
Each response handler has this signature:<pre>function(err, result, ctx, config)</pre>

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{err}</code>     (table|nil) Error info dict, or <code>nil</code> if the request
                    completed.
</div><div class="help-li" style=""> <code>{result}</code>  (Result | Params | nil) <code>result</code> key of the <a href="lsp.html#lsp-response">lsp-response</a> or
                    <code>nil</code> if the request failed.
</div><div class="help-li" style=""> <code>{ctx}</code>     (table) Table of calling state associated with the
                    handler, with these keys:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{method}</code>  (string) <a href="lsp.html#lsp-method">lsp-method</a> name.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{client_id}</code> (number) <a href="lsp.html#vim.lsp.Client">vim.lsp.Client</a> identifier.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}</code>   (Buffer) Buffer handle.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{params}</code>  (table|nil) Request parameters table.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{version}</code> (number) Document version at time of
                                request. Handlers can compare this to the
                                current document version to check if the
                                response is "stale". See also <a href="eval.html#b%3Achangedtick">b:changedtick</a>.
</div><div class="help-li" style=""> <code>{config}</code>  (table) Handler-defined configuration table, which allows
                    users to customize handler behavior.
                    For an example, see:
                        <a href="lsp.html#vim.lsp.diagnostic.on_publish_diagnostics()">vim.lsp.diagnostic.on_publish_diagnostics()</a>
                    To configure a particular <a href="lsp.html#lsp-handler">lsp-handler</a>, see:
                        <a href="lsp.html#lsp-handler-configuration">lsp-handler-configuration</a>
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Returns:</div>
        Two values <code>result, err</code> where <code>err</code> is shaped like an RPC error:<pre>{ code, message, data? }</pre>

</div>
<div class="help-para">
        You can use <a href="lsp.html#vim.lsp.rpc.rpc_response_error()">vim.lsp.rpc.rpc_response_error()</a> to create this object.

</div>
<div class="help-para">
                                                   <code id="lsp-handler-configuration" class="help-tag-right"><a href="#lsp-handler-configuration">lsp-handler-configuration</a></code>

</div>
<div class="help-para">
To configure the behavior of a builtin <a href="lsp.html#lsp-handler">lsp-handler</a>, the convenient method
<a href="lsp.html#vim.lsp.with()">vim.lsp.with()</a> is provided for users.

</div>
<div class="help-para">
  To configure the behavior of <a href="lsp.html#vim.lsp.diagnostic.on_publish_diagnostics()">vim.lsp.diagnostic.on_publish_diagnostics()</a>,
  consider the following example, where a new <a href="lsp.html#lsp-handler">lsp-handler</a> is created using
  <a href="lsp.html#vim.lsp.with()">vim.lsp.with()</a> that no longer generates signs for the diagnostics:<pre><code class="language-lua">vim.lsp.handlers["textDocument/publishDiagnostics"] = vim.lsp.with(
  vim.lsp.diagnostic.on_publish_diagnostics, {
    -- Disable signs
    signs = false,
  }
)</code></pre>

</div>
<div class="help-para">
  To enable signs, use <a href="lsp.html#vim.lsp.with()">vim.lsp.with()</a> again to create and assign a new
  <a href="lsp.html#lsp-handler">lsp-handler</a> to <a href="lsp.html#vim.lsp.handlers">vim.lsp.handlers</a> for the associated method:<pre><code class="language-lua">vim.lsp.handlers["textDocument/publishDiagnostics"] = vim.lsp.with(
  vim.lsp.diagnostic.on_publish_diagnostics, {
    -- Enable signs
    signs = true,
  }
)</code></pre>

</div>
<div class="help-para">
  To configure a handler on a per-server basis, you can use the <code>{handlers}</code> key
  for <a href="lsp.html#vim.lsp.start_client()">vim.lsp.start_client()</a><pre><code class="language-lua">vim.lsp.start_client {
  ..., -- Other configuration omitted.
  handlers = {
    ["textDocument/publishDiagnostics"] = vim.lsp.with(
      vim.lsp.diagnostic.on_publish_diagnostics, {
        -- Disable virtual_text
        virtual_text = false,
      }
    ),
  },
}</code></pre>

</div>
<div class="help-para">
  or if using "nvim-lspconfig", you can use the <code>{handlers}</code> key of <code>setup()</code>:
<pre><code class="language-lua">require('lspconfig').rust_analyzer.setup {
  handlers = {
    ["textDocument/publishDiagnostics"] = vim.lsp.with(
      vim.lsp.diagnostic.on_publish_diagnostics, {
        -- Disable virtual_text
        virtual_text = false
      }
    ),
  }
}</code></pre>

</div>
<div class="help-para">
  Some handlers do not have an explicitly named handler function (such as
  ||vim.lsp.diagnostic.on_publish_diagnostics()|). To override these, first
  create a reference to the existing handler:<pre><code class="language-lua">local on_references = vim.lsp.handlers["textDocument/references"]
vim.lsp.handlers["textDocument/references"] = vim.lsp.with(
  on_references, {
    -- Use location list instead of quickfix list
    loclist = true,
  }
)</code></pre>

</div>
<div class="help-para">
                                                      <code id="lsp-handler-resolution" class="help-tag-right"><a href="#lsp-handler-resolution">lsp-handler-resolution</a></code>
Handlers can be set by:

</div>
<div class="help-para">
<div class="help-li" style=""> Setting a field in vim.lsp.handlers.                      <code id="vim.lsp.handlers" class="help-tag-right"><a href="#vim.lsp.handlers">vim.lsp.handlers</a></code>
  vim.lsp.handlers is a global table that contains the default mapping of
  <a href="lsp.html#lsp-method">lsp-method</a> names to <a href="lsp.html#lsp-handlers">lsp-handlers</a>. To override the handler for the
  <code>"textDocument/definition"</code> method:<pre><code class="language-lua">vim.lsp.handlers["textDocument/definition"] = my_custom_default_definition</code></pre>
</div>
</div>
<div class="help-para">
<div class="help-li" style=""> The <code>{handlers}</code> parameter of <a href="lsp.html#vim.lsp.start()">vim.lsp.start()</a>. This sets the default
  <a href="lsp.html#lsp-handler">lsp-handler</a> for the server being started. Example:<pre><code class="language-lua">vim.lsp.start {
  ..., -- Other configuration omitted.
  handlers = {
    ["textDocument/definition"] = my_custom_server_definition
  },
}</code></pre>
</div><div class="help-li" style=""> The <code>{handler}</code> parameter of <a href="lsp.html#vim.lsp.buf_request_all()">vim.lsp.buf_request_all()</a>. This sets
  the <a href="lsp.html#lsp-handler">lsp-handler</a> ONLY for the given request(s). Example:<pre><code class="language-lua">vim.lsp.buf_request_all(
  0,
  "textDocument/definition",
  my_request_params,
  my_handler
)</code></pre>
</div>
</div>
<div class="help-para">
In summary, the <a href="lsp.html#lsp-handler">lsp-handler</a> will be chosen based on the current <a href="lsp.html#lsp-method">lsp-method</a>
in the following order:

</div>
<div class="help-para">
1. Handler passed to <a href="lsp.html#vim.lsp.buf_request_all()">vim.lsp.buf_request_all()</a>, if any.
2. Handler defined in <a href="lsp.html#vim.lsp.start()">vim.lsp.start()</a>, if any.
3. Handler defined in <a href="lsp.html#vim.lsp.handlers">vim.lsp.handlers</a>, if any.

</div>
<div class="help-para">
                                                            <code id="vim.lsp.log_levels" class="help-tag-right"><a href="#vim.lsp.log_levels">vim.lsp.log_levels</a></code>
Log levels are defined in <a href="lua.html#vim.log.levels">vim.log.levels</a>

</div>
<div class="help-para">
<h3 id="vim.lsp.protocol" class="help-heading">VIM.LSP.PROTOCOL<span class="help-heading-tags">                                              <span class="help-tag"><a href="#vim.lsp.protocol">vim.lsp.protocol</a></span></h3>


</div>
<div class="help-para">
Module <code>vim.lsp.protocol</code> defines constants dictated by the LSP specification,
and helper functions for creating protocol-related objects.
<a href="https://github.com/microsoft/language-server-protocol/raw/gh-pages/_specifications/specification-3-14.md">https://github.com/microsoft/language-server-protocol/raw/gh-pages/_specifications/specification-3-14.md</a>

</div>
<div class="help-para">
For example <code>vim.lsp.protocol.ErrorCodes</code> allows reverse lookup by number or
name:<pre><code class="language-lua">vim.lsp.protocol.TextDocumentSyncKind.Full == 1
vim.lsp.protocol.TextDocumentSyncKind[1] == "Full"</code></pre>

</div>
<div class="help-para">
                                                                <code id="lsp-response" class="help-tag-right"><a href="#lsp-response">lsp-response</a></code>
LSP response shape:
<a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#responseMessage">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#responseMessage</a>

</div>
<div class="help-para">
                                                                <code id="lsp-notification" class="help-tag-right"><a href="#lsp-notification">lsp-notification</a></code>
LSP notification shape:
<a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#notificationMessage">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#notificationMessage</a>

</div>
<div class="help-para">
<h2 id="lsp-highlight" class="help-heading">LSP HIGHLIGHT<span class="help-heading-tags">                                                    <span class="help-tag"><a href="#lsp-highlight">lsp-highlight</a></span></h2>


</div>
<div class="help-para">
Reference Highlights:

</div>
<div class="help-para">
Highlight groups that are meant to be used by <a href="lsp.html#vim.lsp.buf.document_highlight()">vim.lsp.buf.document_highlight()</a>.

</div>
<div class="help-para">
You can see more about the differences in types here:
<a href="https://microsoft.github.io/language-server-protocol/specification#textDocument_documentHighlight">https://microsoft.github.io/language-server-protocol/specification#textDocument_documentHighlight</a>

</div>
<div class="help-para">
                                                           <code id="hl-LspReferenceText" class="help-tag-right"><a href="#hl-LspReferenceText">hl-LspReferenceText</a></code>
LspReferenceText          used for highlighting "text" references
                                                           <code id="hl-LspReferenceRead" class="help-tag-right"><a href="#hl-LspReferenceRead">hl-LspReferenceRead</a></code>
LspReferenceRead          used for highlighting "read" references
                                                          <code id="hl-LspReferenceWrite" class="help-tag-right"><a href="#hl-LspReferenceWrite">hl-LspReferenceWrite</a></code>
LspReferenceWrite         used for highlighting "write" references
                                                          <code id="hl-LspInlayHint" class="help-tag-right"><a href="#hl-LspInlayHint">hl-LspInlayHint</a></code>
LspInlayHint              used for highlighting inlay hints

</div>
<div class="help-para">
                                                      <code id="lsp-highlight-codelens" class="help-tag-right"><a href="#lsp-highlight-codelens">lsp-highlight-codelens</a></code>

</div>
<div class="help-para">
Highlight groups related to <a href="lsp.html#lsp-codelens">lsp-codelens</a> functionality.

</div>
<div class="help-para">
                                                              <code id="hl-LspCodeLens" class="help-tag-right"><a href="#hl-LspCodeLens">hl-LspCodeLens</a></code>
LspCodeLens
    Used to color the virtual text of the codelens. See
    <a href="api.html#nvim_buf_set_extmark()">nvim_buf_set_extmark()</a>.

</div>
<div class="help-para">
LspCodeLensSeparator                                 <code id="hl-LspCodeLensSeparator" class="help-tag-right"><a href="#hl-LspCodeLensSeparator">hl-LspCodeLensSeparator</a></code>
    Used to color the separator between two or more code lenses.

</div>
<div class="help-para">
                                                     <code id="lsp-highlight-signature" class="help-tag-right"><a href="#lsp-highlight-signature">lsp-highlight-signature</a></code>

</div>
<div class="help-para">
Highlight groups related to <a href="lsp.html#vim.lsp.handlers.signature_help()">vim.lsp.handlers.signature_help()</a>.

</div>
<div class="help-para">
                                              <code id="hl-LspSignatureActiveParameter" class="help-tag-right"><a href="#hl-LspSignatureActiveParameter">hl-LspSignatureActiveParameter</a></code>
LspSignatureActiveParameter
    Used to highlight the active parameter in the signature help. See
    <a href="lsp.html#vim.lsp.handlers.signature_help()">vim.lsp.handlers.signature_help()</a>.

</div>
<div class="help-para">
<h3 id="lsp-semantic-highlight" class="help-heading">LSP SEMANTIC HIGHLIGHTS<span class="help-heading-tags">                               <span class="help-tag"><a href="#lsp-semantic-highlight">lsp-semantic-highlight</a></span></h3>


</div>
<div class="help-para">
When available, the LSP client highlights code using <a href="lsp.html#lsp-semantic_tokens">lsp-semantic_tokens</a>,
which are another way that LSP servers can provide information about source
code.  Note that this is in addition to treesitter syntax highlighting;
semantic highlighting does not replace syntax highlighting.

</div>
<div class="help-para">
The server will typically provide one token per identifier in the source code.
The token will have a <code>type</code> such as "function" or "variable", and 0 or more
<code>modifier</code>s such as "readonly" or "deprecated." The standard types and
modifiers are described here:
<a href="https://microsoft.github.io/language-server-protocol/specification/#textDocument_semanticTokens">https://microsoft.github.io/language-server-protocol/specification/#textDocument_semanticTokens</a>
LSP servers may also use off-spec types and modifiers.

</div>
<div class="help-para">
The LSP client adds one or more highlights for each token. The highlight
groups are derived from the token's type and modifiers:
<div class="help-li" style=""> <code>@lsp.type.&lt;type&gt;.&lt;ft&gt;</code> for the type
</div><div class="help-li" style=""> <code>@lsp.mod.&lt;mod&gt;.&lt;ft&gt;</code> for each modifier
</div><div class="help-li" style=""> <code>@lsp.typemod.&lt;type&gt;.&lt;mod&gt;.&lt;ft&gt;</code> for each modifier
Use <a href="lua.html#%3AInspect">:Inspect</a> to view the highlights for a specific token. Use <a href="syntax.html#%3Ahi">:hi</a> or
<a href="api.html#nvim_set_hl()">nvim_set_hl()</a> to change the appearance of semantic highlights:<pre><code class="language-vim">hi @lsp.type.function guifg=Yellow        " function names are yellow
hi @lsp.type.variable.lua guifg=Green     " variables in lua are green
hi @lsp.mod.deprecated gui=strikethrough  " deprecated is crossed out
hi @lsp.typemod.function.async guifg=Blue " async functions are blue</code></pre>
</div>
</div>
<div class="help-para">
The value <a href="lua.html#vim.highlight.priorities">vim.highlight.priorities</a><code>.semantic_tokens</code> is the priority of the
<code>@lsp.type.*</code> highlights. The <code>@lsp.mod.*</code> and <code>@lsp.typemod.*</code> highlights
have priorities one and two higher, respectively.

</div>
<div class="help-para">
You can disable semantic highlights by clearing the highlight groups:<pre><code class="language-lua">-- Hide semantic highlights for functions
vim.api.nvim_set_hl(0, '@lsp.type.function', {})
-- Hide all semantic highlights
for _, group in ipairs(vim.fn.getcompletion("@lsp", "highlight")) do
  vim.api.nvim_set_hl(0, group, {})
end</code></pre>

</div>
<div class="help-para">
You probably want these inside a <a href="autocmd.html#ColorScheme">ColorScheme</a> autocommand.

</div>
<div class="help-para">
Use <a href="lsp.html#LspTokenUpdate">LspTokenUpdate</a> and <a href="lsp.html#vim.lsp.semantic_tokens.highlight_token()">vim.lsp.semantic_tokens.highlight_token()</a> for more
complex highlighting.

</div>
<div class="help-para">
The following is a list of standard captures used in queries for Nvim,
highlighted according to the current colorscheme (use <a href="lua.html#%3AInspect">:Inspect</a> on one to see
the exact definition):

</div>
<div class="help-para">
@lsp.type.class          Identifiers that declare or reference a class type
@lsp.type.comment        Tokens that represent a comment
@lsp.type.decorator      Identifiers that declare or reference decorators and annotations
@lsp.type.enum           Identifiers that declare or reference an enumeration type
@lsp.type.enumMember     Identifiers that declare or reference an enumeration property, constant, or member
@lsp.type.event          Identifiers that declare an event property
@lsp.type.function       Identifiers that declare a function
@lsp.type.interface      Identifiers that declare or reference an interface type
@lsp.type.keyword        Tokens that represent a language keyword
@lsp.type.macro          Identifiers that declare a macro
@lsp.type.method         Identifiers that declare a member function or method
@lsp.type.modifier       Tokens that represent a modifier
@lsp.type.namespace      Identifiers that declare or reference a namespace, module, or package
@lsp.type.number         Tokens that represent a number literal
@lsp.type.operator       Tokens that represent an operator
@lsp.type.parameter      Identifiers that declare or reference a function or method parameters
@lsp.type.property       Identifiers that declare or reference a member property, member field, or member variable
@lsp.type.regexp         Tokens that represent a regular expression literal
@lsp.type.string         Tokens that represent a string literal
@lsp.type.struct         Identifiers that declare or reference a struct type
@lsp.type.type           Identifiers that declare or reference a type that is not covered above
@lsp.type.typeParameter  Identifiers that declare or reference a type parameter
@lsp.type.variable       Identifiers that declare or reference a local or global variable

</div>
<div class="help-para">
@lsp.mod.abstract        Types and member functions that are abstract
@lsp.mod.async           Functions that are marked async
@lsp.mod.declaration     Declarations of symbols
@lsp.mod.defaultLibrary  Symbols that are part of the standard library
@lsp.mod.definition      Definitions of symbols, for example, in header files
@lsp.mod.deprecated      Symbols that should no longer be used
@lsp.mod.documentation   Occurrences of symbols in documentation
@lsp.mod.modification    Variable references where the variable is assigned to
@lsp.mod.readonly        Readonly variables and member fields (constants)
@lsp.mod.static          Class members (static members)

</div>
<div class="help-para">
<h2 id="lsp-events" class="help-heading">EVENTS<span class="help-heading-tags">                                                            <span class="help-tag"><a href="#lsp-events">lsp-events</a></span></h2>


</div>
<div class="help-para">
LspAttach                                                          <code id="LspAttach" class="help-tag-right"><a href="#LspAttach">LspAttach</a></code>
    After an LSP client attaches to a buffer. The <a href="autocmd.html#autocmd-pattern">autocmd-pattern</a> is the
    name of the buffer. When used from Lua, the client ID is passed to the
    callback in the "data" table. Example:<pre><code class="language-lua">vim.api.nvim_create_autocmd("LspAttach", {
  callback = function(args)
    local bufnr = args.buf
    local client = vim.lsp.get_client_by_id(args.data.client_id)
    if client.server_capabilities.completionProvider then
      vim.bo[bufnr].omnifunc = "v:lua.vim.lsp.omnifunc"
    end
    if client.server_capabilities.definitionProvider then
      vim.bo[bufnr].tagfunc = "v:lua.vim.lsp.tagfunc"
    end
  end,
})</code></pre>

</div>
<div class="help-para">
LspDetach                                                          <code id="LspDetach" class="help-tag-right"><a href="#LspDetach">LspDetach</a></code>
    Just before an LSP client detaches from a buffer. The <a href="autocmd.html#autocmd-pattern">autocmd-pattern</a>
    is the name of the buffer. When used from Lua, the client ID is passed
    to the callback in the "data" table. Example:<pre><code class="language-lua">vim.api.nvim_create_autocmd("LspDetach", {
  callback = function(args)
    local client = vim.lsp.get_client_by_id(args.data.client_id)
    -- Do something with the client
    vim.cmd("setlocal tagfunc&lt; omnifunc&lt;")
  end,
})</code></pre>

</div>
<div class="help-para">
LspNotify                                                          <code id="LspNotify" class="help-tag-right"><a href="#LspNotify">LspNotify</a></code>
    This event is triggered after each successful notification sent to an
    LSP server.

</div>
<div class="help-para">
    When used from Lua, the client_id, LSP method, and parameters are sent
    in the "data" table. Example:<pre><code class="language-lua">vim.api.nvim_create_autocmd('LspNotify', {
  callback = function(args)
    local bufnr = args.buf
    local client_id = args.data.client_id
    local method = args.data.method
    local params = args.data.params
    -- do something with the notification
    if method == 'textDocument/...' then
      update_buffer(bufnr)
    end
  end,
})</code></pre>

</div>
<div class="help-para">
LspProgress                                                       <code id="LspProgress" class="help-tag-right"><a href="#LspProgress">LspProgress</a></code>
    Upon receipt of a progress notification from the server. Notifications can
    be polled from a <code>progress</code> ring buffer of a <a href="lsp.html#vim.lsp.Client">vim.lsp.Client</a> or use
    <a href="lsp.html#vim.lsp.status()">vim.lsp.status()</a> to get an aggregate message

</div>
<div class="help-para">
    If the server sends a "work done progress", the <code>pattern</code> is set to <code>kind</code>
    (one of <code>begin</code>, <code>report</code> or <code>end</code>).

</div>
<div class="help-para">
    When used from Lua, the event contains a <code>data</code> table with <code>client_id</code> and
    <code>result</code> properties. <code>result</code> will contain the request params sent by the
    server.

</div>
<div class="help-para">
    Example:<pre><code class="language-vim">autocmd LspProgress * redrawstatus</code></pre>

</div>
<div class="help-para">
LspRequest                                                        <code id="LspRequest" class="help-tag-right"><a href="#LspRequest">LspRequest</a></code>
    For each request sent to an LSP server, this event is triggered for
    every change to the request's status. The status can be one of
    <code>pending</code>, <code>complete</code>, or <code>cancel</code> and is sent as the <code>{type}</code> on the
    "data" table passed to the callback function.

</div>
<div class="help-para">
    It triggers when the initial request is sent (<code>{type}</code> == <code>pending</code>) and
    when the LSP server responds (<code>{type}</code> == <code>complete</code>). If a cancellation
    is requested using <code>client.cancel_request(request_id)</code>, then this event
    will trigger with <code>{type}</code> == <code>cancel</code>.

</div>
<div class="help-para">
    When used from Lua, the client ID, request ID, and request are sent in
    the "data" table. See <code>{requests}</code> in <a href="lsp.html#vim.lsp.Client">vim.lsp.Client</a> for details on the
    <code>{request}</code> value. If the request type is <code>complete</code>, the request will be
    deleted from the client's pending requests table immediately after
    calling the event's callbacks. Example:<pre><code class="language-lua">vim.api.nvim_create_autocmd('LspRequest', {
  callback = function(args)
    local bufnr = args.buf
    local client_id = args.data.client_id
    local request_id = args.data.request_id
    local request = args.data.request
    if request.type == 'pending' then
      -- do something with pending requests
      track_pending(client_id, bufnr, request_id, request)
    elseif request.type == 'cancel' then
      -- do something with pending cancel requests
      track_canceling(client_id, bufnr, request_id, request)
    elseif request.type == 'complete' then
      -- do something with finished requests. this pending
      -- request entry is about to be removed since it is complete
      track_finish(client_id, bufnr, request_id, request)
    end
  end,
})</code></pre>

</div>
<div class="help-para">
LspTokenUpdate                                                <code id="LspTokenUpdate" class="help-tag-right"><a href="#LspTokenUpdate">LspTokenUpdate</a></code>
    When a visible semantic token is sent or updated by the LSP server, or
    when an existing token becomes visible for the first time. The
    <a href="autocmd.html#autocmd-pattern">autocmd-pattern</a> is the name of the buffer. When used from Lua, the
    token and client ID are passed to the callback in the "data" table. The
    token fields are documented in <a href="lsp.html#vim.lsp.semantic_tokens.get_at_pos()">vim.lsp.semantic_tokens.get_at_pos()</a>.
    Example:
<pre><code class="language-lua">vim.api.nvim_create_autocmd('LspTokenUpdate', {
  callback = function(args)
    local token = args.data.token
    if token.type == 'variable' and not token.modifiers.readonly then
      vim.lsp.semantic_tokens.highlight_token(
        token, args.buf, args.data.client_id, 'MyMutableVariableHighlight'
      )
    end
  end,
})</code></pre>

</div>
<div class="help-para">
<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+lsp.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/lsp.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%20%20%20%20%20%20end%2C%0A%20%20%20%20%7D)%0A%3C%0A%20%20%20%20Note%3A%20doing%20anything%20other%20than%20calling%0A%20%20%20%20%7Cvim.lsp.semantic_tokens.highlight_token()%7C%20is%20considered%20experimental.%0A%0A%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0D%60%60%60">Note:</a> doing anything other than calling
    <a href="lsp.html#vim.lsp.semantic_tokens.highlight_token()">vim.lsp.semantic_tokens.highlight_token()</a> is considered experimental.

</div>
<div class="help-para">
<h2 id="lsp-core" class="help-heading">Lua module: vim.lsp<span class="help-heading-tags">                                                 <span class="help-tag"><a href="#lsp-core">lsp-core</a></span></h2>


</div>
<div class="help-para">
buf_attach_client(<code>{bufnr}</code>, <code>{client_id}</code>)          <code id="vim.lsp.buf_attach_client()" class="help-tag-right"><a href="#vim.lsp.buf_attach_client()">vim.lsp.buf_attach_client()</a></code>
    Implements the <code>textDocument/didâ€¦</code> notifications required to track a
    buffer for any language server.

</div>
<div class="help-para">
    Without calling this, the server won't be notified of changes to a buffer.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer</code>) Buffer handle, or 0 for current
</div><div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>) Client id
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>boolean</code>) success <code>true</code> if client was attached successfully;
        <code>false</code> otherwise

</div>
<div class="help-para">
buf_detach_client(<code>{bufnr}</code>, <code>{client_id}</code>)          <code id="vim.lsp.buf_detach_client()" class="help-tag-right"><a href="#vim.lsp.buf_detach_client()">vim.lsp.buf_detach_client()</a></code>
    Detaches client from the specified buffer.<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+lsp.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/lsp.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%20%20%20%20%20%20%20%20%60false%60%20otherwise%0A%0Abuf_detach_client(%7Bbufnr%7D%2C%20%7Bclient_id%7D)%20%20%20%20%20%20%20%20%20%20%2Avim.lsp.buf_detach_client()%2A%0A%20%20%20%20Detaches%20client%20from%20the%20specified%20buffer.%20Note%3A%20While%20the%20server%20is%0A%20%20%20%20notified%20that%20the%20text%20document%20(buffer)%20was%20closed%2C%20it%20is%20still%20able%20to%0A%20%20%20%20send%20notifications%20should%20it%20ignore%20this%20notification.%0A%0D%60%60%60">Note:</a> While the server is
    notified that the text document (buffer) was closed, it is still able to
    send notifications should it ignore this notification.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer</code>) Buffer handle, or 0 for current
</div><div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>) Client id
</div>
</div>
<div class="help-para">
buf_is_attached(<code>{bufnr}</code>, <code>{client_id}</code>)              <code id="vim.lsp.buf_is_attached()" class="help-tag-right"><a href="#vim.lsp.buf_is_attached()">vim.lsp.buf_is_attached()</a></code>
    Checks if a buffer is attached for a particular client.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer</code>) Buffer handle, or 0 for current
</div><div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>) the client id
</div>
</div>
<div class="help-para">
buf_notify(<code>{bufnr}</code>, <code>{method}</code>, <code>{params}</code>)                 <code id="vim.lsp.buf_notify()" class="help-tag-right"><a href="#vim.lsp.buf_notify()">vim.lsp.buf_notify()</a></code>
    Send a notification to a server

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>   (<code>integer?</code>) The number of the buffer
</div><div class="help-li" style=""> <code>{method}</code>  (<code>string</code>) Name of the request method
</div><div class="help-li" style=""> <code>{params}</code>  (<code>any</code>) Arguments to send to the server
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>boolean</code>) success true if any client returns true; false otherwise

</div>
<div class="help-para">
                                                   <code id="vim.lsp.buf_request_all()" class="help-tag-right"><a href="#vim.lsp.buf_request_all()">vim.lsp.buf_request_all()</a></code>
buf_request_all(<code>{bufnr}</code>, <code>{method}</code>, <code>{params}</code>, <code>{handler}</code>)
    Sends an async request for all active clients attached to the buffer and
    executes the <code>handler</code> callback with the combined result.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>    (<code>integer</code>) Buffer handle, or 0 for current.
</div><div class="help-li" style=""> <code>{method}</code>   (<code>string</code>) LSP method name
</div><div class="help-li" style=""> <code>{params}</code>   (<code>table?</code>) Parameters to send to the server
</div><div class="help-li" style=""> <code>{handler}</code>  (<code>function</code>) Handler called after all requests are
                   completed. Server results are passed as a
                   <code>client_id:result</code> map.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>function</code>) cancel Function that cancels all requests.

</div>
<div class="help-para">
                                                  <code id="vim.lsp.buf_request_sync()" class="help-tag-right"><a href="#vim.lsp.buf_request_sync()">vim.lsp.buf_request_sync()</a></code>
buf_request_sync(<code>{bufnr}</code>, <code>{method}</code>, <code>{params}</code>, <code>{timeout_ms}</code>)
    Sends a request to all server and waits for the response of all of them.

</div>
<div class="help-para">
    Calls <a href="lsp.html#vim.lsp.buf_request_all()">vim.lsp.buf_request_all()</a> but blocks Nvim while awaiting the
    result. Parameters are the same as <a href="lsp.html#vim.lsp.buf_request_all()">vim.lsp.buf_request_all()</a> but the
    result is different. Waits a maximum of <code>{timeout_ms}</code>.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>       (<code>integer</code>) Buffer handle, or 0 for current.
</div><div class="help-li" style=""> <code>{method}</code>      (<code>string</code>) LSP method name
</div><div class="help-li" style=""> <code>{params}</code>      (<code>table?</code>) Parameters to send to the server
</div><div class="help-li" style=""> <code>{timeout_ms}</code>  (<code>integer?</code>, default: <code>1000</code>) Maximum time in
                      milliseconds to wait for a result.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return (multiple):</div>
        (<code>table&lt;integer, {err: lsp.ResponseError, result: any}&gt;?</code>) result Map
        of client_id:request_result.
        (<code>string?</code>) err On timeout, cancel, or error, <code>err</code> is a string
        describing the failure reason, and <code>result</code> is nil.

</div>
<div class="help-para">
client_is_stopped(<code>{client_id}</code>)                   <code id="vim.lsp.client_is_stopped()" class="help-tag-right"><a href="#vim.lsp.client_is_stopped()">vim.lsp.client_is_stopped()</a></code>
    Checks whether a client is stopped.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>boolean</code>) stopped true if client is stopped, false otherwise.

</div>
<div class="help-para">
commands                                                    <code id="vim.lsp.commands" class="help-tag-right"><a href="#vim.lsp.commands">vim.lsp.commands</a></code>
    Registry for client side commands. This is an extension point for plugins
    to handle custom commands which are not part of the core language server
    protocol specification.

</div>
<div class="help-para">
    The registry is a table where the key is a unique command name, and the
    value is a function which is called if any LSP action (code action, code
    lenses, ...) triggers the command.

</div>
<div class="help-para">
    If a LSP response contains a command for which no matching entry is
    available in this registry, the command will be executed via the LSP
    server using <code>workspace/executeCommand</code>.

</div>
<div class="help-para">
    The first argument to the function will be the <code>Command</code>: Command title:
    String command: String arguments?: any[]

</div>
<div class="help-para">
    The second argument is the <code>ctx</code> of <a href="lsp.html#lsp-handler">lsp-handler</a>

</div>
<div class="help-para">
formatexpr(<code>{opts}</code>)                                      <code id="vim.lsp.formatexpr()" class="help-tag-right"><a href="#vim.lsp.formatexpr()">vim.lsp.formatexpr()</a></code>
    Provides an interface between the built-in client and a <code>formatexpr</code>
    function.

</div>
<div class="help-para">
    Currently only supports a single client. This can be set via
    <code>setlocal formatexpr=v:lua.vim.lsp.formatexpr()</code> but will typically or in
    <code>on_attach</code> via
    <code>vim.bo[bufnr].formatexpr = 'v:lua.vim.lsp.formatexpr(#{timeout_ms:250})'</code>.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{opts}</code>  (<code>table?</code>) A table with the following fields:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{timeout_ms}</code> (<code>integer</code>, default: 500ms) The timeout period
                  for the formatting request..
</div>
</div>
<div class="help-para">
                                          <code id="vim.lsp.get_buffers_by_client_id()" class="help-tag-right"><a href="#vim.lsp.get_buffers_by_client_id()">vim.lsp.get_buffers_by_client_id()</a></code>
get_buffers_by_client_id(<code>{client_id}</code>)
    Returns list of buffers attached to client_id.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>) client id
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>integer[]</code>) buffers list of buffer ids

</div>
<div class="help-para">
get_client_by_id(<code>{client_id}</code>)                     <code id="vim.lsp.get_client_by_id()" class="help-tag-right"><a href="#vim.lsp.get_client_by_id()">vim.lsp.get_client_by_id()</a></code>
    Gets a client by id, or nil if the id is invalid. The returned client may
    not yet be fully initialized.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>) client id
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>vim.lsp.Client?</code>) client rpc object

</div>
<div class="help-para">
get_clients(<code>{filter}</code>)                                  <code id="vim.lsp.get_clients()" class="help-tag-right"><a href="#vim.lsp.get_clients()">vim.lsp.get_clients()</a></code>
    Get active clients.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{filter}</code>  (<code>table?</code>) Key-value pairs used to filter the returned
                  clients.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{id}</code> (<code>integer</code>) Only return clients with the given id
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}</code> (<code>integer</code>) Only return clients attached to this
                    buffer
</div><div class="help-li" style="margin-left: 3rem;"> <code>{name}</code> (<code>string</code>) Only return clients with the given name
</div><div class="help-li" style="margin-left: 3rem;"> <code>{method}</code> (<code>string</code>) Only return clients supporting the
                    given method
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>vim.lsp.Client[]</code>) List of <a href="lsp.html#vim.lsp.Client">vim.lsp.Client</a> objects

</div>
<div class="help-para">
get_log_path()                                        <code id="vim.lsp.get_log_path()" class="help-tag-right"><a href="#vim.lsp.get_log_path()">vim.lsp.get_log_path()</a></code>
    Gets the path of the logfile used by the LSP client.

</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>string</code>) path to log file

</div>
<div class="help-para">
omnifunc(<code>{findstart}</code>, <code>{base}</code>)                             <code id="vim.lsp.omnifunc()" class="help-tag-right"><a href="#vim.lsp.omnifunc()">vim.lsp.omnifunc()</a></code>
    Implements <a href="options.html#'omnifunc'">'omnifunc'</a> compatible LSP completion.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{findstart}</code>  (<code>integer</code>) 0 or 1, decides behavior
</div><div class="help-li" style=""> <code>{base}</code>       (<code>integer</code>) findstart=0, text to match against
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>integer|table</code>) Decided by <code>{findstart}</code>:
<div class="help-li" style=""> findstart=0: column where the completion starts, or -2 or -3
</div><div class="help-li" style=""> findstart=1: list of matches (actually just calls <a href="builtin.html#complete()">complete()</a>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="insert.html#complete-functions">complete-functions</a>
</div><div class="help-li" style=""> <a href="insert.html#complete-items">complete-items</a>
</div><div class="help-li" style=""> <a href="autocmd.html#CompleteDone">CompleteDone</a>
</div>
</div>
<div class="help-para">
set_log_level(<code>{level}</code>)                               <code id="vim.lsp.set_log_level()" class="help-tag-right"><a href="#vim.lsp.set_log_level()">vim.lsp.set_log_level()</a></code>
    Sets the global log level for LSP logging.

</div>
<div class="help-para">
    Levels by name: "TRACE", "DEBUG", "INFO", "WARN", "ERROR", "OFF"

</div>
<div class="help-para">
    Level numbers begin with "TRACE" at 0

</div>
<div class="help-para">
    Use <code>lsp.log_levels</code> for reverse lookup.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{level}</code>  (<code>integer|string</code>) the case insensitive level name or number
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="lsp.html#vim.lsp.log_levels">vim.lsp.log_levels</a>
</div>
</div>
<div class="help-para">
start(<code>{config}</code>, <code>{opts}</code>)                                      <code id="vim.lsp.start()" class="help-tag-right"><a href="#vim.lsp.start()">vim.lsp.start()</a></code>
    Create a new LSP client and start a language server or reuses an already
    running client if one is found matching <code>name</code> and <code>root_dir</code>. Attaches
    the current buffer to the client.

</div>
<div class="help-para">
    Example:<pre><code class="language-lua">vim.lsp.start({
   name = 'my-server-name',
   cmd = {'name-of-language-server-executable'},
   root_dir = vim.fs.dirname(vim.fs.find({'pyproject.toml', 'setup.py'}, { upward = true })[1]),
})</code></pre>

</div>
<div class="help-para">
    See <a href="lsp.html#vim.lsp.start_client()">vim.lsp.start_client()</a> for all available options. The most important
    are:
<div class="help-li" style=""> <code>name</code> arbitrary name for the LSP client. Should be unique per language
      server.
</div><div class="help-li" style=""> <code>cmd</code> command string[] or function, described at
      <a href="lsp.html#vim.lsp.start_client()">vim.lsp.start_client()</a>.
</div><div class="help-li" style=""> <code>root_dir</code> path to the project root. By default this is used to decide
      if an existing client should be re-used. The example above uses
      <a href="lua.html#vim.fs.find()">vim.fs.find()</a> and <a href="lua.html#vim.fs.dirname()">vim.fs.dirname()</a> to detect the root by traversing
      the file system upwards starting from the current directory until either
      a <code>pyproject.toml</code> or <code>setup.py</code> file is found.
</div><div class="help-li" style=""> <code>workspace_folders</code> list of <code>{ uri:string, name: string }</code> tables
      specifying the project root folders used by the language server. If
      <code>nil</code> the property is derived from <code>root_dir</code> for convenience.
</div>
</div>
<div class="help-para">
    Language servers use this information to discover metadata like the
    dependencies of your project and they tend to index the contents within
    the project folder.

</div>
<div class="help-para">
    To ensure a language server is only started for languages it can handle,
    make sure to call <a href="lsp.html#vim.lsp.start()">vim.lsp.start()</a> within a <a href="autocmd.html#FileType">FileType</a> autocmd. Either
    use <a href="autocmd.html#%3Aau">:au</a>, <a href="api.html#nvim_create_autocmd()">nvim_create_autocmd()</a> or put the call in a
    <code>ftplugin/&lt;filetype_name&gt;.lua</code> (See <a href="usr_05.html#ftplugin-name">ftplugin-name</a>)

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{config}</code>  (<code>vim.lsp.ClientConfig</code>) Configuration for the server. See
                  <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a>.
</div><div class="help-li" style=""> <code>{opts}</code>    (<code>table?</code>) Optional keyword arguments
</div><div class="help-li" style="margin-left: 3rem;"> <code>{reuse_client}</code>
                    (<code>fun(client: vim.lsp.Client, config: table): boolean</code>)
                    Predicate used to decide if a client should be re-used.
                    Used on all running clients. The default implementation
                    re-uses a client if name and root_dir matches.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}</code> (<code>integer</code>) Buffer handle to attach to if starting
                    or re-using a client (0 for current).
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>integer?</code>) client_id

</div>
<div class="help-para">
start_client(<code>{config}</code>)                                <code id="vim.lsp.start_client()" class="help-tag-right"><a href="#vim.lsp.start_client()">vim.lsp.start_client()</a></code>
    Starts and initializes a client with the given configuration.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{config}</code>  (<code>vim.lsp.ClientConfig</code>) Configuration for the server. See
                  <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a>.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>integer?</code>) client_id <a href="lsp.html#vim.lsp.get_client_by_id()">vim.lsp.get_client_by_id()</a><a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+lsp.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/lsp.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Cvim.lsp.ClientConfig%7C.%0A%0A%20%20%20%20Return%3A%20~%0A%20%20%20%20%20%20%20%20(%60integer%3F%60)%20client_id%20%7Cvim.lsp.get_client_by_id()%7C%20Note%3A%20client%20may%0A%20%20%20%20%20%20%20%20not%20be%20fully%20initialized.%20Use%20%60on_init%60%20to%20do%20any%20actions%20once%20the%0A%20%20%20%20%20%20%20%20client%20has%20been%20initialized.%0A%0D%60%60%60">Note:</a> client may
        not be fully initialized. Use <code>on_init</code> to do any actions once the
        client has been initialized.

</div>
<div class="help-para">
status()                                                    <code id="vim.lsp.status()" class="help-tag-right"><a href="#vim.lsp.status()">vim.lsp.status()</a></code>
    Consumes the latest progress messages from all clients and formats them as
    a string. Empty if there are no clients or if no new messages

</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>string</code>)

</div>
<div class="help-para">
stop_client(<code>{client_id}</code>, <code>{force}</code>)                      <code id="vim.lsp.stop_client()" class="help-tag-right"><a href="#vim.lsp.stop_client()">vim.lsp.stop_client()</a></code>
    Stops a client(s).

</div>
<div class="help-para">
    You can also use the <code>stop()</code> function on a <a href="lsp.html#vim.lsp.Client">vim.lsp.Client</a> object. To
    stop all clients:<pre><code class="language-lua">vim.lsp.stop_client(vim.lsp.get_clients())</code></pre>

</div>
<div class="help-para">
    By default asks the server to shutdown, unless stop was requested already
    for this client, then force-shutdown is attempted.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{client_id}</code>  (<code>integer|vim.lsp.Client</code>) id or <a href="lsp.html#vim.lsp.Client">vim.lsp.Client</a> object,
                     or list thereof
</div><div class="help-li" style=""> <code>{force}</code>      (<code>boolean?</code>) shutdown forcefully
</div>
</div>
<div class="help-para">
tagfunc(<code>{pattern}</code>, <code>{flags}</code>)                                <code id="vim.lsp.tagfunc()" class="help-tag-right"><a href="#vim.lsp.tagfunc()">vim.lsp.tagfunc()</a></code>
    Provides an interface between the built-in client and <a href="options.html#'tagfunc'">'tagfunc'</a>.

</div>
<div class="help-para">
    When used with normal mode commands (e.g. <a href="tagsrch.html#CTRL-%5D">CTRL-]</a>) this will invoke the
    "textDocument/definition" LSP method to find the tag under the cursor.
    Otherwise, uses "workspace/symbol". If no results are returned from any
    LSP servers, falls back to using built-in tags.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{pattern}</code>  (<code>string</code>) Pattern used to find a workspace symbol
</div><div class="help-li" style=""> <code>{flags}</code>    (<code>string</code>) See <a href="tagsrch.html#tag-function">tag-function</a>
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>table[]</code>) tags A list of matching tags

</div>
<div class="help-para">
with(<code>{handler}</code>, <code>{override_config}</code>)                            <code id="vim.lsp.with()" class="help-tag-right"><a href="#vim.lsp.with()">vim.lsp.with()</a></code>
    Function to manage overriding defaults for LSP handlers.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{handler}</code>          (<code>lsp.Handler</code>) See <a href="lsp.html#lsp-handler">lsp-handler</a>
</div><div class="help-li" style=""> <code>{override_config}</code>  (<code>table</code>) Table containing the keys to override
                           behavior of the <code>{handler}</code>
</div>
</div>
<div class="help-para">
<h2 id="lsp-client" class="help-heading">Lua module: vim.lsp.client<span class="help-heading-tags">                                        <span class="help-tag"><a href="#lsp-client">lsp-client</a></span></h2>


</div>
<div class="help-para">
<code id="vim.lsp.Client" class="help-tag"><a href="#vim.lsp.Client">vim.lsp.Client</a></code>

</div>
<div class="help-para">
<div class="help-column_heading">    Fields:</div>
<div class="help-li" style=""> <code>{id}</code>                    (<code>integer</code>) The id allocated to the client.
</div><div class="help-li" style=""> <code>{name}</code>                  (<code>string</code>) If a name is specified on creation,
                                that will be used. Otherwise it is just the
                                client id. This is used for logs and messages.
</div><div class="help-li" style=""> <code>{rpc}</code>                   (<code>vim.lsp.rpc.PublicClient</code>) RPC client
                                object, for low level interaction with the
                                client. See <a href="lsp.html#vim.lsp.rpc.start()">vim.lsp.rpc.start()</a>.
</div><div class="help-li" style=""> <code>{offset_encoding}</code>       (<code>string</code>) The encoding used for communicating
                                with the server. You can modify this in the
                                <code>config</code>'s <code>on_init</code> method before text is
                                sent to the server.
</div><div class="help-li" style=""> <code>{handlers}</code>              (<code>table&lt;string,lsp.Handler&gt;</code>) The handlers
                                used by the client as described in
                                <a href="lsp.html#lsp-handler">lsp-handler</a>.
</div><div class="help-li" style=""> <code>{requests}</code>              (<code>table&lt;integer,{ type: string, bufnr: integer, method: string}&gt;</code>)
                                The current pending requests in flight to the
                                server. Entries are key-value pairs with the
                                key being the request id while the value is a
                                table with <code>type</code>, <code>bufnr</code>, and <code>method</code>
                                key-value pairs. <code>type</code> is either "pending"
                                for an active request, or "cancel" for a
                                cancel request. It will be "complete"
                                ephemerally while executing <a href="lsp.html#LspRequest">LspRequest</a>
                                autocmds when replies are received from the
                                server.
</div><div class="help-li" style=""> <code>{config}</code>                (<code>vim.lsp.ClientConfig</code>) copy of the table
                                that was passed by the user to
                                <a href="lsp.html#vim.lsp.start_client()">vim.lsp.start_client()</a>. See
                                <a href="lsp.html#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a>.
</div><div class="help-li" style=""> <code>{server_capabilities}</code>   (<code>lsp.ServerCapabilities?</code>) Response from the
                                server sent on <code>initialize</code> describing the
                                server's capabilities.
</div><div class="help-li" style=""> <code>{progress}</code>              (<code>vim.lsp.Client.Progress</code>) A ring buffer
                                (<a href="lua.html#vim.ringbuf()">vim.ringbuf()</a>) containing progress messages
                                sent by the server. See
                                <a href="lsp.html#vim.lsp.Client.Progress">vim.lsp.Client.Progress</a>.
</div><div class="help-li" style=""> <code>{initialized}</code>           (<code>true?</code>)
</div><div class="help-li" style=""> <code>{workspace_folders}</code>     (<code>lsp.WorkspaceFolder[]?</code>) The workspace
                                folders configured in the client when the
                                server starts. This property is only available
                                if the client supports workspace folders. It
                                can be <code>null</code> if the client supports workspace
                                folders but none are configured.
</div><div class="help-li" style=""> <code>{root_dir}</code>              (<code>string</code>)
</div><div class="help-li" style=""> <code>{attached_buffers}</code>      (<code>table&lt;integer,true&gt;</code>)
</div><div class="help-li" style=""> <code>{commands}</code>              (<code>table&lt;string,fun(command: lsp.Command, ctx: table)&gt;</code>)
                                Table of command name to function which is
                                called if any LSP action (code action, code
                                lenses, ...) triggers the command. Client
                                commands take precedence over the global
                                command registry.
</div><div class="help-li" style=""> <code>{settings}</code>              (<code>table</code>) Map with language server specific
                                settings. These are returned to the language
                                server if requested via
                                <code>workspace/configuration</code>. Keys are
                                case-sensitive.
</div><div class="help-li" style=""> <code>{flags}</code>                 (<code>table</code>) A table with flags for the client.
                                The current (experimental) flags are:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{allow_incremental_sync}</code> (<code>boolean</code>,
                                  default: <code>true</code>) Allow using incremental
                                  sync for buffer edits
</div><div class="help-li" style="margin-left: 3rem;"> <code>{debounce_text_changes}</code> (<code>integer</code>, default:
                                  <code>150</code>) Debounce <code>didChange</code> notifications to
                                  the server by the given number in
                                  milliseconds. No debounce occurs if <code>nil</code>.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{exit_timeout}</code> (<code>integer|false</code>, default:
                                  <code>false</code>) Milliseconds to wait for server to
                                  exit cleanly after sending the "shutdown"
                                  request before sending kill -15. If set to
                                  false, nvim exits immediately after sending
                                  the "shutdown" request to the server.
</div><div class="help-li" style=""> <code>{get_language_id}</code>       (<code>fun(bufnr: integer, filetype: string): string</code>)
</div><div class="help-li" style=""> <code>{capabilities}</code>          (<code>lsp.ClientCapabilities</code>) The capabilities
                                provided by the client (editor or tool)
</div><div class="help-li" style=""> <code>{dynamic_capabilities}</code>  (<code>lsp.DynamicCapabilities</code>)
</div><div class="help-li" style=""> <code>{request}</code>               (<code>fun(method: string, params: table?, handler: lsp.Handler?, bufnr: integer): boolean, integer?</code>)
                                Sends a request to the server. This is a thin
                                wrapper around <code>{client.rpc.request}</code> with some
                                additional checking. If <code>{handler}</code> is not
                                specified and if there's no respective global
                                handler, then an error will occur. Returns:
                                <code>{status}</code>, <code>{client_id}</code>. <code>{status}</code> is a boolean
                                indicating if the notification was successful.
                                If it is <code>false</code>, then it will always be
                                <code>false</code> (the client has shutdown). If <code>{status}</code>
                                is <code>true</code>, the function returns <code>{request_id}</code>
                                as the second result. You can use this with
                                <code>client.cancel_request(request_id)</code> to cancel
                                the request.
</div><div class="help-li" style=""> <code>{request_sync}</code>          (<code>fun(method: string, params: table?, timeout_ms: integer?, bufnr: integer): {err: lsp.ResponseError?, result:any}?, string?</code>)
                                err # a dictionary, where
</div><div class="help-li" style=""> <code>{notify}</code>                (<code>fun(method: string, params: table?): boolean</code>)
                                Sends a notification to an LSP server.
                                Returns: a boolean to indicate if the
                                notification was successful. If it is false,
                                then it will always be false (the client has
                                shutdown).
</div><div class="help-li" style=""> <code>{cancel_request}</code>        (<code>fun(id: integer): boolean</code>) Cancels a
                                request with a given request id. Returns: same
                                as <code>notify()</code>.
</div><div class="help-li" style=""> <code>{stop}</code>                  (<code>fun(force?: boolean)</code>) Stops a client,
                                optionally with force. By default, it will
                                just ask the server to shutdown without force.
                                If you request to stop a client which has
                                previously been requested to shutdown, it will
                                automatically escalate and force shutdown.
</div><div class="help-li" style=""> <code>{on_attach}</code>             (<code>fun(bufnr: integer)</code>) Runs the on_attach
                                function from the client's config if it was
                                defined. Useful for buffer-local setup.
</div><div class="help-li" style=""> <code>{supports_method}</code>       (<code>fun(method: string, opts?: {bufnr: integer?}): boolean</code>)
                                Checks if a client supports a given method.
                                Always returns true for unknown off-spec
                                methods. <code>{opts}</code> is a optional
                                <code>{bufnr?: integer}</code> table. Some language
                                server capabilities can be file specific.
</div><div class="help-li" style=""> <code>{is_stopped}</code>            (<code>fun(): boolean</code>) Checks whether a client is
                                stopped. Returns: true if the client is fully
                                stopped.
</div>
</div>
<div class="help-para">
<code id="vim.lsp.Client.Progress" class="help-tag"><a href="#vim.lsp.Client.Progress">vim.lsp.Client.Progress</a></code>
    Extends: <a href="lua.html#vim.Ringbuf">vim.Ringbuf</a>

</div>
<div class="help-para">
<div class="help-column_heading">    Fields:</div>
<div class="help-li" style=""> <code>{pending}</code>  (<code>table&lt;lsp.ProgressToken,lsp.LSPAny&gt;</code>)
</div>
</div>
<div class="help-para">
<code id="vim.lsp.ClientConfig" class="help-tag"><a href="#vim.lsp.ClientConfig">vim.lsp.ClientConfig</a></code>

</div>
<div class="help-para">
<div class="help-column_heading">    Fields:</div>
<div class="help-li" style=""> <code>{cmd}</code>                 (<code>string[]|fun(dispatchers: vim.lsp.rpc.Dispatchers): vim.lsp.rpc.PublicClient?</code>)
                              command string[] that launches the language
                              server (treated as in <a href="builtin.html#jobstart()">jobstart()</a>, must be
                              absolute or on <code>$PATH</code>, shell constructs like
                              "~" are not expanded), or function that creates
                              an RPC client. Function receives a <code>dispatchers</code>
                              table and returns a table with member functions
                              <code>request</code>, <code>notify</code>, <code>is_closing</code> and
                              <code>terminate</code>. See <a href="lsp.html#vim.lsp.rpc.request()">vim.lsp.rpc.request()</a>,
                              <a href="lsp.html#vim.lsp.rpc.notify()">vim.lsp.rpc.notify()</a>. For TCP there is a
                              builtin RPC client factory:
                              <a href="lsp.html#vim.lsp.rpc.connect()">vim.lsp.rpc.connect()</a>
</div><div class="help-li" style=""> <code>{cmd_cwd}</code>            (<code>string</code>, default: cwd) Directory to launch the
                              <code>cmd</code> process. Not related to <code>root_dir</code>.
</div><div class="help-li" style=""> <code>{cmd_env}</code>            (<code>table</code>) Environment flags to pass to the LSP
                              on spawn. Must be specified using a table.
                              Non-string values are coerced to string.
                              Example:<pre><code class="language-lua">{ PORT = 8080; HOST = "0.0.0.0"; }</code></pre>
</div>
</div>
<div class="help-para">
<div class="help-li" style=""> <code>{detached}</code>           (<code>boolean</code>, default: true) Daemonize the server
                              process so that it runs in a separate process
                              group from Nvim. Nvim will shutdown the process
                              on exit, but if Nvim fails to exit cleanly this
                              could leave behind orphaned server processes.
</div><div class="help-li" style=""> <code>{workspace_folders}</code>  (<code>lsp.WorkspaceFolder[]</code>) List of workspace
                              folders passed to the language server. For
                              backwards compatibility rootUri and rootPath
                              will be derived from the first workspace folder
                              in this list. See <code>workspaceFolders</code> in the LSP
                              spec.
</div><div class="help-li" style=""> <code>{capabilities}</code>       (<code>lsp.ClientCapabilities</code>) Map overriding the
                              default capabilities defined by
                              <a href="lsp.html#vim.lsp.protocol.make_client_capabilities()">vim.lsp.protocol.make_client_capabilities()</a>,
                              passed to the language server on initialization.
                              Hint: use make_client_capabilities() and modify
                              its result.
</div><div class="help-li" style="margin-left: 3rem;"><a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+lsp.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/lsp.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20passed%20to%20the%20language%20server%20on%20initialization.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Hint%3A%20use%20make_client_capabilities()%20and%20modify%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20its%20result.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%80%A2%20Note%3A%20To%20send%20an%20empty%20dictionary%20use%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Cvim.empty_dict()%7C%2C%20else%20it%20will%20be%20encoded%20as%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20an%20array.%0A%20%20%20%20%20%20%E2%80%A2%20%7Bhandlers%7D%3F%20%20%20%20%20%20%20%20%20%20%20(%60table%3Cstring%2Cfunction%3E%60)%20Map%20of%20language%0D%60%60%60">Note:</a> To send an empty dictionary use
                                <a href="lua.html#vim.empty_dict()">vim.empty_dict()</a>, else it will be encoded as
                                an array.
</div><div class="help-li" style=""> <code>{handlers}</code>           (<code>table&lt;string,function&gt;</code>) Map of language
                              server method names to <a href="lsp.html#lsp-handler">lsp-handler</a>
</div><div class="help-li" style=""> <code>{settings}</code>           (<code>table</code>) Map with language server specific
                              settings. See the <code>{settings}</code> in
                              <a href="lsp.html#vim.lsp.Client">vim.lsp.Client</a>.
</div><div class="help-li" style=""> <code>{commands}</code>           (<code>table&lt;string,fun(command: lsp.Command, ctx: table)&gt;</code>)
                              Table that maps string of clientside commands to
                              user-defined functions. Commands passed to
                              start_client take precedence over the global
                              command registry. Each key must be a unique
                              command name, and the value is a function which
                              is called if any LSP action (code action, code
                              lenses, ...) triggers the command.
</div><div class="help-li" style=""> <code>{init_options}</code>       (<code>table</code>) Values to pass in the initialization
                              request as <code>initializationOptions</code>. See
                              <code>initialize</code> in the LSP spec.
</div><div class="help-li" style=""> <code>{name}</code>               (<code>string</code>, default: client-id) Name in log
                              messages.
</div><div class="help-li" style=""> <code>{get_language_id}</code>    (<code>fun(bufnr: integer, filetype: string): string</code>)
                              Language ID as string. Defaults to the filetype.
</div><div class="help-li" style=""> <code>{offset_encoding}</code>    (<code>'utf-8'|'utf-16'|'utf-32'</code>) The encoding that
                              the LSP server expects. Client does not verify
                              this is correct.
</div><div class="help-li" style=""> <code>{on_error}</code>           (<code>fun(code: integer, err: string)</code>) Callback
                              invoked when the client operation throws an
                              error. <code>code</code> is a number describing the error.
                              Other arguments may be passed depending on the
                              error kind. See <code>vim.lsp.rpc.client_errors</code> for
                              possible errors. Use
                              <code>vim.lsp.rpc.client_errors[code]</code> to get
                              human-friendly name.
</div><div class="help-li" style=""> <code>{before_init}</code>        (<code>fun(params: lsp.InitializeParams, config: vim.lsp.ClientConfig)</code>)
                              Callback invoked before the LSP "initialize"
                              phase, where <code>params</code> contains the parameters
                              being sent to the server and <code>config</code> is the
                              config that was passed to
                              <a href="lsp.html#vim.lsp.start_client()">vim.lsp.start_client()</a>. You can use this to
                              modify parameters before they are sent.
</div><div class="help-li" style=""> <code>{on_init}</code>            (<code>elem_or_list&lt;fun(client: vim.lsp.Client, initialize_result: lsp.InitializeResult)&gt;</code>)
                              Callback invoked after LSP "initialize", where
                              <code>result</code> is a table of <code>capabilities</code> and
                              anything else the server may send. For example,
                              clangd sends <code>initialize_result.offsetEncoding</code>
                              if <code>capabilities.offsetEncoding</code> was sent to it.
                              You can only modify the <code>client.offset_encoding</code>
                              here before any notifications are sent.
</div><div class="help-li" style=""> <code>{on_exit}</code>            (<code>elem_or_list&lt;fun(code: integer, signal: integer, client_id: integer)&gt;</code>)
                              Callback invoked on client exit.
</div><div class="help-li" style="margin-left: 3rem;"> code: exit code of the process
</div><div class="help-li" style="margin-left: 3rem;"> signal: number describing the signal used to
                                terminate (if any)
</div><div class="help-li" style="margin-left: 3rem;"> client_id: client handle
</div><div class="help-li" style=""> <code>{on_attach}</code>          (<code>elem_or_list&lt;fun(client: vim.lsp.Client, bufnr: integer)&gt;</code>)
                              Callback invoked when client attaches to a
                              buffer.
</div><div class="help-li" style=""> <code>{trace}</code>              (<code>'off'|'messages'|'verbose'</code>, default: "off")
                              Passed directly to the language server in the
                              initialize request. Invalid/empty values will
</div><div class="help-li" style=""> <code>{flags}</code>              (<code>table</code>) A table with flags for the client. The
                              current (experimental) flags are:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{allow_incremental_sync}</code> (<code>boolean</code>, default:
                                <code>true</code>) Allow using incremental sync for
                                buffer edits
</div><div class="help-li" style="margin-left: 3rem;"> <code>{debounce_text_changes}</code> (<code>integer</code>, default:
                                <code>150</code>) Debounce <code>didChange</code> notifications to
                                the server by the given number in
                                milliseconds. No debounce occurs if <code>nil</code>.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{exit_timeout}</code> (<code>integer|false</code>, default:
                                <code>false</code>) Milliseconds to wait for server to
                                exit cleanly after sending the "shutdown"
                                request before sending kill -15. If set to
                                false, nvim exits immediately after sending
                                the "shutdown" request to the server.
</div><div class="help-li" style=""> <code>{root_dir}</code>           (<code>string</code>) Directory where the LSP server will
                              base its workspaceFolders, rootUri, and rootPath
                              on initialization.
</div>
</div>
<div class="help-para">
<h2 id="lsp-buf" class="help-heading">Lua module: vim.lsp.buf<span class="help-heading-tags">                                              <span class="help-tag"><a href="#lsp-buf">lsp-buf</a></span></h2>


</div>
<div class="help-para">
<code id="vim.lsp.ListOpts" class="help-tag"><a href="#vim.lsp.ListOpts">vim.lsp.ListOpts</a></code>

</div>
<div class="help-para">
<div class="help-column_heading">    Fields:</div>
<div class="help-li" style=""> <code>{on_list}</code>  (<code>fun(t: vim.lsp.LocationOpts.OnList)</code>) list-handler
                    replacing the default handler. Called for any non-empty
                    result. This table can be used with <a href="builtin.html#setqflist()">setqflist()</a> or
                    <a href="builtin.html#setloclist()">setloclist()</a>. E.g.:<pre><code class="language-lua">local function on_list(options)
  vim.fn.setqflist({}, ' ', options)
  vim.cmd.cfirst()
end
vim.lsp.buf.definition({ on_list = on_list })
vim.lsp.buf.references(nil, { on_list = on_list })</code></pre>
</div>
</div>
<div class="help-para">
                    If you prefer loclist do something like this:<pre><code class="language-lua">local function on_list(options)
  vim.fn.setloclist(0, {}, ' ', options)
  vim.cmd.lopen()
end</code></pre>

</div>
<div class="help-para">
<code id="vim.lsp.LocationOpts" class="help-tag"><a href="#vim.lsp.LocationOpts">vim.lsp.LocationOpts</a></code>
    Extends: <a href="lsp.html#vim.lsp.ListOpts">vim.lsp.ListOpts</a>

</div>
<div class="help-para">
<div class="help-column_heading">    Fields:</div>
<div class="help-li" style=""> <code>{reuse_win}</code>  (<code>boolean</code>) Jump to existing window if buffer is already
                      open.
</div>
</div>
<div class="help-para">
<code id="vim.lsp.LocationOpts.OnList" class="help-tag"><a href="#vim.lsp.LocationOpts.OnList">vim.lsp.LocationOpts.OnList</a></code>

</div>
<div class="help-para">
<div class="help-column_heading">    Fields:</div>
<div class="help-li" style=""> <code>{items}</code>     (<code>table[]</code>) Structured like <a href="builtin.html#setqflist-what">setqflist-what</a>
</div><div class="help-li" style=""> <code>{title}</code>    (<code>string</code>) Title for the list.
</div><div class="help-li" style=""> <code>{context}</code>  (<code>table</code>) <code>ctx</code> from <a href="lsp.html#lsp-handler">lsp-handler</a>
</div>
</div>
<div class="help-para">
                                          <code id="vim.lsp.buf.add_workspace_folder()" class="help-tag-right"><a href="#vim.lsp.buf.add_workspace_folder()">vim.lsp.buf.add_workspace_folder()</a></code>
add_workspace_folder(<code>{workspace_folder}</code>)
    Add the folder at path to the workspace folders. If <code>{path}</code> is not
    provided, the user will be prompted for a path using <a href="builtin.html#input()">input()</a>.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{workspace_folder}</code>  (<code>string?</code>)
</div>
</div>
<div class="help-para">
clear_references()                            <code id="vim.lsp.buf.clear_references()" class="help-tag-right"><a href="#vim.lsp.buf.clear_references()">vim.lsp.buf.clear_references()</a></code>
    Removes document highlights from current buffer.

</div>
<div class="help-para">
code_action(<code>{options}</code>)                             <code id="vim.lsp.buf.code_action()" class="help-tag-right"><a href="#vim.lsp.buf.code_action()">vim.lsp.buf.code_action()</a></code>
    Selects a code action available at the current cursor position.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{options}</code>  (<code>table?</code>) A table with the following fields:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{context}</code> (<code>lsp.CodeActionContext</code>) Corresponds to
                     <code>CodeActionContext</code> of the LSP specification:
</div><div class="help-li" style="margin-left: 4rem;"> <code>{diagnostics}</code> (<code>table</code>) LSP <code>Diagnostic[]</code>. Inferred
                       from the current position if not provided.
</div><div class="help-li" style="margin-left: 4rem;"> <code>{only}</code> (<code>table</code>) List of LSP <code>CodeActionKind</code>s used to
                       filter the code actions. Most language servers support
                       values like <code>refactor</code> or <code>quickfix</code>.
</div><div class="help-li" style="margin-left: 4rem;"> <code>{triggerKind}</code> (<code>integer</code>) The reason why code actions
                       were requested.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{filter}</code> (<code>fun(x: lsp.CodeAction|lsp.Command):boolean</code>)
                     Predicate taking an <code>CodeAction</code> and returning a boolean.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{apply}</code> (<code>boolean</code>) When set to <code>true</code>, and there is
                     just one remaining action (after filtering), the action
                     is applied without user query.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{range}</code> (<code>{start: integer[], end: integer[]}</code>) Range for
                     which code actions should be requested. If in visual mode
                     this defaults to the active selection. Table must contain
                     <code>start</code> and <code>end</code> keys with <code>{row,col}</code> tuples using
                     mark-like indexing. See <a href="api.html#api-indexing">api-indexing</a>
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_codeAction">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_codeAction</a>
</div><div class="help-li" style=""> vim.lsp.protocol.CodeActionTriggerKind
</div>
</div>
<div class="help-para">
completion(<code>{context}</code>)                               <code id="vim.lsp.buf.completion()" class="help-tag-right"><a href="#vim.lsp.buf.completion()">vim.lsp.buf.completion()</a></code>
    Retrieves the completion items at the current cursor position. Can only be
    called in Insert mode.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{context}</code>  (<code>table</code>) (context support not yet implemented) Additional
                   information about the context in which a completion was
                   triggered (how it was triggered, and by which trigger
                   character, if applicable)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> vim.lsp.protocol.CompletionTriggerKind
</div>
</div>
<div class="help-para">
declaration(<code>{options}</code>)                             <code id="vim.lsp.buf.declaration()" class="help-tag-right"><a href="#vim.lsp.buf.declaration()">vim.lsp.buf.declaration()</a></code>
    Jumps to the declaration of the symbol under the cursor.

</div>
<div class="help-para">
<div class="help-column_heading"><a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+lsp.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/lsp.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0Ddeclaration(%7Boptions%7D)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2Avim.lsp.buf.declaration()%2A%0A%20%20%20%20Jumps%20to%20the%20declaration%20of%20the%20symbol%20under%20the%20cursor.%0A%0A%20%20%20%20Note%3A%20~%0A%20%20%20%20%20%20%E2%80%A2%20Many%20servers%20do%20not%20implement%20this%20method.%20Generally%2C%20see%0A%20%20%20%20%20%20%20%20%7Cvim.lsp.buf.definition()%7C%20instead.%0A%0D%60%60%60">Note:</a></div>
<div class="help-li" style=""> Many servers do not implement this method. Generally, see
        <a href="lsp.html#vim.lsp.buf.definition()">vim.lsp.buf.definition()</a> instead.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{options}</code>  (<code>vim.lsp.LocationOpts?</code>) See <a href="lsp.html#vim.lsp.LocationOpts">vim.lsp.LocationOpts</a>.
</div>
</div>
<div class="help-para">
definition(<code>{options}</code>)                               <code id="vim.lsp.buf.definition()" class="help-tag-right"><a href="#vim.lsp.buf.definition()">vim.lsp.buf.definition()</a></code>
    Jumps to the definition of the symbol under the cursor.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{options}</code>  (<code>vim.lsp.LocationOpts?</code>) See <a href="lsp.html#vim.lsp.LocationOpts">vim.lsp.LocationOpts</a>.
</div>
</div>
<div class="help-para">
document_highlight()                        <code id="vim.lsp.buf.document_highlight()" class="help-tag-right"><a href="#vim.lsp.buf.document_highlight()">vim.lsp.buf.document_highlight()</a></code>
    Send request to the server to resolve document highlights for the current
    text document position. This request can be triggered by a key mapping or
    by events such as <code>CursorHold</code>, e.g.:<pre><code class="language-vim">autocmd CursorHold  &lt;buffer&gt; lua vim.lsp.buf.document_highlight()
autocmd CursorHoldI &lt;buffer&gt; lua vim.lsp.buf.document_highlight()
autocmd CursorMoved &lt;buffer&gt; lua vim.lsp.buf.clear_references()</code></pre>

</div>
<div class="help-para">
<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+lsp.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/lsp.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%20%20%20%20%20%20%20%20autocmd%20CursorMoved%20%3Cbuffer%3E%20lua%20vim.lsp.buf.clear_references()%0A%3C%0A%0A%20%20%20%20Note%3A%20Usage%20of%20%7Cvim.lsp.buf.document_highlight()%7C%20requires%20the%20following%0A%20%20%20%20highlight%20groups%20to%20be%20defined%20or%20you%20won't%20be%20able%20to%20see%20the%20actual%0A%20%20%20%20highlights.%20%7Chl-LspReferenceText%7C%20%7Chl-LspReferenceRead%7C%0A%20%20%20%20%7Chl-LspReferenceWrite%7C%0D%60%60%60">Note:</a> Usage of <a href="lsp.html#vim.lsp.buf.document_highlight()">vim.lsp.buf.document_highlight()</a> requires the following
    highlight groups to be defined or you won't be able to see the actual
    highlights. <a href="lsp.html#hl-LspReferenceText">hl-LspReferenceText</a> <a href="lsp.html#hl-LspReferenceRead">hl-LspReferenceRead</a>
    <a href="lsp.html#hl-LspReferenceWrite">hl-LspReferenceWrite</a>

</div>
<div class="help-para">
document_symbol(<code>{options}</code>)                     <code id="vim.lsp.buf.document_symbol()" class="help-tag-right"><a href="#vim.lsp.buf.document_symbol()">vim.lsp.buf.document_symbol()</a></code>
    Lists all symbols in the current buffer in the quickfix window.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{options}</code>  (<code>vim.lsp.ListOpts?</code>) See <a href="lsp.html#vim.lsp.ListOpts">vim.lsp.ListOpts</a>.
</div>
</div>
<div class="help-para">
execute_command(<code>{command_params}</code>)              <code id="vim.lsp.buf.execute_command()" class="help-tag-right"><a href="#vim.lsp.buf.execute_command()">vim.lsp.buf.execute_command()</a></code>
    Executes an LSP server command.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{command_params}</code>  (<code>lsp.ExecuteCommandParams</code>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_executeCommand">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_executeCommand</a>
</div>
</div>
<div class="help-para">
format(<code>{options}</code>)                                       <code id="vim.lsp.buf.format()" class="help-tag-right"><a href="#vim.lsp.buf.format()">vim.lsp.buf.format()</a></code>
    Formats a buffer using the attached (and optionally filtered) language
    server clients.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{options}</code>  (<code>table?</code>) A table with the following fields:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{formatting_options}</code> (<code>table</code>) Can be used to specify
                     FormattingOptions. Some unspecified options will be
                     automatically derived from the current Nvim options. See
                     <a href="https://microsoft.github.io/language-server-protocol/specification/#formattingOptions">https://microsoft.github.io/language-server-protocol/specification/#formattingOptions</a>
</div><div class="help-li" style="margin-left: 3rem;"> <code>{timeout_ms}</code> (<code>integer</code>, default: <code>1000</code>) Time in
                     milliseconds to block for formatting requests. No effect
                     if async=true.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}</code> (<code>integer</code>, default: current buffer) Restrict
                     formatting to the clients attached to the given buffer.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{filter}</code> (<code>fun(client: vim.lsp.Client): boolean?</code>)
                     Predicate used to filter clients. Receives a client as
                     argument and must return a boolean. Clients matching the
                     predicate are included. Example:<pre><code class="language-lua">-- Never request typescript-language-server for formatting
vim.lsp.buf.format {
  filter = function(client) return client.name ~= "tsserver" end
}</code></pre>
</div>
</div>
<div class="help-para">
<div class="help-li" style=""> <code>{async}</code> (<code>boolean</code>, default: false) If true the method
                     won't block. Editing the buffer while formatting
                     asynchronous can lead to unexpected changes.
</div><div class="help-li" style=""> <code>{id}</code> (<code>integer</code>) Restrict formatting to the client with
                     ID (client.id) matching this field.
</div><div class="help-li" style=""> <code>{name}</code> (<code>string</code>) Restrict formatting to the client with
                     name (client.name) matching this field.
</div><div class="help-li" style=""> <code>{range}</code> (<code>{start:integer[],end:integer[]}</code>, default:
                     current selection in visual mode, <code>nil</code> in other modes,
                     formatting the full buffer) Range to format. Table must
                     contain <code>start</code> and <code>end</code> keys with <code>{row,col}</code> tuples
                     using (1,0) indexing.
</div>
</div>
<div class="help-para">
hover()                                                  <code id="vim.lsp.buf.hover()" class="help-tag-right"><a href="#vim.lsp.buf.hover()">vim.lsp.buf.hover()</a></code>
    Displays hover information about the symbol under the cursor in a floating
    window. Calling the function twice will jump into the floating window.

</div>
<div class="help-para">
implementation(<code>{options}</code>)                       <code id="vim.lsp.buf.implementation()" class="help-tag-right"><a href="#vim.lsp.buf.implementation()">vim.lsp.buf.implementation()</a></code>
    Lists all the implementations for the symbol under the cursor in the
    quickfix window.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{options}</code>  (<code>vim.lsp.LocationOpts?</code>) See <a href="lsp.html#vim.lsp.LocationOpts">vim.lsp.LocationOpts</a>.
</div>
</div>
<div class="help-para">
incoming_calls()                                <code id="vim.lsp.buf.incoming_calls()" class="help-tag-right"><a href="#vim.lsp.buf.incoming_calls()">vim.lsp.buf.incoming_calls()</a></code>
    Lists all the call sites of the symbol under the cursor in the <a href="quickfix.html#quickfix">quickfix</a>
    window. If the symbol can resolve to multiple items, the user can pick one
    in the <a href="builtin.html#inputlist()">inputlist()</a>.

</div>
<div class="help-para">
list_workspace_folders()                <code id="vim.lsp.buf.list_workspace_folders()" class="help-tag-right"><a href="#vim.lsp.buf.list_workspace_folders()">vim.lsp.buf.list_workspace_folders()</a></code>
    List workspace folders.

</div>
<div class="help-para">
outgoing_calls()                                <code id="vim.lsp.buf.outgoing_calls()" class="help-tag-right"><a href="#vim.lsp.buf.outgoing_calls()">vim.lsp.buf.outgoing_calls()</a></code>
    Lists all the items that are called by the symbol under the cursor in the
    <a href="quickfix.html#quickfix">quickfix</a> window. If the symbol can resolve to multiple items, the user
    can pick one in the <a href="builtin.html#inputlist()">inputlist()</a>.

</div>
<div class="help-para">
references(<code>{context}</code>, <code>{options}</code>)                    <code id="vim.lsp.buf.references()" class="help-tag-right"><a href="#vim.lsp.buf.references()">vim.lsp.buf.references()</a></code>
    Lists all the references to the symbol under the cursor in the quickfix
    window.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{context}</code>  (<code>table?</code>) Context for the request
</div><div class="help-li" style=""> <code>{options}</code>  (<code>vim.lsp.ListOpts?</code>) See <a href="lsp.html#vim.lsp.ListOpts">vim.lsp.ListOpts</a>.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_references">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_references</a>
</div>
</div>
<div class="help-para">
                                       <code id="vim.lsp.buf.remove_workspace_folder()" class="help-tag-right"><a href="#vim.lsp.buf.remove_workspace_folder()">vim.lsp.buf.remove_workspace_folder()</a></code>
remove_workspace_folder(<code>{workspace_folder}</code>)
    Remove the folder at path from the workspace folders. If <code>{path}</code> is not
    provided, the user will be prompted for a path using <a href="builtin.html#input()">input()</a>.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{workspace_folder}</code>  (<code>string?</code>)
</div>
</div>
<div class="help-para">
rename(<code>{new_name}</code>, <code>{options}</code>)                           <code id="vim.lsp.buf.rename()" class="help-tag-right"><a href="#vim.lsp.buf.rename()">vim.lsp.buf.rename()</a></code>
    Renames all references to the symbol under the cursor.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{new_name}</code>  (<code>string?</code>) If not provided, the user will be prompted for
                    a new name using <a href="lua.html#vim.ui.input()">vim.ui.input()</a>.
</div><div class="help-li" style=""> <code>{options}</code>   (<code>table?</code>) Additional options:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{filter}</code> (<code>fun(client: vim.lsp.Client): boolean?</code>)
                      Predicate used to filter clients. Receives a client as
                      argument and must return a boolean. Clients matching the
                      predicate are included.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{name}</code> (<code>string</code>) Restrict clients used for rename to
                      ones where client.name matches this field.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}</code> (<code>integer</code>) (default: current buffer)
</div>
</div>
<div class="help-para">
signature_help()                                <code id="vim.lsp.buf.signature_help()" class="help-tag-right"><a href="#vim.lsp.buf.signature_help()">vim.lsp.buf.signature_help()</a></code>
    Displays signature information about the symbol under the cursor in a
    floating window.

</div>
<div class="help-para">
type_definition(<code>{options}</code>)                     <code id="vim.lsp.buf.type_definition()" class="help-tag-right"><a href="#vim.lsp.buf.type_definition()">vim.lsp.buf.type_definition()</a></code>
    Jumps to the definition of the type of the symbol under the cursor.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{options}</code>  (<code>vim.lsp.LocationOpts?</code>) See <a href="lsp.html#vim.lsp.LocationOpts">vim.lsp.LocationOpts</a>.
</div>
</div>
<div class="help-para">
workspace_symbol(<code>{query}</code>, <code>{options}</code>)          <code id="vim.lsp.buf.workspace_symbol()" class="help-tag-right"><a href="#vim.lsp.buf.workspace_symbol()">vim.lsp.buf.workspace_symbol()</a></code>
    Lists all symbols in the current workspace in the quickfix window.

</div>
<div class="help-para">
    The list is filtered against <code>{query}</code>; if the argument is omitted from the
    call, the user is prompted to enter a string on the command line. An empty
    string means no filtering is done.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{query}</code>    (<code>string?</code>) optional
</div><div class="help-li" style=""> <code>{options}</code>  (<code>vim.lsp.ListOpts?</code>) See <a href="lsp.html#vim.lsp.ListOpts">vim.lsp.ListOpts</a>.
</div>
</div>
<div class="help-para">
<h2 id="lsp-diagnostic" class="help-heading">Lua module: vim.lsp.diagnostic<span class="help-heading-tags">                                <span class="help-tag"><a href="#lsp-diagnostic">lsp-diagnostic</a></span></h2>


</div>
<div class="help-para">
                                          <code id="vim.lsp.diagnostic.get_namespace()" class="help-tag-right"><a href="#vim.lsp.diagnostic.get_namespace()">vim.lsp.diagnostic.get_namespace()</a></code>
get_namespace(<code>{client_id}</code>, <code>{is_pull}</code>)
    Get the diagnostic namespace associated with an LSP client
    <a href="diagnostic.html#vim.diagnostic">vim.diagnostic</a> for diagnostics

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>) The id of the LSP client
</div><div class="help-li" style=""> <code>{is_pull}</code>    (<code>boolean?</code>) Whether the namespace is for a pull or push
                     client. Defaults to push
</div>
</div>
<div class="help-para">
                                          <code id="vim.lsp.diagnostic.on_diagnostic()" class="help-tag-right"><a href="#vim.lsp.diagnostic.on_diagnostic()">vim.lsp.diagnostic.on_diagnostic()</a></code>
on_diagnostic(<code>{_}</code>, <code>{result}</code>, <code>{ctx}</code>, <code>{config}</code>)
    <a href="lsp.html#lsp-handler">lsp-handler</a> for the method "textDocument/diagnostic"

</div>
<div class="help-para">
    See <a href="diagnostic.html#vim.diagnostic.config()">vim.diagnostic.config()</a> for configuration options. Handler-specific
    configuration can be set using <a href="lsp.html#vim.lsp.with()">vim.lsp.with()</a>:<pre><code class="language-lua">vim.lsp.handlers["textDocument/diagnostic"] = vim.lsp.with(
  vim.lsp.diagnostic.on_diagnostic, {
    -- Enable underline, use default values
    underline = true,
    -- Enable virtual text, override spacing to 4
    virtual_text = {
      spacing = 4,
    },
    -- Use a function to dynamically turn signs off
    -- and on, using buffer local variables
    signs = function(namespace, bufnr)
      return vim.b[bufnr].show_signs == true
    end,
    -- Disable a feature
    update_in_insert = false,
  }
)</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{result}</code>  (<code>lsp.DocumentDiagnosticReport</code>)
</div><div class="help-li" style=""> <code>{ctx}</code>     (<code>lsp.HandlerContext</code>)
</div><div class="help-li" style=""> <code>{config}</code>  (<code>vim.diagnostic.Opts</code>) Configuration table (see
                  <a href="diagnostic.html#vim.diagnostic.config()">vim.diagnostic.config()</a>).
</div>
</div>
<div class="help-para">
                                 <code id="vim.lsp.diagnostic.on_publish_diagnostics()" class="help-tag-right"><a href="#vim.lsp.diagnostic.on_publish_diagnostics()">vim.lsp.diagnostic.on_publish_diagnostics()</a></code>
on_publish_diagnostics(<code>{_}</code>, <code>{result}</code>, <code>{ctx}</code>, <code>{config}</code>)
    <a href="lsp.html#lsp-handler">lsp-handler</a> for the method "textDocument/publishDiagnostics"

</div>
<div class="help-para">
    See <a href="diagnostic.html#vim.diagnostic.config()">vim.diagnostic.config()</a> for configuration options. Handler-specific
    configuration can be set using <a href="lsp.html#vim.lsp.with()">vim.lsp.with()</a>:<pre><code class="language-lua">vim.lsp.handlers["textDocument/publishDiagnostics"] = vim.lsp.with(
  vim.lsp.diagnostic.on_publish_diagnostics, {
    -- Enable underline, use default values
    underline = true,
    -- Enable virtual text, override spacing to 4
    virtual_text = {
      spacing = 4,
    },
    -- Use a function to dynamically turn signs off
    -- and on, using buffer local variables
    signs = function(namespace, bufnr)
      return vim.b[bufnr].show_signs == true
    end,
    -- Disable a feature
    update_in_insert = false,
  }
)</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{result}</code>  (<code>lsp.PublishDiagnosticsParams</code>)
</div><div class="help-li" style=""> <code>{ctx}</code>     (<code>lsp.HandlerContext</code>)
</div><div class="help-li" style=""> <code>{config}</code>  (<code>vim.diagnostic.Opts?</code>) Configuration table (see
                  <a href="diagnostic.html#vim.diagnostic.config()">vim.diagnostic.config()</a>).
</div>
</div>
<div class="help-para">
<h2 id="lsp-codelens" class="help-heading">Lua module: vim.lsp.codelens<span class="help-heading-tags">                                    <span class="help-tag"><a href="#lsp-codelens">lsp-codelens</a></span></h2>


</div>
<div class="help-para">
clear(<code>{client_id}</code>, <code>{bufnr}</code>)                         <code id="vim.lsp.codelens.clear()" class="help-tag-right"><a href="#vim.lsp.codelens.clear()">vim.lsp.codelens.clear()</a></code>
    Clear the lenses

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{client_id}</code>  (<code>integer?</code>) filter by client_id. All clients if nil
</div><div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer?</code>) filter by buffer. All buffers if nil, 0 for
                     current buffer
</div>
</div>
<div class="help-para">
display(<code>{lenses}</code>, <code>{bufnr}</code>, <code>{client_id}</code>)           <code id="vim.lsp.codelens.display()" class="help-tag-right"><a href="#vim.lsp.codelens.display()">vim.lsp.codelens.display()</a></code>
    Display the lenses using virtual text

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{lenses}</code>     (<code>lsp.CodeLens[]?</code>) lenses to display
</div><div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer</code>)
</div><div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>)
</div>
</div>
<div class="help-para">
get(<code>{bufnr}</code>)                                          <code id="vim.lsp.codelens.get()" class="help-tag-right"><a href="#vim.lsp.codelens.get()">vim.lsp.codelens.get()</a></code>
    Return all lenses for the given buffer

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>  (<code>integer</code>) Buffer number. 0 can be used for the current
                 buffer.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>lsp.CodeLens[]</code>)

</div>
<div class="help-para">
on_codelens(<code>{err}</code>, <code>{result}</code>, <code>{ctx}</code>)           <code id="vim.lsp.codelens.on_codelens()" class="help-tag-right"><a href="#vim.lsp.codelens.on_codelens()">vim.lsp.codelens.on_codelens()</a></code>
    <a href="lsp.html#lsp-handler">lsp-handler</a> for the method <code>textDocument/codeLens</code>

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{err}</code>     (<code>lsp.ResponseError?</code>)
</div><div class="help-li" style=""> <code>{result}</code>  (<code>lsp.CodeLens[]</code>)
</div><div class="help-li" style=""> <code>{ctx}</code>     (<code>lsp.HandlerContext</code>)
</div>
</div>
<div class="help-para">
refresh(<code>{opts}</code>)                                   <code id="vim.lsp.codelens.refresh()" class="help-tag-right"><a href="#vim.lsp.codelens.refresh()">vim.lsp.codelens.refresh()</a></code>
    Refresh the lenses.

</div>
<div class="help-para">
    It is recommended to trigger this using an autocmd or via keymap.

</div>
<div class="help-para">
    Example:<pre><code class="language-vim">autocmd BufEnter,CursorHold,InsertLeave &lt;buffer&gt; lua vim.lsp.codelens.refresh({ bufnr = 0 })</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{opts}</code>  (<code>table?</code>) Optional fields
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}</code> (<code>integer?</code>) filter by buffer. All buffers if nil, 0
                  for current buffer
</div>
</div>
<div class="help-para">
run()                                                 <code id="vim.lsp.codelens.run()" class="help-tag-right"><a href="#vim.lsp.codelens.run()">vim.lsp.codelens.run()</a></code>
    Run the code lens in the current line

</div>
<div class="help-para">
save(<code>{lenses}</code>, <code>{bufnr}</code>, <code>{client_id}</code>)                 <code id="vim.lsp.codelens.save()" class="help-tag-right"><a href="#vim.lsp.codelens.save()">vim.lsp.codelens.save()</a></code>
    Store lenses for a specific buffer and client

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{lenses}</code>     (<code>lsp.CodeLens[]?</code>) lenses to store
</div><div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer</code>)
</div><div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>)
</div>
</div>
<div class="help-para">
<h2 id="lsp-inlay_hint" class="help-heading">Lua module: vim.lsp.inlay_hint<span class="help-heading-tags">                                <span class="help-tag"><a href="#lsp-inlay_hint">lsp-inlay_hint</a></span></h2>


</div>
<div class="help-para">
enable(<code>{bufnr}</code>, <code>{enable}</code>)                        <code id="vim.lsp.inlay_hint.enable()" class="help-tag-right"><a href="#vim.lsp.inlay_hint.enable()">vim.lsp.inlay_hint.enable()</a></code>
    Enables or disables inlay hints for a buffer.

</div>
<div class="help-para">
    To "toggle", pass the inverse of <code>is_enabled()</code>:<pre><code class="language-lua">vim.lsp.inlay_hint.enable(0, not vim.lsp.inlay_hint.is_enabled())</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading"><a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+lsp.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/lsp.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%20%20%20%20%20%20%20%20vim.lsp.inlay_hint.enable(0%2C%20not%20vim.lsp.inlay_hint.is_enabled())%0A%3C%0A%0A%20%20%20%20Note%3A%20~%0A%20%20%20%20%20%20%E2%80%A2%20This%20API%20is%20pre-release%20(unstable).%0A%0A%20%20%20%20Parameters%3A%20~%0D%60%60%60">Note:</a></div>
<div class="help-li" style=""> This API is pre-release (unstable).
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>   (<code>integer?</code>) Buffer handle, or 0 or nil for current
</div><div class="help-li" style=""> <code>{enable}</code>  (<code>boolean?</code>) true/nil to enable, false to disable
</div>
</div>
<div class="help-para">
get(<code>{filter}</code>)                                       <code id="vim.lsp.inlay_hint.get()" class="help-tag-right"><a href="#vim.lsp.inlay_hint.get()">vim.lsp.inlay_hint.get()</a></code>
    Get the list of inlay hints, (optionally) restricted by buffer or range.

</div>
<div class="help-para">
    Example usage:<pre><code class="language-lua">local hint = vim.lsp.inlay_hint.get({ bufnr = 0 })[1] -- 0 for current buffer
local client = vim.lsp.get_client_by_id(hint.client_id)
resolved_hint = client.request_sync('inlayHint/resolve', hint.inlay_hint, 100, 0).result
vim.lsp.util.apply_text_edits(resolved_hint.textEdits, 0, client.encoding)
location = resolved_hint.label[1].location
client.request('textDocument/hover', {
  textDocument = { uri = location.uri },
  position = location.range.start,
})</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading"><a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+lsp.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/lsp.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%20%20%20%20%20%20%20%20%7D)%0A%3C%0A%0A%20%20%20%20Note%3A%20~%0A%20%20%20%20%20%20%E2%80%A2%20This%20API%20is%20pre-release%20(unstable).%0A%0A%20%20%20%20Parameters%3A%20~%0D%60%60%60">Note:</a></div>
<div class="help-li" style=""> This API is pre-release (unstable).
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{filter}</code>  (<code>table?</code>) Optional filters <a href="lua.html#kwargs">kwargs</a>:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{bufnr}</code> (<code>integer?</code>)
</div><div class="help-li" style="margin-left: 3rem;"> <code>{range}</code> (<code>lsp.Range?</code>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>table[]</code>) A list of objects with the following fields:
<div class="help-li" style=""> <code>{bufnr}</code> (<code>integer</code>)
</div><div class="help-li" style=""> <code>{client_id}</code> (<code>integer</code>)
</div><div class="help-li" style=""> <code>{inlay_hint}</code> (<code>lsp.InlayHint</code>)
</div>
</div>
<div class="help-para">
is_enabled(<code>{bufnr}</code>)                          <code id="vim.lsp.inlay_hint.is_enabled()" class="help-tag-right"><a href="#vim.lsp.inlay_hint.is_enabled()">vim.lsp.inlay_hint.is_enabled()</a></code>

</div>
<div class="help-para">
<div class="help-column_heading"><a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+lsp.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/lsp.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%0Ais_enabled(%7Bbufnr%7D)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2Avim.lsp.inlay_hint.is_enabled()%2A%0A%0A%20%20%20%20Note%3A%20~%0A%20%20%20%20%20%20%E2%80%A2%20This%20API%20is%20pre-release%20(unstable).%0A%0A%20%20%20%20Parameters%3A%20~%0D%60%60%60">Note:</a></div>
<div class="help-li" style=""> This API is pre-release (unstable).
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>  (<code>integer?</code>) Buffer handle, or 0 or nil for current
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>boolean</code>)

</div>
<div class="help-para">
<h2 id="lsp-semantic_tokens" class="help-heading">Lua module: vim.lsp.semantic_tokens<span class="help-heading-tags">                      <span class="help-tag"><a href="#lsp-semantic_tokens">lsp-semantic_tokens</a></span></h2>


</div>
<div class="help-para">
force_refresh(<code>{bufnr}</code>)               <code id="vim.lsp.semantic_tokens.force_refresh()" class="help-tag-right"><a href="#vim.lsp.semantic_tokens.force_refresh()">vim.lsp.semantic_tokens.force_refresh()</a></code>
    Force a refresh of all semantic tokens

</div>
<div class="help-para">
    Only has an effect if the buffer is currently active for semantic token
    highlighting (<a href="lsp.html#vim.lsp.semantic_tokens.start()">vim.lsp.semantic_tokens.start()</a> has been called for it)

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>  (<code>integer?</code>) filter by buffer. All buffers if nil, current
                 buffer if 0
</div>
</div>
<div class="help-para">
                                        <code id="vim.lsp.semantic_tokens.get_at_pos()" class="help-tag-right"><a href="#vim.lsp.semantic_tokens.get_at_pos()">vim.lsp.semantic_tokens.get_at_pos()</a></code>
get_at_pos(<code>{bufnr}</code>, <code>{row}</code>, <code>{col}</code>)
    Return the semantic token(s) at the given position. If called without
    arguments, returns the token under the cursor.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>  (<code>integer?</code>) Buffer number (0 for current buffer, default)
</div><div class="help-li" style=""> <code>{row}</code>    (<code>integer?</code>) Position row (default cursor position)
</div><div class="help-li" style=""> <code>{col}</code>    (<code>integer?</code>) Position column (default cursor position)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>table?</code>) List of tokens at position. Each token has the following
        fields:
<div class="help-li" style=""> line (integer) line number, 0-based
</div><div class="help-li" style=""> start_col (integer) start column, 0-based
</div><div class="help-li" style=""> end_col (integer) end column, 0-based
</div><div class="help-li" style=""> type (string) token type as string, e.g. "variable"
</div><div class="help-li" style=""> modifiers (table) token modifiers as a set. E.g., { static = true,
          readonly = true }
</div><div class="help-li" style=""> client_id (integer)
</div>
</div>
<div class="help-para">
                                   <code id="vim.lsp.semantic_tokens.highlight_token()" class="help-tag-right"><a href="#vim.lsp.semantic_tokens.highlight_token()">vim.lsp.semantic_tokens.highlight_token()</a></code>
highlight_token(<code>{token}</code>, <code>{bufnr}</code>, <code>{client_id}</code>, <code>{hl_group}</code>, <code>{opts}</code>)
    Highlight a semantic token.

</div>
<div class="help-para">
    Apply an extmark with a given highlight group for a semantic token. The
    mark will be deleted by the semantic token engine when appropriate; for
    example, when the LSP sends updated tokens. This function is intended for
    use inside <a href="lsp.html#LspTokenUpdate">LspTokenUpdate</a> callbacks.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{token}</code>      (<code>table</code>) a semantic token, found as <code>args.data.token</code> in
                     <a href="lsp.html#LspTokenUpdate">LspTokenUpdate</a>.
</div><div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer</code>) the buffer to highlight
</div><div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>) The ID of the <a href="lsp.html#vim.lsp.Client">vim.lsp.Client</a>
</div><div class="help-li" style=""> <code>{hl_group}</code>   (<code>string</code>) Highlight group name
</div><div class="help-li" style=""> <code>{opts}</code>       (<code>table?</code>) Optional parameters:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{priority}</code> (<code>integer</code>, default:
                       <code>vim.highlight.priorities.semantic_tokens + 3</code>)
                       Priority for the applied extmark.
</div>
</div>
<div class="help-para">
start(<code>{bufnr}</code>, <code>{client_id}</code>, <code>{opts}</code>)          <code id="vim.lsp.semantic_tokens.start()" class="help-tag-right"><a href="#vim.lsp.semantic_tokens.start()">vim.lsp.semantic_tokens.start()</a></code>
    Start the semantic token highlighting engine for the given buffer with the
    given client. The client must already be attached to the buffer.

</div>
<div class="help-para">
<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+lsp.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/lsp.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%20%20%20%20Start%20the%20semantic%20token%20highlighting%20engine%20for%20the%20given%20buffer%20with%20the%0A%20%20%20%20given%20client.%20The%20client%20must%20already%20be%20attached%20to%20the%20buffer.%0A%0A%20%20%20%20NOTE%3A%20This%20is%20currently%20called%20automatically%20by%0A%20%20%20%20%7Cvim.lsp.buf_attach_client()%7C.%20To%20opt-out%20of%20semantic%20highlighting%20with%20a%0A%20%20%20%20server%20that%20supports%20it%2C%20you%20can%20delete%20the%20semanticTokensProvider%20table%0A%20%20%20%20from%20the%20%7Bserver_capabilities%7D%20of%20your%20client%20in%20your%20%7CLspAttach%7C%20callback%0D%60%60%60">NOTE:</a> This is currently called automatically by
    <a href="lsp.html#vim.lsp.buf_attach_client()">vim.lsp.buf_attach_client()</a>. To opt-out of semantic highlighting with a
    server that supports it, you can delete the semanticTokensProvider table
    from the <code>{server_capabilities}</code> of your client in your <a href="lsp.html#LspAttach">LspAttach</a> callback
    or your configuration's <code>on_attach</code> callback:<pre><code class="language-lua">client.server_capabilities.semanticTokensProvider = nil</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer</code>)
</div><div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>)
</div><div class="help-li" style=""> <code>{opts}</code>       (<code>table?</code>) Optional keyword arguments
</div><div class="help-li" style="margin-left: 3rem;"> debounce (integer, default: 200): Debounce token
                       requests to the server by the given number in
                       milliseconds
</div>
</div>
<div class="help-para">
stop(<code>{bufnr}</code>, <code>{client_id}</code>)                    <code id="vim.lsp.semantic_tokens.stop()" class="help-tag-right"><a href="#vim.lsp.semantic_tokens.stop()">vim.lsp.semantic_tokens.stop()</a></code>
    Stop the semantic token highlighting engine for the given buffer with the
    given client.

</div>
<div class="help-para">
<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+lsp.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/lsp.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%20%20%20%20Stop%20the%20semantic%20token%20highlighting%20engine%20for%20the%20given%20buffer%20with%20the%0A%20%20%20%20given%20client.%0A%0A%20%20%20%20NOTE%3A%20This%20is%20automatically%20called%20by%20a%20%7CLspDetach%7C%20autocmd%20that%20is%20set%20up%0A%20%20%20%20as%20part%20of%20%60start()%60%2C%20so%20you%20should%20only%20need%20this%20function%20to%20manually%0A%20%20%20%20disengage%20the%20semantic%20token%20engine%20without%20fully%20detaching%20the%20LSP%20client%0A%20%20%20%20from%20the%20buffer.%0D%60%60%60">NOTE:</a> This is automatically called by a <a href="lsp.html#LspDetach">LspDetach</a> autocmd that is set up
    as part of <code>start()</code>, so you should only need this function to manually
    disengage the semantic token engine without fully detaching the LSP client
    from the buffer.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>      (<code>integer</code>)
</div><div class="help-li" style=""> <code>{client_id}</code>  (<code>integer</code>)
</div>
</div>
<div class="help-para">
<h2 id="lsp-handlers" class="help-heading">Lua module: vim.lsp.handlers<span class="help-heading-tags">                                    <span class="help-tag"><a href="#lsp-handlers">lsp-handlers</a></span></h2>


</div>
<div class="help-para">
hover(<code>{_}</code>, <code>{result}</code>, <code>{ctx}</code>, <code>{config}</code>)               <code id="vim.lsp.handlers.hover()" class="help-tag-right"><a href="#vim.lsp.handlers.hover()">vim.lsp.handlers.hover()</a></code>
    <a href="lsp.html#lsp-handler">lsp-handler</a> for the method "textDocument/hover"<pre><code class="language-lua">vim.lsp.handlers["textDocument/hover"] = vim.lsp.with(
  vim.lsp.handlers.hover, {
    -- Use a sharp border with `FloatBorder` highlights
    border = "single",
    -- add the title in hover float window
    title = "hover"
  }
)</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{result}</code>  (<code>lsp.Hover</code>)
</div><div class="help-li" style=""> <code>{ctx}</code>     (<code>lsp.HandlerContext</code>)
</div><div class="help-li" style=""> <code>{config}</code>  (<code>table</code>) Configuration table.
</div><div class="help-li" style="margin-left: 3rem;"> border: (default=nil)
</div><div class="help-li" style="margin-left: 4rem;"> Add borders to the floating window
</div><div class="help-li" style="margin-left: 4rem;"> See <a href="lsp.html#vim.lsp.util.open_floating_preview()">vim.lsp.util.open_floating_preview()</a> for more
                      options.
</div>
</div>
<div class="help-para">
                                           <code id="vim.lsp.handlers.signature_help()" class="help-tag-right"><a href="#vim.lsp.handlers.signature_help()">vim.lsp.handlers.signature_help()</a></code>
signature_help(<code>{_}</code>, <code>{result}</code>, <code>{ctx}</code>, <code>{config}</code>)
    <a href="lsp.html#lsp-handler">lsp-handler</a> for the method "textDocument/signatureHelp".

</div>
<div class="help-para">
    The active parameter is highlighted with <a href="lsp.html#hl-LspSignatureActiveParameter">hl-LspSignatureActiveParameter</a>.<pre><code class="language-lua">vim.lsp.handlers["textDocument/signatureHelp"] = vim.lsp.with(
  vim.lsp.handlers.signature_help, {
    -- Use a sharp border with `FloatBorder` highlights
    border = "single"
  }
)</code></pre>

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{result}</code>  (<code>lsp.SignatureHelp</code>) Response from the language server
</div><div class="help-li" style=""> <code>{ctx}</code>     (<code>lsp.HandlerContext</code>) Client context
</div><div class="help-li" style=""> <code>{config}</code>  (<code>table</code>) Configuration table.
</div><div class="help-li" style="margin-left: 3rem;"> border: (default=nil)
</div><div class="help-li" style="margin-left: 4rem;"> Add borders to the floating window
</div><div class="help-li" style="margin-left: 4rem;"> See <a href="lsp.html#vim.lsp.util.open_floating_preview()">vim.lsp.util.open_floating_preview()</a> for more
                      options
</div>
</div>
<div class="help-para">
<h2 id="lsp-util" class="help-heading">Lua module: vim.lsp.util<span class="help-heading-tags">                                            <span class="help-tag"><a href="#lsp-util">lsp-util</a></span></h2>


</div>
<div class="help-para">
                                     <code id="vim.lsp.util.apply_text_document_edit()" class="help-tag-right"><a href="#vim.lsp.util.apply_text_document_edit()">vim.lsp.util.apply_text_document_edit()</a></code>
apply_text_document_edit(<code>{text_document_edit}</code>, <code>{index}</code>, <code>{offset_encoding}</code>)
    Applies a <code>TextDocumentEdit</code>, which is a list of changes to a single
    document.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{text_document_edit}</code>  (<code>table</code>) a <code>TextDocumentEdit</code> object
</div><div class="help-li" style=""> <code>{index}</code>               (<code>integer</code>) Optional index of the edit, if from
                              a list of edits (or nil, if not from a list)
</div><div class="help-li" style=""> <code>{offset_encoding}</code>     (<code>string?</code>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentEdit">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentEdit</a>
</div>
</div>
<div class="help-para">
                                             <code id="vim.lsp.util.apply_text_edits()" class="help-tag-right"><a href="#vim.lsp.util.apply_text_edits()">vim.lsp.util.apply_text_edits()</a></code>
apply_text_edits(<code>{text_edits}</code>, <code>{bufnr}</code>, <code>{offset_encoding}</code>)
    Applies a list of text edits to a buffer.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{text_edits}</code>       (<code>table</code>) list of <code>TextEdit</code> objects
</div><div class="help-li" style=""> <code>{bufnr}</code>            (<code>integer</code>) Buffer id
</div><div class="help-li" style=""> <code>{offset_encoding}</code>  (<code>string</code>) utf-8|utf-16|utf-32
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textEdit">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textEdit</a>
</div>
</div>
<div class="help-para">
                                         <code id="vim.lsp.util.apply_workspace_edit()" class="help-tag-right"><a href="#vim.lsp.util.apply_workspace_edit()">vim.lsp.util.apply_workspace_edit()</a></code>
apply_workspace_edit(<code>{workspace_edit}</code>, <code>{offset_encoding}</code>)
    Applies a <code>WorkspaceEdit</code>.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{workspace_edit}</code>   (<code>table</code>) <code>WorkspaceEdit</code>
</div><div class="help-li" style=""> <code>{offset_encoding}</code>  (<code>string</code>) utf-8|utf-16|utf-32 (required)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_applyEdit">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_applyEdit</a>
</div>
</div>
<div class="help-para">
buf_clear_references(<code>{bufnr}</code>)            <code id="vim.lsp.util.buf_clear_references()" class="help-tag-right"><a href="#vim.lsp.util.buf_clear_references()">vim.lsp.util.buf_clear_references()</a></code>
    Removes document highlights from a buffer.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>  (<code>integer?</code>) Buffer id
</div>
</div>
<div class="help-para">
                                     <code id="vim.lsp.util.buf_highlight_references()" class="help-tag-right"><a href="#vim.lsp.util.buf_highlight_references()">vim.lsp.util.buf_highlight_references()</a></code>
buf_highlight_references(<code>{bufnr}</code>, <code>{references}</code>, <code>{offset_encoding}</code>)
    Shows a list of document highlights for a certain buffer.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>            (<code>integer</code>) Buffer id
</div><div class="help-li" style=""> <code>{references}</code>       (<code>table</code>) List of <code>DocumentHighlight</code> objects to
                           highlight
</div><div class="help-li" style=""> <code>{offset_encoding}</code>  (<code>string</code>) One of "utf-8", "utf-16", "utf-32".
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specification/#textDocumentContentChangeEvent">https://microsoft.github.io/language-server-protocol/specification/#textDocumentContentChangeEvent</a>
</div>
</div>
<div class="help-para">
                                             <code id="vim.lsp.util.character_offset()" class="help-tag-right"><a href="#vim.lsp.util.character_offset()">vim.lsp.util.character_offset()</a></code>
character_offset(<code>{buf}</code>, <code>{row}</code>, <code>{col}</code>, <code>{offset_encoding}</code>)
    Returns the UTF-32 and UTF-16 offsets for a position in a certain buffer.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{buf}</code>              (<code>integer</code>) buffer number (0 for current)
</div><div class="help-li" style=""> <code>{row}</code>              (<code>integer</code>) 0-indexed line
</div><div class="help-li" style=""> <code>{col}</code>              (<code>integer</code>) 0-indexed byte offset in line
</div><div class="help-li" style=""> <code>{offset_encoding}</code>  (<code>string</code>) utf-8|utf-16|utf-32 defaults to
                           <code>offset_encoding</code> of first client of <code>buf</code>
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>integer</code>) <code>offset_encoding</code> index of the character in line <code>{row}</code>
        column <code>{col}</code> in buffer <code>{buf}</code>

</div>
<div class="help-para">
                              <code id="vim.lsp.util.convert_input_to_markdown_lines()" class="help-tag-right"><a href="#vim.lsp.util.convert_input_to_markdown_lines()">vim.lsp.util.convert_input_to_markdown_lines()</a></code>
convert_input_to_markdown_lines(<code>{input}</code>, <code>{contents}</code>)
    Converts any of <code>MarkedString</code> | <code>MarkedString[]</code> | <code>MarkupContent</code> into a
    list of lines containing valid markdown. Useful to populate the hover
    window for <code>textDocument/hover</code>, for parsing the result of
    <code>textDocument/signatureHelp</code>, and potentially others.

</div>
<div class="help-para">
    Note that if the input is of type <code>MarkupContent</code> and its kind is
    <code>plaintext</code>, then the corresponding value is returned without further
    modifications.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{input}</code>     (<code>lsp.MarkedString|lsp.MarkedString[]|lsp.MarkupContent</code>)
</div><div class="help-li" style=""> <code>{contents}</code>  (<code>table?</code>) List of strings to extend with converted lines.
                    Defaults to {}.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>string[]</code>) extended with lines of converted markdown.

</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_hover">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_hover</a>
</div>
</div>
<div class="help-para">
                     <code id="vim.lsp.util.convert_signature_help_to_markdown_lines()" class="help-tag-right"><a href="#vim.lsp.util.convert_signature_help_to_markdown_lines()">vim.lsp.util.convert_signature_help_to_markdown_lines()</a></code>
convert_signature_help_to_markdown_lines(<code>{signature_help}</code>, <code>{ft}</code>, <code>{triggers}</code>)
    Converts <code>textDocument/signatureHelp</code> response to markdown lines.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{signature_help}</code>  (<code>table</code>) Response of <code>textDocument/SignatureHelp</code>
</div><div class="help-li" style=""> <code>{ft}</code>              (<code>string?</code>) filetype that will be use as the <code>lang</code>
                          for the label markdown code block
</div><div class="help-li" style=""> <code>{triggers}</code>        (<code>table?</code>) list of trigger characters from the lsp
                          server. used to better determine parameter offsets
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return (multiple):</div>
        (<code>table?</code>) table list of lines of converted markdown.
        (<code>table?</code>) table of active hl

</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_signatureHelp">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_signatureHelp</a>
</div>
</div>
<div class="help-para">
get_effective_tabstop(<code>{bufnr}</code>)          <code id="vim.lsp.util.get_effective_tabstop()" class="help-tag-right"><a href="#vim.lsp.util.get_effective_tabstop()">vim.lsp.util.get_effective_tabstop()</a></code>
    Returns indentation size.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>  (<code>integer?</code>) Buffer handle, defaults to current
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>integer</code>) indentation size

</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="options.html#'shiftwidth'">'shiftwidth'</a>
</div>
</div>
<div class="help-para">
                                             <code id="vim.lsp.util.jump_to_location()" class="help-tag-right"><a href="#vim.lsp.util.jump_to_location()">vim.lsp.util.jump_to_location()</a></code>
jump_to_location(<code>{location}</code>, <code>{offset_encoding}</code>, <code>{reuse_win}</code>)
    Jumps to a location.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{location}</code>         (<code>table</code>) (<code>Location</code>`LocationLink`)
</div><div class="help-li" style=""> <code>{offset_encoding}</code>  (<code>string?</code>) utf-8|utf-16|utf-32
</div><div class="help-li" style=""> <code>{reuse_win}</code>        (<code>boolean?</code>) Jump to existing window if buffer is
                           already open.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>boolean</code>) <code>true</code> if the jump succeeded

</div>
<div class="help-para">
                                           <code id="vim.lsp.util.locations_to_items()" class="help-tag-right"><a href="#vim.lsp.util.locations_to_items()">vim.lsp.util.locations_to_items()</a></code>
locations_to_items(<code>{locations}</code>, <code>{offset_encoding}</code>)
    Returns the items with the byte position calculated correctly and in
    sorted order, for display in quickfix and location lists.

</div>
<div class="help-para">
    The <code>user_data</code> field of each resulting item will contain the original
    <code>Location</code> or <code>LocationLink</code> it was computed from.

</div>
<div class="help-para">
    The result can be passed to the <code>{list}</code> argument of <a href="builtin.html#setqflist()">setqflist()</a> or
    <a href="builtin.html#setloclist()">setloclist()</a>.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{locations}</code>        (<code>lsp.Location[]|lsp.LocationLink[]</code>)
</div><div class="help-li" style=""> <code>{offset_encoding}</code>  (<code>string</code>) offset_encoding for locations
                           utf-8|utf-16|utf-32 default to first client of
                           buffer
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>table[]</code>) A list of objects with the following fields:
<div class="help-li" style=""> <code>{filename}</code> (<code>string</code>)
</div><div class="help-li" style=""> <code>{lnum}</code> (<code>integer</code>) 1-indexed line number
</div><div class="help-li" style=""> <code>{col}</code> (<code>integer</code>) 1-indexed column
</div><div class="help-li" style=""> <code>{text}</code> (<code>string</code>)
</div><div class="help-li" style=""> <code>{user_data}</code> (<code>lsp.Location|lsp.LocationLink</code>)
</div>
</div>
<div class="help-para">
                                  <code id="vim.lsp.util.make_floating_popup_options()" class="help-tag-right"><a href="#vim.lsp.util.make_floating_popup_options()">vim.lsp.util.make_floating_popup_options()</a></code>
make_floating_popup_options(<code>{width}</code>, <code>{height}</code>, <code>{opts}</code>)
    Creates a table with sensible default options for a floating window. The
    table can be passed to <a href="api.html#nvim_open_win()">nvim_open_win()</a>.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{width}</code>   (<code>integer</code>) window width (in character cells)
</div><div class="help-li" style=""> <code>{height}</code>  (<code>integer</code>) window height (in character cells)
</div><div class="help-li" style=""> <code>{opts}</code>    (<code>table</code>) optional
</div><div class="help-li" style="margin-left: 3rem;"> offset_x (integer) offset to add to <code>col</code>
</div><div class="help-li" style="margin-left: 3rem;"> offset_y (integer) offset to add to <code>row</code>
</div><div class="help-li" style="margin-left: 3rem;"> border (string or table) override <code>border</code>
</div><div class="help-li" style="margin-left: 3rem;"> focusable (string or table) override <code>focusable</code>
</div><div class="help-li" style="margin-left: 3rem;"> zindex (string or table) override <code>zindex</code>, defaults to 50
</div><div class="help-li" style="margin-left: 3rem;"> relative ("mouse"|"cursor") defaults to "cursor"
</div><div class="help-li" style="margin-left: 3rem;"> anchor_bias ("auto"|"above"|"below") defaults to "auto"
</div><div class="help-li" style="margin-left: 4rem;"> "auto": place window based on which side of the cursor
                      has more lines
</div><div class="help-li" style="margin-left: 4rem;"> "above": place the window above the cursor unless there
                      are not enough lines to display the full window height.
</div><div class="help-li" style="margin-left: 4rem;"> "below": place the window below the cursor unless there
                      are not enough lines to display the full window height.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>table</code>) Options

</div>
<div class="help-para">
                                       <code id="vim.lsp.util.make_formatting_params()" class="help-tag-right"><a href="#vim.lsp.util.make_formatting_params()">vim.lsp.util.make_formatting_params()</a></code>
make_formatting_params(<code>{options}</code>)
    Creates a <code>DocumentFormattingParams</code> object for the current buffer and
    cursor position.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{options}</code>  (<code>table?</code>) with valid <code>FormattingOptions</code> entries
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>lsp.DocumentFormattingParams</code>) object

</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_formatting">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocument_formatting</a>
</div>
</div>
<div class="help-para">
                                      <code id="vim.lsp.util.make_given_range_params()" class="help-tag-right"><a href="#vim.lsp.util.make_given_range_params()">vim.lsp.util.make_given_range_params()</a></code>
make_given_range_params(<code>{start_pos}</code>, <code>{end_pos}</code>, <code>{bufnr}</code>, <code>{offset_encoding}</code>)
    Using the given range in the current buffer, creates an object that is
    similar to <a href="lsp.html#vim.lsp.util.make_range_params()">vim.lsp.util.make_range_params()</a>.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{start_pos}</code>        (<code>integer[]?</code>) <code>{row,col}</code> mark-indexed position.
                           Defaults to the start of the last visual selection.
</div><div class="help-li" style=""> <code>{end_pos}</code>          (<code>integer[]?</code>) <code>{row,col}</code> mark-indexed position.
                           Defaults to the end of the last visual selection.
</div><div class="help-li" style=""> <code>{bufnr}</code>            (<code>integer?</code>) buffer handle or 0 for current,
                           defaults to current
</div><div class="help-li" style=""> <code>{offset_encoding}</code>  (<code>"utf-8"|"utf-16"|"utf-32"?</code>) defaults to
                           <code>offset_encoding</code> of first client of <code>bufnr</code>
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>table</code>) { textDocument = { uri = <code>current_file_uri</code> }, range = {
        start = <code>start_position</code>, end = <code>end_position</code> } }

</div>
<div class="help-para">
                                         <code id="vim.lsp.util.make_position_params()" class="help-tag-right"><a href="#vim.lsp.util.make_position_params()">vim.lsp.util.make_position_params()</a></code>
make_position_params(<code>{window}</code>, <code>{offset_encoding}</code>)
    Creates a <code>TextDocumentPositionParams</code> object for the current buffer and
    cursor position.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{window}</code>           (<code>integer?</code>) window handle or 0 for current,
                           defaults to current
</div><div class="help-li" style=""> <code>{offset_encoding}</code>  (<code>string?</code>) utf-8|utf-16|utf-32|nil defaults to
                           <code>offset_encoding</code> of first client of buffer of
                           <code>window</code>
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>table</code>) <code>TextDocumentPositionParams</code> object

</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentPositionParams">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentPositionParams</a>
</div>
</div>
<div class="help-para">
                                            <code id="vim.lsp.util.make_range_params()" class="help-tag-right"><a href="#vim.lsp.util.make_range_params()">vim.lsp.util.make_range_params()</a></code>
make_range_params(<code>{window}</code>, <code>{offset_encoding}</code>)
    Using the current position in the current buffer, creates an object that
    can be used as a building block for several LSP requests, such as
    <code>textDocument/codeAction</code>, <code>textDocument/colorPresentation</code>,
    <code>textDocument/rangeFormatting</code>.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{window}</code>           (<code>integer?</code>) window handle or 0 for current,
                           defaults to current
</div><div class="help-li" style=""> <code>{offset_encoding}</code>  (<code>"utf-8"|"utf-16"|"utf-32"?</code>) defaults to
                           <code>offset_encoding</code> of first client of buffer of
                           <code>window</code>
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>table</code>) { textDocument = { uri = <code>current_file_uri</code> }, range = {
        start = <code>current_position</code>, end = <code>current_position</code> } }

</div>
<div class="help-para">
                                    <code id="vim.lsp.util.make_text_document_params()" class="help-tag-right"><a href="#vim.lsp.util.make_text_document_params()">vim.lsp.util.make_text_document_params()</a></code>
make_text_document_params(<code>{bufnr}</code>)
    Creates a <code>TextDocumentIdentifier</code> object for the current buffer.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>  (<code>integer?</code>) Buffer handle, defaults to current
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>table</code>) <code>TextDocumentIdentifier</code>

</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentIdentifier">https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentIdentifier</a>
</div>
</div>
<div class="help-para">
                                        <code id="vim.lsp.util.make_workspace_params()" class="help-tag-right"><a href="#vim.lsp.util.make_workspace_params()">vim.lsp.util.make_workspace_params()</a></code>
make_workspace_params(<code>{added}</code>, <code>{removed}</code>)
    Create the workspace params

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{added}</code>    (<code>table</code>)
</div><div class="help-li" style=""> <code>{removed}</code>  (<code>table</code>)
</div>
</div>
<div class="help-para">
                                        <code id="vim.lsp.util.open_floating_preview()" class="help-tag-right"><a href="#vim.lsp.util.open_floating_preview()">vim.lsp.util.open_floating_preview()</a></code>
open_floating_preview(<code>{contents}</code>, <code>{syntax}</code>, <code>{opts}</code>)
    Shows contents in a floating window.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{contents}</code>  (<code>table</code>) of lines to show in window
</div><div class="help-li" style=""> <code>{syntax}</code>    (<code>string</code>) of syntax to set for opened buffer
</div><div class="help-li" style=""> <code>{opts}</code>      (<code>table?</code>) with optional fields (additional keys are
                    filtered with <a href="lsp.html#vim.lsp.util.make_floating_popup_options()">vim.lsp.util.make_floating_popup_options()</a>
                    before they are passed on to <a href="api.html#nvim_open_win()">nvim_open_win()</a>)
</div><div class="help-li" style="margin-left: 3rem;"> <code>{height}</code> (<code>integer</code>) Height of floating window
</div><div class="help-li" style="margin-left: 3rem;"> <code>{width}</code> (<code>integer</code>) Width of floating window
</div><div class="help-li" style="margin-left: 3rem;"> <code>{wrap}</code> (<code>boolean</code>, default: <code>true</code>) Wrap long lines
</div><div class="help-li" style="margin-left: 3rem;"> <code>{wrap_at}</code> (<code>integer</code>) Character to wrap at for
                      computing height when wrap is enabled
</div><div class="help-li" style="margin-left: 3rem;"> <code>{max_width}</code> (<code>integer</code>) Maximal width of floating
                      window
</div><div class="help-li" style="margin-left: 3rem;"> <code>{max_height}</code> (<code>integer</code>) Maximal height of floating
                      window
</div><div class="help-li" style="margin-left: 3rem;"> <code>{focus_id}</code> (<code>string</code>) If a popup with this id is
                      opened, then focus it
</div><div class="help-li" style="margin-left: 3rem;"> <code>{close_events}</code> (<code>table</code>) List of events that closes the
                      floating window
</div><div class="help-li" style="margin-left: 3rem;"> <code>{focusable}</code> (<code>boolean</code>, default: <code>true</code>) Make float
                      focusable.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{focus}</code> (<code>boolean</code>, default: <code>true</code>) If <code>true</code>, and if
                      <code>{focusable}</code> is also <code>true</code>, focus an existing floating
                      window with the same <code>{focus_id}</code>
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return (multiple):</div>
        (<code>integer</code>) bufnr of newly created float window
        (<code>integer</code>) winid of newly created float window preview window

</div>
<div class="help-para">
preview_location(<code>{location}</code>, <code>{opts}</code>)         <code id="vim.lsp.util.preview_location()" class="help-tag-right"><a href="#vim.lsp.util.preview_location()">vim.lsp.util.preview_location()</a></code>
    Previews a location in a floating window

</div>
<div class="help-para">
    behavior depends on type of location:
<div class="help-li" style=""> for Location, range is shown (e.g., function definition)
</div><div class="help-li" style=""> for LocationLink, targetRange is shown (e.g., body of function
      definition)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{location}</code>  (<code>table</code>) a single <code>Location</code> or <code>LocationLink</code>
</div><div class="help-li" style=""> <code>{opts}</code>      (<code>table</code>)
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return (multiple):</div>
        (<code>integer?</code>) buffer id of float window
        (<code>integer?</code>) window id of float window

</div>
<div class="help-para">
rename(<code>{old_fname}</code>, <code>{new_fname}</code>, <code>{opts}</code>)               <code id="vim.lsp.util.rename()" class="help-tag-right"><a href="#vim.lsp.util.rename()">vim.lsp.util.rename()</a></code>
    Rename old_fname to new_fname

</div>
<div class="help-para">
    Existing buffers are renamed as well, while maintaining their bufnr.

</div>
<div class="help-para">
    It deletes existing buffers that conflict with the renamed file name only
    when
<div class="help-li" style=""> <code>opts</code> requests overwriting; or
</div><div class="help-li" style=""> the conflicting buffers are not loaded, so that deleting them does not
      result in data loss.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{old_fname}</code>  (<code>string</code>)
</div><div class="help-li" style=""> <code>{new_fname}</code>  (<code>string</code>)
</div><div class="help-li" style=""> <code>{opts}</code>       (<code>table?</code>) Options:
</div><div class="help-li" style="margin-left: 3rem;"> <code>{overwrite}</code> (<code>boolean</code>)
</div><div class="help-li" style="margin-left: 3rem;"> <code>{ignoreIfExists}</code> (<code>boolean</code>)
</div>
</div>
<div class="help-para">
                                                <code id="vim.lsp.util.show_document()" class="help-tag-right"><a href="#vim.lsp.util.show_document()">vim.lsp.util.show_document()</a></code>
show_document(<code>{location}</code>, <code>{offset_encoding}</code>, <code>{opts}</code>)
    Shows document and optionally jumps to the location.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{location}</code>         (<code>table</code>) (<code>Location</code>`LocationLink`)
</div><div class="help-li" style=""> <code>{offset_encoding}</code>  (<code>string?</code>) utf-8|utf-16|utf-32
</div><div class="help-li" style=""> <code>{opts}</code>             (<code>table?</code>) options
</div><div class="help-li" style="margin-left: 3rem;"> reuse_win (boolean) Jump to existing window if
                             buffer is already open.
</div><div class="help-li" style="margin-left: 3rem;"> focus (boolean) Whether to focus/jump to location
                             if possible. Defaults to true.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>boolean</code>) <code>true</code> if succeeded

</div>
<div class="help-para">
                                             <code id="vim.lsp.util.stylize_markdown()" class="help-tag-right"><a href="#vim.lsp.util.stylize_markdown()">vim.lsp.util.stylize_markdown()</a></code>
stylize_markdown(<code>{bufnr}</code>, <code>{contents}</code>, <code>{opts}</code>)
    Converts markdown into syntax highlighted regions by stripping the code
    blocks and converting them into highlighted code. This will by default
    insert a blank line separator after those code block regions to improve
    readability.

</div>
<div class="help-para">
    This method configures the given buffer and returns the lines to set.

</div>
<div class="help-para">
    If you want to open a popup with fancy markdown, use
    <code>open_floating_preview</code> instead

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{bufnr}</code>     (<code>integer</code>)
</div><div class="help-li" style=""> <code>{contents}</code>  (<code>table</code>) of lines to show in window
</div><div class="help-li" style=""> <code>{opts}</code>      (<code>table</code>) with optional fields
</div><div class="help-li" style="margin-left: 3rem;"> height of floating window
</div><div class="help-li" style="margin-left: 3rem;"> width of floating window
</div><div class="help-li" style="margin-left: 3rem;"> wrap_at character to wrap at for computing height
</div><div class="help-li" style="margin-left: 3rem;"> max_width maximal width of floating window
</div><div class="help-li" style="margin-left: 3rem;"> max_height maximal height of floating window
</div><div class="help-li" style="margin-left: 3rem;"> separator insert separator after code block
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>table</code>) stripped content

</div>
<div class="help-para">
symbols_to_items(<code>{symbols}</code>, <code>{bufnr}</code>)         <code id="vim.lsp.util.symbols_to_items()" class="help-tag-right"><a href="#vim.lsp.util.symbols_to_items()">vim.lsp.util.symbols_to_items()</a></code>
    Converts symbols to quickfix list items.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{symbols}</code>  (<code>table</code>) DocumentSymbol[] or SymbolInformation[]
</div><div class="help-li" style=""> <code>{bufnr}</code>    (<code>integer</code>)
</div>
</div>
<div class="help-para">
<h2 id="lsp-log" class="help-heading">Lua module: vim.lsp.log<span class="help-heading-tags">                                              <span class="help-tag"><a href="#lsp-log">lsp-log</a></span></h2>


</div>
<div class="help-para">
get_filename()                                    <code id="vim.lsp.log.get_filename()" class="help-tag-right"><a href="#vim.lsp.log.get_filename()">vim.lsp.log.get_filename()</a></code>
    Returns the log filename.

</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>string</code>) log filename

</div>
<div class="help-para">
get_level()                                          <code id="vim.lsp.log.get_level()" class="help-tag-right"><a href="#vim.lsp.log.get_level()">vim.lsp.log.get_level()</a></code>
    Gets the current log level.

</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>integer</code>) current log level

</div>
<div class="help-para">
set_format_func(<code>{handle}</code>)                      <code id="vim.lsp.log.set_format_func()" class="help-tag-right"><a href="#vim.lsp.log.set_format_func()">vim.lsp.log.set_format_func()</a></code>
    Sets formatting function used to format logs

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{handle}</code>  (<code>function</code>) function to apply to logging arguments, pass
                  vim.inspect for multi-line formatting
</div>
</div>
<div class="help-para">
set_level(<code>{level}</code>)                                   <code id="vim.lsp.log.set_level()" class="help-tag-right"><a href="#vim.lsp.log.set_level()">vim.lsp.log.set_level()</a></code>
    Sets the current log level.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{level}</code>  (<code>string|integer</code>) One of <code>vim.lsp.log.levels</code>
</div>
</div>
<div class="help-para">
should_log(<code>{level}</code>)                                 <code id="vim.lsp.log.should_log()" class="help-tag-right"><a href="#vim.lsp.log.should_log()">vim.lsp.log.should_log()</a></code>
    Checks whether the level is sufficient for logging.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{level}</code>  (<code>integer</code>) log level
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>bool</code>) true if would log, false if not

</div>
<div class="help-para">
<h2 id="lsp-rpc" class="help-heading">Lua module: vim.lsp.rpc<span class="help-heading-tags">                                              <span class="help-tag"><a href="#lsp-rpc">lsp-rpc</a></span></h2>


</div>
<div class="help-para">
<code id="vim.lsp.rpc.PublicClient" class="help-tag"><a href="#vim.lsp.rpc.PublicClient">vim.lsp.rpc.PublicClient</a></code>

</div>
<div class="help-para">
<div class="help-column_heading">    Fields:</div>
<div class="help-li" style=""> <code>{request}</code>     (<code>fun(method: string, params: table?, callback: fun(err: lsp.ResponseError?, result: any), notify_reply_callback: fun(integer)?):boolean,integer?</code>)
                      see <a href="lsp.html#vim.lsp.rpc.request()">vim.lsp.rpc.request()</a>
</div><div class="help-li" style=""> <code>{notify}</code>      (<code>fun(method: string, params: any):boolean</code>) see
                      <a href="lsp.html#vim.lsp.rpc.notify()">vim.lsp.rpc.notify()</a>
</div><div class="help-li" style=""> <code>{is_closing}</code>  (<code>fun(): boolean</code>)
</div><div class="help-li" style=""> <code>{terminate}</code>   (<code>fun()</code>)
</div>
</div>
<div class="help-para">
connect(<code>{host}</code>, <code>{port}</code>)                                <code id="vim.lsp.rpc.connect()" class="help-tag-right"><a href="#vim.lsp.rpc.connect()">vim.lsp.rpc.connect()</a></code>
    Create a LSP RPC client factory that connects via TCP to the given host
    and port.

</div>
<div class="help-para">
    Return a function that can be passed to the <code>cmd</code> field for
    <a href="lsp.html#vim.lsp.start_client()">vim.lsp.start_client()</a> or <a href="lsp.html#vim.lsp.start()">vim.lsp.start()</a>.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{host}</code>  (<code>string</code>) host to connect to
</div><div class="help-li" style=""> <code>{port}</code>  (<code>integer</code>) port to connect to
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>fun(dispatchers: vim.lsp.rpc.Dispatchers): vim.lsp.rpc.PublicClient</code>)

</div>
<div class="help-para">
                                         <code id="vim.lsp.rpc.domain_socket_connect()" class="help-tag-right"><a href="#vim.lsp.rpc.domain_socket_connect()">vim.lsp.rpc.domain_socket_connect()</a></code>
domain_socket_connect(<code>{pipe_path}</code>)
    Create a LSP RPC client factory that connects via named pipes (Windows) or
    unix domain sockets (Unix) to the given pipe_path (file path on Unix and
    name on Windows).

</div>
<div class="help-para">
    Return a function that can be passed to the <code>cmd</code> field for
    <a href="lsp.html#vim.lsp.start_client()">vim.lsp.start_client()</a> or <a href="lsp.html#vim.lsp.start()">vim.lsp.start()</a>.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{pipe_path}</code>  (<code>string</code>) file path of the domain socket (Unix) or name
                     of the named pipe (Windows) to connect to
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>fun(dispatchers: vim.lsp.rpc.Dispatchers): vim.lsp.rpc.PublicClient</code>)

</div>
<div class="help-para">
format_rpc_error(<code>{err}</code>)                       <code id="vim.lsp.rpc.format_rpc_error()" class="help-tag-right"><a href="#vim.lsp.rpc.format_rpc_error()">vim.lsp.rpc.format_rpc_error()</a></code>
    Constructs an error message from an LSP error object.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{err}</code>  (<code>table</code>) The error object
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>string</code>) error_message The formatted error message

</div>
<div class="help-para">
notify(<code>{method}</code>, <code>{params}</code>)                              <code id="vim.lsp.rpc.notify()" class="help-tag-right"><a href="#vim.lsp.rpc.notify()">vim.lsp.rpc.notify()</a></code>
    Sends a notification to the LSP server.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{method}</code>  (<code>string</code>) The invoked LSP method
</div><div class="help-li" style=""> <code>{params}</code>  (<code>table?</code>) Parameters for the invoked LSP method
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>boolean</code>) <code>true</code> if notification could be sent, <code>false</code> if not

</div>
<div class="help-para">
                                                       <code id="vim.lsp.rpc.request()" class="help-tag-right"><a href="#vim.lsp.rpc.request()">vim.lsp.rpc.request()</a></code>
request(<code>{method}</code>, <code>{params}</code>, <code>{callback}</code>, <code>{notify_reply_callback}</code>)
    Sends a request to the LSP server and runs <code>{callback}</code> upon response.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{method}</code>                 (<code>string</code>) The invoked LSP method
</div><div class="help-li" style=""> <code>{params}</code>                 (<code>table?</code>) Parameters for the invoked LSP
                                 method
</div><div class="help-li" style=""> <code>{callback}</code>               (<code>fun(err: lsp.ResponseError?, result: any)</code>)
                                 Callback to invoke
</div><div class="help-li" style=""> <code>{notify_reply_callback}</code>  (<code>fun(message_id: integer)?</code>) Callback to
                                 invoke as soon as a request is no longer
                                 pending
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return (multiple):</div>
        (<code>boolean</code>) success <code>true</code> if request could be sent, <code>false</code> if not
        (<code>integer?</code>) message_id if request could be sent, <code>nil</code> if not

</div>
<div class="help-para">
                                            <code id="vim.lsp.rpc.rpc_response_error()" class="help-tag-right"><a href="#vim.lsp.rpc.rpc_response_error()">vim.lsp.rpc.rpc_response_error()</a></code>
rpc_response_error(<code>{code}</code>, <code>{message}</code>, <code>{data}</code>)
    Creates an RPC response table <code>error</code> to be sent to the LSP response.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{code}</code>     (<code>integer</code>) RPC error code defined, see
                   <code>vim.lsp.protocol.ErrorCodes</code>
</div><div class="help-li" style=""> <code>{message}</code>  (<code>string?</code>) arbitrary message to send to server
</div><div class="help-li" style=""> <code>{data}</code>     (<code>any?</code>) arbitrary data to send to server
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>lsp.ResponseError</code>)

</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> lsp.ErrorCodes See <code>vim.lsp.protocol.ErrorCodes</code>
</div>
</div>
<div class="help-para">
start(<code>{cmd}</code>, <code>{dispatchers}</code>, <code>{extra_spawn_params}</code>)        <code id="vim.lsp.rpc.start()" class="help-tag"><a href="#vim.lsp.rpc.start()">vim.lsp.rpc.start()</a></code>
    Starts an LSP server process and create an LSP RPC client object to
    interact with it. Communication with the spawned process happens via
    stdio. For communication via TCP, spawn a process manually and use
    <a href="lsp.html#vim.lsp.rpc.connect()">vim.lsp.rpc.connect()</a>

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{cmd}</code>                 (<code>string[]</code>) Command to start the LSP server.
</div><div class="help-li" style=""> <code>{dispatchers}</code>         (<code>table?</code>) Dispatchers for LSP message types.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{notification}</code>
                                (<code>fun(method: string, params: table)</code>)
</div><div class="help-li" style="margin-left: 3rem;"> <code>{server_request}</code>
                                (<code>fun(method: string, params: table): any?, lsp.ResponseError?</code>)
</div><div class="help-li" style="margin-left: 3rem;"> <code>{on_exit}</code>
                                (<code>fun(code: integer, signal: integer)</code>)
</div><div class="help-li" style="margin-left: 3rem;"> <code>{on_error}</code> (<code>fun(code: integer, err: any)</code>)
</div><div class="help-li" style=""> <code>{extra_spawn_params}</code>  (<code>table?</code>) Additional context for the LSP server
                              process.
</div><div class="help-li" style="margin-left: 3rem;"> <code>{cwd}</code> (<code>string</code>) Working directory for the
                                LSP server process
</div><div class="help-li" style="margin-left: 3rem;"> <code>{detached}</code> (<code>boolean</code>) Detach the LSP server
                                process from the current process
</div><div class="help-li" style="margin-left: 3rem;"> <code>{env}</code> (<code>table&lt;string,string&gt;</code>) Additional
                                environment variables for LSP server process.
                                See <a href="lua.html#vim.system()">vim.system()</a>
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>vim.lsp.rpc.PublicClient?</code>) Client RPC object, with these methods:
<div class="help-li" style=""> <code>notify()</code> <a href="lsp.html#vim.lsp.rpc.notify()">vim.lsp.rpc.notify()</a>
</div><div class="help-li" style=""> <code>request()</code> <a href="lsp.html#vim.lsp.rpc.request()">vim.lsp.rpc.request()</a>
</div><div class="help-li" style=""> <code>is_closing()</code> returns a boolean indicating if the RPC is closing.
</div><div class="help-li" style=""> <code>terminate()</code> terminates the RPC client. See
          <a href="lsp.html#vim.lsp.rpc.PublicClient">vim.lsp.rpc.PublicClient</a>.
</div>
</div>
<div class="help-para">
<h2 id="lsp-protocol" class="help-heading">Lua module: vim.lsp.protocol<span class="help-heading-tags">                                    <span class="help-tag"><a href="#lsp-protocol">lsp-protocol</a></span></h2>


</div>
<div class="help-para">
                                 <code id="vim.lsp.protocol.make_client_capabilities()" class="help-tag-right"><a href="#vim.lsp.protocol.make_client_capabilities()">vim.lsp.protocol.make_client_capabilities()</a></code>
make_client_capabilities()
    Gets a new ClientCapabilities object describing the LSP client
    capabilities.

</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>lsp.ClientCapabilities</code>)

</div>
<div class="help-para">
Methods                                             <code id="vim.lsp.protocol.Methods" class="help-tag-right"><a href="#vim.lsp.protocol.Methods">vim.lsp.protocol.Methods</a></code>
    LSP method names.

</div>
<div class="help-para">
<div class="help-column_heading">    See also:</div>
<div class="help-li" style=""> <a href="https://microsoft.github.io/language-server-protocol/specification/#metaModel">https://microsoft.github.io/language-server-protocol/specification/#metaModel</a>
</div>
</div>
<div class="help-para">
                                     <code id="vim.lsp.protocol.resolve_capabilities()" class="help-tag-right"><a href="#vim.lsp.protocol.resolve_capabilities()">vim.lsp.protocol.resolve_capabilities()</a></code>
resolve_capabilities(<code>{server_capabilities}</code>)
    Creates a normalized object describing LSP server capabilities.

</div>
<div class="help-para">
<div class="help-column_heading">    Parameters:</div>
<div class="help-li" style=""> <code>{server_capabilities}</code>  (<code>table</code>) Table of capabilities supported by
                               the server
</div>
</div>
<div class="help-para">
<div class="help-column_heading">    Return:</div>
        (<code>lsp.ServerCapabilities?</code>) Normalized table of capabilities

</div>
<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "modeline")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+lsp.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/lsp.html%0D+unhandled+token%3A+%60modeline%60%0DContext%3A%0D%0D%60%60%60%0D%20%20%20%20%20%20%20%20(%60lsp.ServerCapabilities%3F%60)%20Normalized%20table%20of%20capabilities%0A%0A%0A%20vim%3Atw%3D78%3Ats%3D8%3Asw%3D4%3Asts%3D4%3Aet%3Aft%3Dhelp%3Anorl%3A%0D%60%60%60">vim:tw=78:ts=8:sw=4:sts=4:et:ft=help:norl:</a>
  </div>
      <div class="col-narrow toc">
      <div><a href="index.html">Main</a></div>
      <div><a href="vimindex.html">Commands index</a></div>
      <div><a href="quickref.html">Quick reference</a></div>
      <hr/>
  <div class="help-toc-h1"><a href="#lsp-quickstart">
QUICKSTART                                              </a>
</div><div class="help-toc-h1"><a href="#lsp-faq">
FAQ                                                     </a>
</div><div class="help-toc-h1"><a href="#lsp-api">
LSP API                                                 </a>
<div class="help-toc-h2"><a href="#vim.lsp.protocol">VIM.LSP.PROTOCOL                                              </a></div>
</div><div class="help-toc-h1"><a href="#lsp-highlight">
LSP HIGHLIGHT                                                    </a>
<div class="help-toc-h2"><a href="#lsp-semantic-highlight">
LSP SEMANTIC HIGHLIGHTS                               </a></div>
</div><div class="help-toc-h1"><a href="#lsp-events">
EVENTS                                                            </a>
</div><div class="help-toc-h1"><a href="#lsp-core">
Lua module: vim.lsp                                                 </a>
</div><div class="help-toc-h1"><a href="#lsp-client">
Lua module: vim.lsp.client                                        </a>
</div><div class="help-toc-h1"><a href="#lsp-buf">
Lua module: vim.lsp.buf                                              </a>
</div><div class="help-toc-h1"><a href="#lsp-diagnostic">
Lua module: vim.lsp.diagnostic                                </a>
</div><div class="help-toc-h1"><a href="#lsp-codelens">
Lua module: vim.lsp.codelens                                    </a>
</div><div class="help-toc-h1"><a href="#lsp-inlay_hint">
Lua module: vim.lsp.inlay_hint                                </a>
</div><div class="help-toc-h1"><a href="#lsp-semantic_tokens">
Lua module: vim.lsp.semantic_tokens                      </a>
</div><div class="help-toc-h1"><a href="#lsp-handlers">
Lua module: vim.lsp.handlers                                    </a>
</div><div class="help-toc-h1"><a href="#lsp-util">
Lua module: vim.lsp.util                                            </a>
</div><div class="help-toc-h1"><a href="#lsp-log">
Lua module: vim.lsp.log                                              </a>
</div><div class="help-toc-h1"><a href="#lsp-rpc">
Lua module: vim.lsp.rpc                                              </a>
</div><div class="help-toc-h1"><a href="#lsp-protocol">
Lua module: vim.lsp.protocol                                    </a>
</div></div>
</div>
  <footer>
    <div class="container flex">
      <div class="generator-stats">
        Generated at 2024-03-24 05:22 from <code><a href="https://github.com/neovim/neovim/commit/d3e51603bc94fac68cd2c92ae7ebc90baa8471fe">d3e5160</a></code>
      </div>
      <div class="generator-stats">
      parse_errors: 0 (<a href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+lsp.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/lsp.html%0D%0DContext%3A%0D%0D%60%60%60%0DTODO%0D%60%60%60" target="_blank">report docs bug...</a>) | <span title="   LSP
                            NVIM REFERENCE MANUAL
                                      Type &lt;a href="various.html#gO"&gt;gO&lt;/a&gt; to see the table of contents.">noise_lines: 3</span>
      </div>
    <div>

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    <script type="module">
      docsearch({
        container: '#docsearch',
        appId: 'X185E15FPG',
        apiKey: 'b5e6b2f9c636b2b471303205e59832ed',
        indexName: 'nvim',
      });
    </script>

  </footer>
  </body>
</html>
