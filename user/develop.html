  <!DOCTYPE html>
  <html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Neovim user documentation">

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
    <link rel="preconnect" href="https://X185E15FPG-dsn.algolia.net" crossorigin />

    <link href="/css/normalize.min.css" rel="stylesheet">
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="help.css" rel="stylesheet">
    <link href="/highlight/styles/neovim.min.css" rel="stylesheet">

    <script src="/highlight/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <title> Develop - Neovim docs</title>
  </head>
  <body>
    <header class="container">
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <a href="/" class="navbar-brand" aria-label="logo">
          <!--TODO: use <img src="….svg"> here instead. Need one that has green lettering instead of gray. -->
              <svg xmlns="http://www.w3.org/2000/svg" role="img" width="173" height="50" viewBox="0 0 742 214" aria-label="Neovim">
      <title>Neovim</title>
      <defs>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
          <stop stop-color="#16B0ED" stop-opacity=".8" offset="0%" />
          <stop stop-color="#0F59B2" stop-opacity=".837" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b">
          <stop stop-color="#7DB643" offset="0%" />
          <stop stop-color="#367533" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c">
          <stop stop-color="#88C649" stop-opacity=".8" offset="0%" />
          <stop stop-color="#439240" stop-opacity=".84" offset="100%" />
        </linearGradient>
      </defs>
      <g fill="none" fill-rule="evenodd">
        <path
          d="M.027 45.459L45.224-.173v212.171L.027 166.894V45.459z"
          fill="url(#a)"
          transform="translate(1 1)"
        />
        <path
          d="M129.337 45.89L175.152-.149l-.928 212.146-45.197-45.104.31-121.005z"
          fill="url(#b)"
          transform="matrix(-1 0 0 1 305 1)"
        />
        <path
          d="M45.194-.137L162.7 179.173l-32.882 32.881L12.25 33.141 45.194-.137z"
          fill="url(#c)"
          transform="translate(1 1)"
        />
        <path
          d="M46.234 84.032l-.063 7.063-36.28-53.563 3.36-3.422 32.983 49.922z"
          fill-opacity=".13"
          fill="#000"
        />
        <g fill="#444">
          <path
            d="M227 154V64.44h4.655c1.55 0 2.445.75 2.685 2.25l.806 13.502c4.058-5.16 8.786-9.316 14.188-12.466 5.4-3.15 11.413-4.726 18.037-4.726 4.893 0 9.205.781 12.935 2.34 3.729 1.561 6.817 3.811 9.264 6.751 2.448 2.942 4.297 6.48 5.55 10.621 1.253 4.14 1.88 8.821 1.88 14.042V154h-8.504V96.754c0-8.402-1.91-14.987-5.729-19.757-3.82-4.771-9.667-7.156-17.544-7.156-5.851 0-11.28 1.516-16.292 4.545-5.013 3.032-9.489 7.187-13.427 12.467V154H227zM350.624 63c5.066 0 9.755.868 14.069 2.605 4.312 1.738 8.052 4.268 11.219 7.592s5.638 7.412 7.419 12.264C385.11 90.313 386 95.883 386 102.17c0 1.318-.195 2.216-.588 2.696-.393.48-1.01.719-1.851.719h-64.966v1.70c0 6.708.784 12.609 2.353 17.7 1.567 5.09 3.8 9.357 6.695 12.802 2.895 3.445 6.393 6.034 10.495 7.771 4.1 1.738 8.686 2.606 13.752 2.606 4.524 0 8.446-.494 11.762-1.483 3.317-.988 6.108-2.097 8.37-3.324 2.261-1.227 4.056-2.336 5.383-3.324 1.326-.988 2.292-1.482 2.895-1.482.784 0 1.388.3 1.81.898l2.352 2.875c-1.448 1.797-3.362 3.475-5.745 5.031-2.383 1.558-5.038 2.891-7.962 3.998-2.926 1.109-6.062 1.991-9.41 2.65a52.21 52.21 0 01-10.088.989c-6.152 0-11.762-1.064-16.828-3.19-5.067-2.125-9.415-5.225-13.043-9.298-3.63-4.074-6.435-9.06-8.415-14.96C310.99 121.655 310 114.9 310 107.294c0-6.408.92-12.323 2.76-17.744 1.84-5.421 4.493-10.093 7.961-14.016 3.467-3.922 7.72-6.991 12.758-9.209C338.513 64.11 344.229 63 350.624 63zm.573 6c-4.696 0-8.904.702-12.623 2.105-3.721 1.404-6.936 3.421-9.65 6.053-2.713 2.631-4.908 5.79-6.586 9.474S319.55 94.439 319 99h60c0-4.679-.672-8.874-2.013-12.588-1.343-3.712-3.232-6.856-5.67-9.43-2.44-2.571-5.367-4.545-8.782-5.92-3.413-1.374-7.192-2.062-11.338-2.062zM435.546 63c6.526 0 12.368 1.093 17.524 3.28 5.154 2.186 9.5 5.286 13.04 9.298 3.538 4.013 6.238 8.85 8.099 14.51 1.861 5.66 2.791 11.994 2.791 19.002 0 7.008-.932 13.327-2.791 18.957-1.861 5.631-4.561 10.452-8.099 14.465-3.54 4.012-7.886 7.097-13.04 9.254-5.156 2.156-10.998 3.234-17.524 3.234-6.529 0-12.369-1.078-17.525-3.234-5.155-2.157-9.517-5.242-13.085-9.254-3.57-4.013-6.285-8.836-8.145-14.465-1.861-5.63-2.791-11.95-2.791-18.957 0-7.008.93-13.342 2.791-19.002 1.861-5.66 4.576-10.496 8.145-14.51 3.568-4.012 7.93-7.112 13.085-9.299C423.177 64.094 429.017 63 435.546 63zm-.501 86c5.341 0 10.006-.918 13.997-2.757 3.99-1.838 7.32-4.474 9.992-7.909 2.67-3.435 4.664-7.576 5.986-12.428 1.317-4.85 1.98-10.288 1.98-16.316 0-5.965-.66-11.389-1.98-16.27-1.322-4.88-3.316-9.053-5.986-12.519-2.67-3.463-6-6.13-9.992-7.999-3.991-1.867-8.657-2.802-13.997-2.802s-10.008.935-13.997 2.802c-3.991 1.87-7.322 4.536-9.992 8-2.671 3.465-4.68 7.637-6.03 12.518-1.35 4.881-2.026 10.305-2.026 16.27 0 6.026.675 11.465 2.025 16.316 1.35 4.852 3.36 8.993 6.031 12.428 2.67 3.435 6 6.07 9.992 7.91 3.99 1.838 8.656 2.756 13.997 2.756z"
            fill="currentColor"
          />
          <path
            d="M530.57 152h-20.05L474 60h18.35c1.61 0 2.967.39 4.072 1.166 1.103.778 1.865 1.763 2.283 2.959l17.722 49.138a92.762 92.762 0 012.551 8.429c.686 2.751 1.298 5.5 1.835 8.25.537-2.75 1.148-5.499 1.835-8.25a77.713 77.713 0 012.64-8.429l18.171-49.138c.417-1.196 1.164-2.181 2.238-2.96 1.074-.776 2.356-1.165 3.849-1.165H567l-36.43 92zM572 61h23v92h-23zM610 153V60.443h13.624c2.887 0 4.78 1.354 5.682 4.06l1.443 6.856a52.7 52.7 0 015.097-4.962 32.732 32.732 0 015.683-3.879 30.731 30.731 0 016.496-2.57c2.314-.632 4.855-.948 7.624-.948 5.832 0 10.63 1.579 14.39 4.736 3.758 3.157 6.57 7.352 8.434 12.585 1.444-3.068 3.248-5.698 5.413-7.894 2.165-2.194 4.541-3.984 7.127-5.367a32.848 32.848 0 018.254-3.068 39.597 39.597 0 018.796-.992c5.111 0 9.653.783 13.622 2.345 3.97 1.565 7.307 3.849 10.014 6.857 2.706 3.007 4.766 6.675 6.18 11.005C739.29 83.537 740 88.5 740 94.092V153h-22.284V94.092c0-5.894-1.294-10.329-3.878-13.306-2.587-2.977-6.376-4.465-11.368-4.465-2.286 0-4.404.391-6.358 1.172a15.189 15.189 0 00-5.144 3.383c-1.473 1.474-2.631 3.324-3.474 5.548-.842 2.225-1.263 4.781-1.263 7.668V153h-22.37V94.092c0-6.194-1.249-10.704-3.744-13.532-2.497-2.825-6.18-4.24-11.051-4.24-3.19 0-6.18.798-8.976 2.391-2.799 1.593-5.399 3.775-7.804 6.54V153H610zM572 30h23v19h-23z"
            fill="currentColor"
            fill-opacity=".8"
          />
        </g>
      </g>
    </svg>
  
          <!--<img src="https://neovim.io/logos/neovim-logo.svg" width="173" height="50" alt="Neovim" />-->
        </a>
        <div id="docsearch"></div> <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
      </div>
    </nav>
  </header>

  <div class="container golden-grid help-body">
  <div class="col-wide">
  <a name="development"></a><h1 id="develop.txt"> Develop</h1>
  <p>
    <i>
    Nvim <code>:help</code> pages, <a href="https://github.com/neovim/neovim/blob/master/scripts/gen_help_html.lua">generated</a>
    from <a href="https://github.com/neovim/neovim/blob/master/runtime/doc/develop.txt">source</a>
    using the <a href="https://github.com/neovim/tree-sitter-vimdoc">tree-sitter-vimdoc</a> parser.
    </i>
  </p>
  <hr/>
  <div class="help-para">
Development of Nvim <code id="dev" class="help-tag"><a href="#dev">dev</a></code>

</div>
<div class="help-para">
This reference describes design constraints and guidelines, for developing
Nvim applications or Nvim itself.
Architecture and internal concepts are covered in src/nvim/README.md

</div>
<div class="help-para">
Nvim is free and open source.  Everybody is encouraged to contribute.
    <a href="https://github.com/neovim/neovim/blob/master/CONTRIBUTING.md">https://github.com/neovim/neovim/blob/master/CONTRIBUTING.md</a>

</div>
<div class="help-para">
<h2 id="design-goals" class="help-heading">Design goals<span class="help-heading-tags">						<span class="help-tag"><a href="#design-goals">design-goals</a></span></h2>


</div>
<div class="help-para">
Most important things come first (roughly).  Some items conflict; this is
intentional.  A balance must be found.

</div>
<div class="help-para">
<h3 id="design-improved" class="help-heading">NVIM IS... IMPROVED<span class="help-heading-tags">					<span class="help-tag"><a href="#design-improved">design-improved</a></span></h3>


</div>
<div class="help-para">
The Neo bits of Nvim should make it a better Vim, without becoming a
completely different editor.
<div class="help-li" style=""> In matters of taste, prefer Vim/Unix tradition. If there is no relevant
  Vim/Unix tradition, consider the "common case".
</div><div class="help-li" style=""> There is no limit to the features that can be added.  Select new features
  based on (1) what users ask for, (2) how much effort it takes to implement
  and (3) someone actually implementing it.
</div><div class="help-li" style=""> Backwards compatibility is a feature.  The RPC API in particular should
  never break.
</div>
</div>
<div class="help-para">
<h3 id="design-documented" class="help-heading">NVIM IS... WELL DOCUMENTED<span class="help-heading-tags">				<span class="help-tag"><a href="#design-documented">design-documented</a></span></h3>


</div>
<div class="help-para">
<div class="help-li" style=""> A feature that isn't documented is a useless feature.  A patch for a new
  feature must include the documentation.
</div><div class="help-li" style=""> Documentation should be comprehensive and understandable.  Use examples.
</div><div class="help-li" style=""> Don't make the text unnecessarily long.  Less documentation means that an
  item is easier to find.
</div>
</div>
<div class="help-para">
<h3 id="design-speed-size" class="help-heading">NVIM IS... FAST AND SMALL<span class="help-heading-tags">				<span class="help-tag"><a href="#design-speed-size">design-speed-size</a></span></h3>


</div>
<div class="help-para">
Keep Nvim small and fast. This directly affects versatility and usability.
<div class="help-li" style=""> Computers are becoming faster and bigger each year.  Vim can grow too, but
  no faster than computers are growing.  Keep Vim usable on older systems.
</div><div class="help-li" style=""> Many users start Vim from a shell very often.  Startup time must be short.
</div><div class="help-li" style=""> Commands must work efficiently.  The time they consume must be as small as
  possible.  Useful commands may take longer.
</div><div class="help-li" style=""> Don't forget that some people use Vim over a slow connection.  Minimize the
  communication overhead.
</div><div class="help-li" style=""> Vim is a component among other components.  Don't turn it into a massive
  application, but have it work well together with other programs
  ("composability").
</div>
</div>
<div class="help-para">
<h3 id="design-maintain" class="help-heading">NVIM IS... MAINTAINABLE<span class="help-heading-tags">					<span class="help-tag"><a href="#design-maintain">design-maintain</a></span></h3>


</div>
<div class="help-para">
<div class="help-li" style=""> The source code should not become a mess.  It should be reliable code.
</div><div class="help-li" style=""> Use comments in a useful way!  Quoting the function name and argument names
  is NOT useful.  Do explain what they are for.
</div><div class="help-li" style=""> Porting to another platform should be made easy, without having to change
  too much platform-independent code.
</div><div class="help-li" style=""> Use the object-oriented spirit: Put data and code together.  Minimize the
  knowledge spread to other parts of the code.
</div>
</div>
<div class="help-para">
<h3 id="design-not" class="help-heading">NVIM IS... NOT<span class="help-heading-tags">						<span class="help-tag"><a href="#design-not">design-not</a></span></h3>


</div>
<div class="help-para">
Nvim is not an operating system; instead it should be composed with other
tools or hosted as a component. Marvim once said: "Unlike Emacs, Nvim does not
include the kitchen sink... but it's good for plumbing."

</div>
<div class="help-para">
<h2 id="dev-guidelines" class="help-heading">Developer guidelines<span class="help-heading-tags">				        <span class="help-tag"><a href="#dev-guidelines">dev-guidelines</a></span></h2>


</div>
<div class="help-para">
<h3 id="dev-provider" class="help-heading">PROVIDERS<span class="help-heading-tags">						<span class="help-tag"><a href="#dev-provider">dev-provider</a></span></h3>


</div>
<div class="help-para">
A primary goal of Nvim is to allow extension of the editor without special
knowledge in the core.  Some core functions are delegated to "providers"
implemented as external scripts.

</div>
<div class="help-para">
Examples:

</div>
<div class="help-para">
1. In the Vim source code, clipboard logic accounts for more than 1k lines of
   C source code (ui.c), to perform two tasks that are now accomplished with
   shell commands such as xclip or pbcopy/pbpaste.

</div>
<div class="help-para">
2. Python scripting support: Vim has three files dedicated to embedding the
   Python interpreter: if_python.c, if_python3.c and if_py_both.h. Together
   these files sum about 9.5k lines of C source code. In contrast, Nvim Python
   scripting is performed by an external host process implemented in ~2k lines
   of Python.

</div>
<div class="help-para">
The provider framework invokes Vimscript from C.  It is composed of two
functions in eval.c:

</div>
<div class="help-para">
<div class="help-li" style=""> eval_call_provider(<code>{name}</code>, <code>{method}</code>, <code>{arguments}</code>, <code>{discard}</code>): Calls
  <code>provider#{name}#Call</code> with <code>{method}</code> and <code>{arguments}</code>. If <code>{discard}</code> is true, any
  value returned by the provider will be discarded and empty value will be
  returned.
</div><div class="help-li" style=""> eval_has_provider(<code>{name}</code>): Checks the <code>g:loaded_{name}_provider</code> variable
  which must be set to 2 by the provider script to indicate that it is
  "enabled and working". Called by <a href="builtin.html#has()">has()</a> to check if features are available.
</div>
</div>
<div class="help-para">
For example, the Python provider is implemented by the
"autoload/provider/python.vim" script, which sets <code>g:loaded_python_provider</code>
to 2 only if a valid external Python host is found.  Then <code>has("python")</code>
reflects whether Python support is working.

</div>
<div class="help-para">
							<code id="provider-reload" class="help-tag-right"><a href="#provider-reload">provider-reload</a></code>
Sometimes a GUI or other application may want to force a provider to
"reload".  To reload a provider, undefine its "loaded" flag, then use
<a href="repeat.html#%3Aruntime">:runtime</a> to reload it:<pre><code class="language-vim">:unlet g:loaded_clipboard_provider
:runtime autoload/provider/clipboard.vim</code></pre>
<h3 id="dev-doc" class="help-heading">DOCUMENTATION<span class="help-heading-tags">						<span class="help-tag"><a href="#dev-doc">dev-doc</a></span></h3>


</div>
<div class="help-para">
<div class="help-li" style=""> "Just say it". Avoid mushy, colloquial phrasing in all documentation
  (docstrings, user manual, website materials, newsletters, …). Don't mince
  words. Personality and flavor, used sparingly, are welcome--but in general,
  optimize for the reader's time and energy: be "precise yet concise".
</div><div class="help-li" style="margin-left: 3rem;"> Prefer the active voice: "Foo does X", not "X is done by Foo".
</div><div class="help-li" style="margin-left: 3rem;"> "The words you choose are an essential part of the user experience."
      <a href="https://developer.apple.com/design/human-interface-guidelines/writing">https://developer.apple.com/design/human-interface-guidelines/writing</a>
</div><div class="help-li" style="margin-left: 3rem;"> "...without being overly colloquial or frivolous."
      <a href="https://developers.google.com/style/tone">https://developers.google.com/style/tone</a>
</div><div class="help-li" style=""> Write docstrings (as opposed to inline comments) with present tense ("Gets"),
  not imperative ("Get"). This tends to reduce ambiguity and improve clarity
  by describing "What" instead of "How".<pre>GOOD:
/// Gets a highlight definition.
BAD:
/// Get a highlight definition.</pre>
</div><div class="help-li" style=""> Avoid starting docstrings with "The" or "A" unless needed to avoid
  ambiguity. This is a visual aid and reduces noise.<pre>GOOD:
/// @param dirname Path fragment before `pend`
BAD:
/// @param dirname The path fragment before `pend`</pre>
</div><div class="help-li" style=""> Vim differences:
</div><div class="help-li" style="margin-left: 3rem;"> Do not prefix help tags with "nvim-". Use <a href="vim_diff.html#vim_diff.txt">vim_diff.txt</a> to catalog
      differences from Vim; no other distinction is necessary.
</div><div class="help-li" style="margin-left: 3rem;"> If a Vim feature is removed, delete its help section and move its tag to
      <a href="vim_diff.html#vim_diff.txt">vim_diff.txt</a>.
</div><div class="help-li" style=""> Mention deprecated features in <a href="deprecated.html#deprecated.txt">deprecated.txt</a> and delete their old doc.
</div><div class="help-li" style=""> Use consistent language.
</div><div class="help-li" style="margin-left: 3rem;"> "terminal" in a help tag always means "the embedded terminal emulator",
      not "the user host terminal".
</div><div class="help-li" style="margin-left: 3rem;"> Use "tui-" to prefix help tags related to the host terminal, and "TUI"
      in prose if possible.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Documentation format</div>

</div>
<div class="help-para">
For Nvim-owned docs, use the following strict subset of "vimdoc" to ensure
the help doc renders nicely in other formats (such as HTML:
<a href="https://neovim.io/doc/user">https://neovim.io/doc/user</a> ).

</div>
<div class="help-para">
Strict "vimdoc" subset:

</div>
<div class="help-para">
<div class="help-li" style=""> Use lists (like this!) prefixed with "-" or "•", for adjacent lines that you
  don't want to auto-wrap. Lists are always rendered with "flow" layout
  (soft-wrapped) instead of preformatted (hard-wrapped) layout common in
  legacy :help docs.
</div><div class="help-li" style="margin-left: 3rem;"> Limitation: currently the parser <a href="https://github.com/neovim/tree-sitter-vimdoc">https://github.com/neovim/tree-sitter-vimdoc</a>
    does not understand numbered listitems, so use a bullet symbol (- or •)
    before numbered items, e.g. "• 1." instead of "1.".
</div><div class="help-li" style=""> Separate blocks (paragraphs) of content by a blank line.
</div><div class="help-li" style=""> Do not use indentation in random places—that prevents the page from using
  "flow" layout. If you need a preformatted section, put it in
  a <a href="helphelp.html#help-codeblock">help-codeblock</a> starting with "&gt;".
</div><div class="help-li" style=""> Parameters and fields are documented as <code>{foo}</code>.
</div><div class="help-li" style=""> Optional parameters and fields are documented as <code>{foo}?</code>.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">C docstrings</div>

</div>
<div class="help-para">
Nvim API documentation lives in the source code, as docstrings (doc
comments) on the function definitions.  The <a href="api.html#api">api</a> :help is generated
from the docstrings defined in src/nvim/api/*.c.

</div>
<div class="help-para">
Docstring format:
<div class="help-li" style=""> Lines start with <code>///</code>
</div><div class="help-li" style=""> Special tokens start with <code>@</code> followed by the token name:
  <code>@note</code>, <code>@param</code>, <code>@return</code>
</div><div class="help-li" style=""> Markdown is supported.
</div><div class="help-li" style=""> Tags are written as <code>[tag]()</code>.
</div><div class="help-li" style=""> References are written as <code>[tag]</code>
</div><div class="help-li" style=""> Use``
 for code samples.
  Code samples can be annotated as <code>vim</code> or <code>lua</code>
</div>
</div>
<div class="help-para">
Example: the help for <a href="api.html#nvim_open_win()">nvim_open_win()</a> is generated from a docstring defined
in src/nvim/api/win_config.c like this:<pre>/// Opens a new window.
/// ...
///
/// Example (Lua): window-relative float
///
/// ```lua
/// vim.api.nvim_open_win(0, false, {
///   relative='win',
///   row=3,
///   col=3,
///   width=12,
///   height=3,
/// })
/// ```
///
/// @param buffer Buffer to display
/// @param enter  Enter the window
/// @param config Map defining the window configuration. Keys:
///   - relative: Sets the window layout, relative to:
///      - "editor" The global editor grid.
///      - "win"    Window given by the `win` field.
///      - "cursor" Cursor position in current window.
/// ...
/// @param[out] err Error details, if any
///
/// @return Window handle, or 0 on error</pre>
<div class="help-column_heading">Lua docstrings</div>
							<code id="dev-lua-doc" class="help-tag-right"><a href="#dev-lua-doc">dev-lua-doc</a></code>
Lua documentation lives in the source code, as docstrings on the function
definitions.  The <a href="lua.html#lua-vim">lua-vim</a> :help is generated from the docstrings.

</div>
<div class="help-para">
Docstring format:
<div class="help-li" style=""> Use LuaCATS annotations: <a href="https://luals.github.io/wiki/annotations/">https://luals.github.io/wiki/annotations/</a>
</div><div class="help-li" style=""> Markdown is supported.
</div><div class="help-li" style=""> Tags are written as <code>[tag]()</code>.
</div><div class="help-li" style=""> References are written as <code>[tag]</code>
</div><div class="help-li" style=""> Use``
 for code samples.
  Code samples can be annotated as <code>vim</code> or <code>lua</code>
</div><div class="help-li" style=""> Use <code>@nodoc</code> to prevent documentation generation.
</div><div class="help-li" style=""> Use <code>@inlinedoc</code> to inline <code>@class</code> blocks into <code>@param</code> blocks.
  E.g.<pre><code class="language-lua">--- Object with fields:
--- @class myOpts
--- @inlinedoc
---
--- Documentation for some field
--- @field somefield? integer
--- @param opts? myOpts
function foo(opts)
end</code></pre>
</div>
</div>
<div class="help-para">
  Will be rendered as:<pre><code class="language-vimdoc">foo({opts})
    Parameters:
      - {opts}? (table) Object with the fields:
                - {somefield}? (integer) Documentation
                  for some field</code></pre>

</div>
<div class="help-para">
<div class="help-li" style=""> Files which has <code>@meta</code> are only used for typing and documentation.
</div>
</div>
<div class="help-para">
Example: the help for <a href="lua.html#vim.paste()">vim.paste()</a> is generated from a docstring decorating
vim.paste in runtime/lua/vim/_editor.lua like this:<pre>--- Paste handler, invoked by |nvim_paste()| when a conforming UI
--- (such as the |TUI|) pastes text into the editor.
---
--- Example: To remove ANSI color codes when pasting:
---
--- ```lua
--- vim.paste = (function()
---   local overridden = vim.paste
---   ...
--- end)()
--- ```
---
--- @see |paste|
---
--- @param lines  ...
--- @param phase  ...
--- @returns false if client should cancel the paste.</pre>
<h3 id="dev-lua" class="help-heading">LUA STDLIB DESIGN GUIDELINES<span class="help-heading-tags">				<span class="help-tag"><a href="#dev-lua">dev-lua</a></span></h3>


</div>
<div class="help-para">
See also <a href="develop.html#dev-naming">dev-naming</a>.

</div>
<div class="help-para">
<div class="help-li" style=""> Keep the core Lua modules <a href="lua.html#lua-stdlib">lua-stdlib</a> simple. Avoid elaborate OOP or
  pseudo-OOP designs. Plugin authors just want functions to call, not a big,
  fancy inheritance hierarchy.
</div><div class="help-li" style=""> Avoid requiring or returning special objects in the Nvim stdlib. Plain
  tables or values are easier to serialize, easier to construct from literals,
  easier to inspect and print, and inherently compatible with all Lua plugins.
  (This guideline doesn't apply to opaque, non-data objects like <code>vim.cmd</code>.)
</div><div class="help-li" style=""> stdlib functions should follow these common patterns:
</div><div class="help-li" style="margin-left: 3rem;"> accept iterable instead of table
</div><div class="help-li" style="margin-left: 4rem;"> exception: in some cases iterable doesn't make sense, e.g. spair() sorts
      the input by definition, so there is no reason for it to accept an
      iterable, because the input needs to be "hydrated", it can't operate on
      a "stream".
</div><div class="help-li" style="margin-left: 3rem;"> return iterable instead of table
</div><div class="help-li" style="margin-left: 3rem;"> mimic the pairs() or ipairs() interface if the function is intended to be
    used in a "for" loop.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Interface conventions</div>

</div>
<div class="help-para">
<div class="help-li" style=""> When accepting a buffer id, etc., 0 means "current buffer", nil means "all
  buffers".  Likewise for window id, tabpage id, etc.
</div><div class="help-li" style="margin-left: 3rem;"> Examples: <a href="lsp.html#vim.lsp.codelens.clear()">vim.lsp.codelens.clear()</a> <a href="diagnostic.html#vim.diagnostic.enable()">vim.diagnostic.enable()</a>
</div><div class="help-li" style=""> Any function signature that accepts a callback function should define the
  callback as the LAST parameter, if possible. This improves readability of
  calls by placing the less "noisy" arguments near the start.<pre>GOOD:
filter(table, opts, function() … end)
BAD:
filter(function() … end, table, opts)</pre>
API DESIGN GUIDELINES					<code id="dev-api" class="help-tag-right"><a href="#dev-api">dev-api</a></code>
</div>
</div>
<div class="help-para">
See also <a href="develop.html#dev-naming">dev-naming</a>.

</div>
<div class="help-para">
<div class="help-li" style=""> When adding an API, check the following:
</div><div class="help-li" style="margin-left: 3rem;"> What precedents did you draw from? How does your solution compare to them?
</div><div class="help-li" style="margin-left: 3rem;"> Does your new API allow future expansion? How? Or why not?
</div><div class="help-li" style="margin-left: 3rem;"> Is the new API similar to existing APIs? Do we need to deprecate the old ones?
</div><div class="help-li" style="margin-left: 3rem;"> Did you cross-reference related concepts in the docs?
</div><div class="help-li" style=""> Avoid "mutually exclusive" parameters--via constraints or limitations, if
  necessary. For example nvim_create_autocmd() has mutually exclusive
  "callback" and "command" args; but the "command" arg could be eliminated by
  simply not supporting Vimscript function names, and treating a string
  "callback" arg as an Ex command (which can call Vimscript functions). The
  "buffer" arg could also be eliminated by treating a number "pattern" as
  a buffer number.
</div><div class="help-li" style=""> Avoid functions that depend on cursor position, current buffer, etc. Instead
  the function should take a position parameter, buffer parameter, etc.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Where things go</div>

</div>
<div class="help-para">
<div class="help-li" style=""> API (libnvim/RPC): exposes low-level internals, or fundamental things (such
  as <code>nvim_exec_lua()</code>) needed by clients or C consumers.
</div><div class="help-li" style=""> Lua stdlib = high-level functionality that builds on top of the API.
</div>
</div>
<div class="help-para">
<h3 id="dev-naming" class="help-heading">NAMING GUIDELINES<span class="help-heading-tags">                                       <span class="help-tag"><a href="#dev-naming">dev-naming</a></span></h3>


</div>
<div class="help-para">
Naming is exceedingly important: the name of a thing is the primary interface
for uses it, discusses it, searches for it, shares it... Consistent
naming in the stdlib, API, and UI helps both users and developers discover and
intuitively understand related concepts ("families"), and reduces cognitive
burden. Discoverability encourages code re-use and likewise avoids redundant,
overlapping mechanisms, which reduces code surface-area, and thereby minimizes
bugs...

</div>
<div class="help-para">
<div class="help-column_heading">Naming conventions</div>

</div>
<div class="help-para">
In general, look for precedent when choosing a name, that is, look at existing
(non-deprecated) functions. In particular, see below...

</div>
<div class="help-para">
							<code id="dev-name-common" class="help-tag-right"><a href="#dev-name-common">dev-name-common</a></code>
Use existing common <code>{verb}</code> names (actions) if possible:
<div class="help-li" style=""> add:          Appends or inserts into a collection
</div><div class="help-li" style=""> attach:       Listens to something to get events from it (TODO: rename to "on"?)
</div><div class="help-li" style=""> call:         Calls a function
</div><div class="help-li" style=""> clear:        Clears state but does not destroy the container
</div><div class="help-li" style=""> create:       Creates a new (non-trivial) thing (TODO: rename to "def"?)
</div><div class="help-li" style=""> del:          Deletes a thing (or group of things)
</div><div class="help-li" style=""> detach:       Dispose attached listener (TODO: rename to "un"?)
</div><div class="help-li" style=""> eval:         Evaluates an expression
</div><div class="help-li" style=""> exec:         Executes code
</div><div class="help-li" style=""> fmt:          Formats
</div><div class="help-li" style=""> get:          Gets things (often by a query)
</div><div class="help-li" style=""> inspect:      Presents a high-level, often interactive, view
</div><div class="help-li" style=""> open:         Opens something (a buffer, window, …)
</div><div class="help-li" style=""> parse:        Parses something into a structured form
</div><div class="help-li" style=""> set:          Sets a thing (or group of things)
</div><div class="help-li" style=""> try_{verb}:   Best-effort operation, failure returns null or error obj
</div>
</div>
<div class="help-para">
Do NOT use these deprecated verbs:
<div class="help-li" style=""> list:         Redundant with "get"
</div><div class="help-li" style=""> show:         Redundant with "print", "echo"
</div><div class="help-li" style=""> notify:       Redundant with "print", "echo"
</div>
</div>
<div class="help-para">
Use consistent names for <code>{noun}</code> (nouns) in API functions: buffer is called
"buf" everywhere, not "buffer" in some places and "buf" in others.
<div class="help-li" style=""> buf:          Buffer
</div><div class="help-li" style=""> chan:         <a href="channel.html#channel">channel</a>
</div><div class="help-li" style=""> cmd:          Command
</div><div class="help-li" style=""> cmdline:      Command-line UI or input
</div><div class="help-li" style=""> fn:           Function
</div><div class="help-li" style=""> hl:           Highlight
</div><div class="help-li" style=""> pos:          Position
</div><div class="help-li" style=""> proc:         System process
</div><div class="help-li" style=""> tabpage:      Tabpage
</div><div class="help-li" style=""> win:          Window
</div>
</div>
<div class="help-para">
Do NOT use these deprecated nouns:
<div class="help-li" style=""> buffer
</div><div class="help-li" style=""> callback      Use on_foo instead
</div><div class="help-li" style=""> command
</div><div class="help-li" style=""> window
</div>
</div>
<div class="help-para">
							<code id="dev-name-events" class="help-tag-right"><a href="#dev-name-events">dev-name-events</a></code>
Use the "on_" prefix to name event-handling callbacks and also the interface for
"registering" such handlers (on_key). The dual nature is acceptable to avoid
a confused collection of naming conventions for these related concepts.

</div>
<div class="help-para">
Editor <a href="autocmd.html#events">events</a> (autocommands) are historically named like:<pre>{Noun}{Event}</pre>
Use this format to name API (RPC) events:<pre>nvim_{noun}_{event-name}_event</pre>
Example:<pre>nvim_buf_changedtick_event</pre>

</div>
<div class="help-para">
							<code id="dev-name-api" class="help-tag-right"><a href="#dev-name-api">dev-name-api</a></code>
Use this format to name new RPC <a href="api.html#API">API</a> functions:<pre>nvim_{noun}_{verb}_{arbitrary-qualifiers}</pre>
If the function acts on an object then <code>{noun}</code> is the name of that object
(e.g. "buf" or "win"). If the function operates in a "global" context then
<code>{noun}</code> is usually omitted (but consider "namespacing" your global operations
with a <code>{noun}</code> that groups functions under a common concept).

</div>
<div class="help-para">
<div class="help-li" style=""> Example: <code>nvim_get_keymap('v')</code> operates in a global context (first
  parameter is not a Buffer). The "get" verb indicates that it gets anything
  matching the given filter parameter. A "list" verb is unnecessary because
  <code>nvim_get_keymap('')</code> (empty filter) returns all items.
</div><div class="help-li" style=""> Example: <code>nvim_buf_del_mark</code> acts on a <code>Buffer</code> object (the first parameter)
  and uses the "del" <code>{verb}</code>.
</div>
</div>
<div class="help-para">
<h3 id="dev-api-client" class="help-heading">API-CLIENT<span class="help-heading-tags">						<span class="help-tag"><a href="#dev-api-client">dev-api-client</a></span></h3>


</div>
<div class="help-para">
							<code id="api-client" class="help-tag-right"><a href="#api-client">api-client</a></code>
API clients wrap the Nvim <a href="api.html#API">API</a> to provide idiomatic "SDKs" for their
respective platforms (see <a href="intro.html#jargon">jargon</a>). You can build a new API client for your
favorite platform or programming language.

</div>
<div class="help-para">
List of API clients:
    <a href="https://github.com/neovim/neovim/wiki/Related-projects#api-clients">https://github.com/neovim/neovim/wiki/Related-projects#api-clients</a>

</div>
<div class="help-para">
							<code id="pynvim" class="help-tag-right"><a href="#pynvim">pynvim</a></code>
The Python client is the reference implementation for API clients.
    <a href="https://github.com/neovim/pynvim">https://github.com/neovim/pynvim</a>

</div>
<div class="help-para">
<div class="help-column_heading">Standard Features</div>

</div>
<div class="help-para">
<div class="help-li" style=""> API clients exist to hide msgpack-rpc details. The wrappers can be
  automatically generated by reading the <a href="api.html#api-metadata">api-metadata</a> from Nvim. <a href="api.html#api-mapping">api-mapping</a>
</div><div class="help-li" style=""> Clients should call <a href="api.html#nvim_set_client_info()">nvim_set_client_info()</a> after connecting, so users and
  plugins can detect the client by handling the <a href="autocmd.html#ChanInfo">ChanInfo</a> event. This avoids
  the need for special variables or other client hints.
</div><div class="help-li" style=""> Clients should handle <a href="api.html#nvim_error_event">nvim_error_event</a> notifications, which will be sent
  if an async request to nvim was rejected or caused an error.
</div>
</div>
<div class="help-para">
<div class="help-column_heading">Package Naming</div>

</div>
<div class="help-para">
API client packages should NOT be named something ambiguous like "neovim" or
"python-client".  Use "nvim" as a prefix/suffix to some other identifier
following ecosystem conventions.

</div>
<div class="help-para">
For example, Python packages tend to have "py" in the name, so "pynvim" is
a good name: it's idiomatic and unambiguous. If the package is named "neovim",
it confuses users, and complicates documentation and discussions.

</div>
<div class="help-para">
Examples of API-client package names:
<div class="help-li" style=""> GOOD: nvim-racket
</div><div class="help-li" style=""> GOOD: pynvim
</div><div class="help-li" style=""> BAD:  python-client
</div><div class="help-li" style=""> BAD:  neovim_
</div>
</div>
<div class="help-para">
<div class="help-column_heading">API client implementation guidelines</div>

</div>
<div class="help-para">
<div class="help-li" style=""> Separate the transport layer from the rest of the library. <a href="api.html#rpc-connecting">rpc-connecting</a>
</div><div class="help-li" style=""> Use a MessagePack library that implements at least version 5 of the
  MessagePack spec, which supports the BIN and EXT types used by Nvim.
</div><div class="help-li" style=""> Use a single-threaded event loop library/pattern.
</div><div class="help-li" style=""> Use a fiber/coroutine library for the language being used for implementing
  a client. These greatly simplify concurrency and allow the library to
  expose a blocking API on top of a non-blocking event loop without the
  complexity that comes with preemptive multitasking.
</div><div class="help-li" style=""> Don't assume anything about the order of responses to RPC requests.
</div><div class="help-li" style=""> Clients should expect requests, which must be handled immediately because
  Nvim is blocked while waiting for the client response.
</div><div class="help-li" style=""> Clients should expect notifications, but these can be handled "ASAP" (rather
  than immediately) because they won't block Nvim.
</div><div class="help-li" style=""> For C/C++ projects, consider libmpack instead of the msgpack.org library.
    <a href="https://github.com/libmpack/libmpack/">https://github.com/libmpack/libmpack/</a>
  libmpack is small (no dependencies, can inline into your C/C++ project) and
  efficient (no allocations). It also implements msgpack-RPC, the protocol
  required by Nvim.
    <a href="https://github.com/msgpack-rpc/msgpack-rpc">https://github.com/msgpack-rpc/msgpack-rpc</a>
</div>
</div>
<div class="help-para">
<h3 id="dev-ui" class="help-heading">EXTERNAL UI<span class="help-heading-tags">						<span class="help-tag"><a href="#dev-ui">dev-ui</a></span></h3>


</div>
<div class="help-para">
External UIs should be aware of the <a href="api.html#api-contract">api-contract</a>. In particular, future
versions of Nvim may add new items to existing events. The API is strongly
backwards-compatible, but clients must not break if new (optional) fields are
added to existing events.

</div>
<div class="help-para">
<div class="help-column_heading">Standard Features</div>

</div>
<div class="help-para">
External UIs are expected to implement these common features:

</div>
<div class="help-para">
<div class="help-li" style=""> Call <a href="api.html#nvim_set_client_info()">nvim_set_client_info()</a> after connecting, so users and plugins can
  detect the UI by handling the <a href="autocmd.html#ChanInfo">ChanInfo</a> event. This avoids the need for
  special variables and UI-specific config files (gvimrc, macvimrc, …).
</div><div class="help-li" style=""> Cursor style (shape, color) should conform to the <a href="options.html#'guicursor'">'guicursor'</a> properties
  delivered with the mode_info_set UI event.
</div><div class="help-li" style=""> Send the ALT/META ("Option" on macOS) key as a <a href="intro.html#%3CM-">&lt;M-</a> chord.
</div><div class="help-li" style=""> Send the "super" key (Windows key, Apple key) as a <a href="intro.html#%3CD-">&lt;D-</a> chord.
</div><div class="help-li" style=""> Avoid mappings that conflict with the Nvim keymap-space; GUIs have many new
  chords (<code>&lt;C-,&gt;</code> <code>&lt;C-Enter&gt;</code> <code>&lt;C-S-x&gt;</code> <code>&lt;D-x&gt;</code>) and patterns ("shift shift") that do
  not potentially conflict with Nvim defaults, plugins, etc.
</div><div class="help-li" style=""> Consider the "option_set" <a href="ui.html#ui-global">ui-global</a> event as a hint for other GUI
  behaviors. Various UI-related options (<a href="options.html#'guifont'">'guifont'</a>, <a href="options.html#'ambiwidth'">'ambiwidth'</a>, …) are
  published in this event. See also "mouse_on", "mouse_off".
</div><div class="help-li" style=""> UIs generally should NOT set <a href="starting.html#%24NVIM_APPNAME">$NVIM_APPNAME</a> (unless explicitly requested by
  the user).
</div>
</div>
<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "modeline")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+develop.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/develop.html%0D+unhandled+token%3A+%60modeline%60%0DContext%3A%0D%0D%60%60%60%0D%20%20the%20user).%0A%0A%0A%20vim%3Atw%3D78%3Ats%3D8%3Asw%3D4%3Aet%3Aft%3Dhelp%3Anorl%3A%0D%60%60%60">vim:tw=78:ts=8:sw=4:et:ft=help:norl:</a>
  </div>
      <div class="col-narrow toc">
      <div><a href="index.html">Main</a></div>
      <div><a href="vimindex.html">Commands index</a></div>
      <div><a href="quickref.html">Quick reference</a></div>
      <hr/>
  <div class="help-toc-h1"><a href="#design-goals">
Design goals						</a>
<div class="help-toc-h2"><a href="#design-improved">NVIM IS... IMPROVED					</a></div>
<div class="help-toc-h2"><a href="#design-documented">NVIM IS... WELL DOCUMENTED				</a></div>
<div class="help-toc-h2"><a href="#design-speed-size">NVIM IS... FAST AND SMALL				</a></div>
<div class="help-toc-h2"><a href="#design-maintain">NVIM IS... MAINTAINABLE					</a></div>
<div class="help-toc-h2"><a href="#design-not">NVIM IS... NOT						</a></div>
</div><div class="help-toc-h1"><a href="#dev-guidelines">
Developer guidelines				        </a>
<div class="help-toc-h2"><a href="#dev-provider">PROVIDERS						</a></div>
<div class="help-toc-h2"><a href="#dev-doc">DOCUMENTATION						</a></div>
<div class="help-toc-h2"><a href="#dev-lua">LUA STDLIB DESIGN GUIDELINES				</a></div>
<div class="help-toc-h2"><a href="#dev-naming">NAMING GUIDELINES                                       </a></div>
<div class="help-toc-h2"><a href="#dev-api-client">API-CLIENT						</a></div>
<div class="help-toc-h2"><a href="#dev-ui">EXTERNAL UI						</a></div>
</div></div>
</div>
  <footer>
    <div class="container flex">
      <div class="generator-stats">
        Generated at 2024-04-14 06:12 from <code><a href="https://github.com/neovim/neovim/commit/4c31a1b807f1c38203661e35059305d63fd0e9f7">4c31a1b</a></code>
      </div>
      <div class="generator-stats">
      parse_errors: 0 (<a href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+develop.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/develop.html%0D%0DContext%3A%0D%0D%60%60%60%0DTODO%0D%60%60%60" target="_blank">report docs bug...</a>) | <span title="          Nvim
                            NVIM REFERENCE MANUAL
                                      Type &lt;a href="various.html#gO"&gt;gO&lt;/a&gt; to see the table of contents.">noise_lines: 3</span>
      </div>
    <div>

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    <script type="module">
      docsearch({
        container: '#docsearch',
        appId: 'X185E15FPG',
        apiKey: 'b5e6b2f9c636b2b471303205e59832ed',
        indexName: 'nvim',
      });
    </script>

  </footer>
  </body>
</html>
