  <!DOCTYPE html>
  <html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Neovim user documentation">

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
    <link rel="preconnect" href="https://X185E15FPG-dsn.algolia.net" crossorigin />

    <link href="/css/normalize.min.css" rel="stylesheet">
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="help.css" rel="stylesheet">
    <link href="/highlight/styles/neovim.min.css" rel="stylesheet">

    <script src="/highlight/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <title> Nvim_terminal_emulator - Neovim docs</title>
  </head>
  <body>
    <header class="container">
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <a href="/" class="navbar-brand" aria-label="logo">
          <!--TODO: use <img src="â€¦.svg"> here instead. Need one that has green lettering instead of gray. -->
              <svg xmlns="http://www.w3.org/2000/svg" role="img" width="173" height="50" viewBox="0 0 742 214" aria-label="Neovim">
      <title>Neovim</title>
      <defs>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
          <stop stop-color="#16B0ED" stop-opacity=".8" offset="0%" />
          <stop stop-color="#0F59B2" stop-opacity=".837" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b">
          <stop stop-color="#7DB643" offset="0%" />
          <stop stop-color="#367533" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c">
          <stop stop-color="#88C649" stop-opacity=".8" offset="0%" />
          <stop stop-color="#439240" stop-opacity=".84" offset="100%" />
        </linearGradient>
      </defs>
      <g fill="none" fill-rule="evenodd">
        <path
          d="M.027 45.459L45.224-.173v212.171L.027 166.894V45.459z"
          fill="url(#a)"
          transform="translate(1 1)"
        />
        <path
          d="M129.337 45.89L175.152-.149l-.928 212.146-45.197-45.104.31-121.005z"
          fill="url(#b)"
          transform="matrix(-1 0 0 1 305 1)"
        />
        <path
          d="M45.194-.137L162.7 179.173l-32.882 32.881L12.25 33.141 45.194-.137z"
          fill="url(#c)"
          transform="translate(1 1)"
        />
        <path
          d="M46.234 84.032l-.063 7.063-36.28-53.563 3.36-3.422 32.983 49.922z"
          fill-opacity=".13"
          fill="#000"
        />
        <g fill="#444">
          <path
            d="M227 154V64.44h4.655c1.55 0 2.445.75 2.685 2.25l.806 13.502c4.058-5.16 8.786-9.316 14.188-12.466 5.4-3.15 11.413-4.726 18.037-4.726 4.893 0 9.205.781 12.935 2.34 3.729 1.561 6.817 3.811 9.264 6.751 2.448 2.942 4.297 6.48 5.55 10.621 1.253 4.14 1.88 8.821 1.88 14.042V154h-8.504V96.754c0-8.402-1.91-14.987-5.729-19.757-3.82-4.771-9.667-7.156-17.544-7.156-5.851 0-11.28 1.516-16.292 4.545-5.013 3.032-9.489 7.187-13.427 12.467V154H227zM350.624 63c5.066 0 9.755.868 14.069 2.605 4.312 1.738 8.052 4.268 11.219 7.592s5.638 7.412 7.419 12.264C385.11 90.313 386 95.883 386 102.17c0 1.318-.195 2.216-.588 2.696-.393.48-1.01.719-1.851.719h-64.966v1.70c0 6.708.784 12.609 2.353 17.7 1.567 5.09 3.8 9.357 6.695 12.802 2.895 3.445 6.393 6.034 10.495 7.771 4.1 1.738 8.686 2.606 13.752 2.606 4.524 0 8.446-.494 11.762-1.483 3.317-.988 6.108-2.097 8.37-3.324 2.261-1.227 4.056-2.336 5.383-3.324 1.326-.988 2.292-1.482 2.895-1.482.784 0 1.388.3 1.81.898l2.352 2.875c-1.448 1.797-3.362 3.475-5.745 5.031-2.383 1.558-5.038 2.891-7.962 3.998-2.926 1.109-6.062 1.991-9.41 2.65a52.21 52.21 0 01-10.088.989c-6.152 0-11.762-1.064-16.828-3.19-5.067-2.125-9.415-5.225-13.043-9.298-3.63-4.074-6.435-9.06-8.415-14.96C310.99 121.655 310 114.9 310 107.294c0-6.408.92-12.323 2.76-17.744 1.84-5.421 4.493-10.093 7.961-14.016 3.467-3.922 7.72-6.991 12.758-9.209C338.513 64.11 344.229 63 350.624 63zm.573 6c-4.696 0-8.904.702-12.623 2.105-3.721 1.404-6.936 3.421-9.65 6.053-2.713 2.631-4.908 5.79-6.586 9.474S319.55 94.439 319 99h60c0-4.679-.672-8.874-2.013-12.588-1.343-3.712-3.232-6.856-5.67-9.43-2.44-2.571-5.367-4.545-8.782-5.92-3.413-1.374-7.192-2.062-11.338-2.062zM435.546 63c6.526 0 12.368 1.093 17.524 3.28 5.154 2.186 9.5 5.286 13.04 9.298 3.538 4.013 6.238 8.85 8.099 14.51 1.861 5.66 2.791 11.994 2.791 19.002 0 7.008-.932 13.327-2.791 18.957-1.861 5.631-4.561 10.452-8.099 14.465-3.54 4.012-7.886 7.097-13.04 9.254-5.156 2.156-10.998 3.234-17.524 3.234-6.529 0-12.369-1.078-17.525-3.234-5.155-2.157-9.517-5.242-13.085-9.254-3.57-4.013-6.285-8.836-8.145-14.465-1.861-5.63-2.791-11.95-2.791-18.957 0-7.008.93-13.342 2.791-19.002 1.861-5.66 4.576-10.496 8.145-14.51 3.568-4.012 7.93-7.112 13.085-9.299C423.177 64.094 429.017 63 435.546 63zm-.501 86c5.341 0 10.006-.918 13.997-2.757 3.99-1.838 7.32-4.474 9.992-7.909 2.67-3.435 4.664-7.576 5.986-12.428 1.317-4.85 1.98-10.288 1.98-16.316 0-5.965-.66-11.389-1.98-16.27-1.322-4.88-3.316-9.053-5.986-12.519-2.67-3.463-6-6.13-9.992-7.999-3.991-1.867-8.657-2.802-13.997-2.802s-10.008.935-13.997 2.802c-3.991 1.87-7.322 4.536-9.992 8-2.671 3.465-4.68 7.637-6.03 12.518-1.35 4.881-2.026 10.305-2.026 16.27 0 6.026.675 11.465 2.025 16.316 1.35 4.852 3.36 8.993 6.031 12.428 2.67 3.435 6 6.07 9.992 7.91 3.99 1.838 8.656 2.756 13.997 2.756z"
            fill="currentColor"
          />
          <path
            d="M530.57 152h-20.05L474 60h18.35c1.61 0 2.967.39 4.072 1.166 1.103.778 1.865 1.763 2.283 2.959l17.722 49.138a92.762 92.762 0 012.551 8.429c.686 2.751 1.298 5.5 1.835 8.25.537-2.75 1.148-5.499 1.835-8.25a77.713 77.713 0 012.64-8.429l18.171-49.138c.417-1.196 1.164-2.181 2.238-2.96 1.074-.776 2.356-1.165 3.849-1.165H567l-36.43 92zM572 61h23v92h-23zM610 153V60.443h13.624c2.887 0 4.78 1.354 5.682 4.06l1.443 6.856a52.7 52.7 0 015.097-4.962 32.732 32.732 0 015.683-3.879 30.731 30.731 0 016.496-2.57c2.314-.632 4.855-.948 7.624-.948 5.832 0 10.63 1.579 14.39 4.736 3.758 3.157 6.57 7.352 8.434 12.585 1.444-3.068 3.248-5.698 5.413-7.894 2.165-2.194 4.541-3.984 7.127-5.367a32.848 32.848 0 018.254-3.068 39.597 39.597 0 018.796-.992c5.111 0 9.653.783 13.622 2.345 3.97 1.565 7.307 3.849 10.014 6.857 2.706 3.007 4.766 6.675 6.18 11.005C739.29 83.537 740 88.5 740 94.092V153h-22.284V94.092c0-5.894-1.294-10.329-3.878-13.306-2.587-2.977-6.376-4.465-11.368-4.465-2.286 0-4.404.391-6.358 1.172a15.189 15.189 0 00-5.144 3.383c-1.473 1.474-2.631 3.324-3.474 5.548-.842 2.225-1.263 4.781-1.263 7.668V153h-22.37V94.092c0-6.194-1.249-10.704-3.744-13.532-2.497-2.825-6.18-4.24-11.051-4.24-3.19 0-6.18.798-8.976 2.391-2.799 1.593-5.399 3.775-7.804 6.54V153H610zM572 30h23v19h-23z"
            fill="currentColor"
            fill-opacity=".8"
          />
        </g>
      </g>
    </svg>
  
          <!--<img src="https://neovim.io/logos/neovim-logo.svg" width="173" height="50" alt="Neovim" />-->
        </a>
        <div id="docsearch"></div> <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
      </div>
    </nav>
  </header>

  <div class="container golden-grid help-body">
  <div class="col-wide">
  <a name="terminal"></a><h1 id="terminal_emulator.txt"> Nvim_terminal_emulator</h1>
  <p>
    <i>
    Nvim <code>:help</code> pages, <a href="https://github.com/neovim/neovim/blob/master/scripts/gen_help_html.lua">generated</a>
    from <a href="https://github.com/neovim/neovim/blob/master/runtime/doc/nvim_terminal_emulator.txt">source</a>
    using the <a href="https://github.com/neovim/tree-sitter-vimdoc">tree-sitter-vimdoc</a> parser.
    </i>
  </p>
  <hr/>
  <div class="old-help-para">Terminal emulator <code id="terminal-emulator" class="help-tag"><a href="#terminal-emulator">terminal-emulator</a></code></div>
<div class="old-help-para">Nvim embeds a VT220/xterm terminal emulator based on libvterm. The terminal is
presented as a special <a href="options.html#'buftype'">'buftype'</a>, asynchronously updated as data is received
from the connected program.</div>
<div class="old-help-para">Terminal buffers behave like normal buffers, except:
<div class="help-li" style=""> With <a href="options.html#'modifiable'">'modifiable'</a>, lines can be edited but not deleted.
</div><div class="help-li" style=""> <a href="options.html#'scrollback'">'scrollback'</a> controls how many lines are kept.
</div><div class="help-li" style=""> Output is followed ("tailed") if cursor is on the last line.
</div><div class="help-li" style=""> <a href="options.html#'modified'">'modified'</a> is the default. You can set <a href="options.html#'nomodified'">'nomodified'</a> to avoid a warning when
  closing the terminal buffer.
</div><div class="help-li" style=""> <a href="options.html#'bufhidden'">'bufhidden'</a> defaults to "hide".
</div></div>
<div class="old-help-para"><h2 id="terminal-start" class="help-heading">Start<span class="help-heading-tags">						<span class="help-tag"><a href="#terminal-start">terminal-start</a></span></h2></div>
<div class="old-help-para">There are several ways to create a terminal buffer:</div>
<div class="old-help-para"><div class="help-li" style=""> Run the <a href="various.html#%3Aterminal">:terminal</a> command.
</div><div class="help-li" style=""> Call the <a href="api.html#nvim_open_term()">nvim_open_term()</a> or <a href="builtin.html#termopen()">termopen()</a> function.
</div><div class="help-li" style=""> Edit a "term://" buffer. Examples:
<pre><code class="language-vim">:edit term://bash
:vsplit term://top</code></pre></div></div>
<div class="old-help-para">    Note: To open a "term://" buffer from an autocmd, the <a href="autocmd.html#autocmd-nested">autocmd-nested</a>
    modifier is required.<pre><code class="language-vim">autocmd VimEnter * ++nested split term://sh</code></pre></div>
<div class="old-help-para">    (This is only mentioned for reference; use <a href="various.html#%3Aterminal">:terminal</a> instead.)</div>
<div class="old-help-para">When the terminal starts, the buffer contents are updated and the buffer is
named in the form of <code>term://{cwd}//{pid}:{cmd}</code>. This naming scheme is used
by <a href="starting.html#%3Amksession">:mksession</a> to restore a terminal buffer (by restarting the <code>{cmd}</code>).</div>
<div class="old-help-para">The terminal environment is initialized as in <a href="builtin.html#jobstart-env">jobstart-env</a>.</div>
<div class="old-help-para"><h2 id="terminal-input" class="help-heading">Input<span class="help-heading-tags">						<span class="help-tag"><a href="#terminal-input">terminal-input</a></span></h2></div>
<div class="old-help-para">To send input, enter <a href="intro.html#Terminal-mode">Terminal-mode</a> with <a href="insert.html#i">i</a>, <a href="insert.html#I">I</a>, <a href="insert.html#a">a</a>, <a href="insert.html#A">A</a> or
<a href="insert.html#%3Astartinsert">:startinsert</a>. In this mode all keys except <code>&lt;C-\&gt;</code> are sent to the underlying
program. If <code>&lt;C-\&gt;</code> is pressed, the next key is sent unless it is <code>&lt;C-N&gt;</code> or <code>&lt;C-O&gt;</code>.
Use <code>&lt;C-\&gt;</code><code>&lt;C-N&gt;</code> to return to normal mode. <a href="intro.html#CTRL-%5C_CTRL-N">CTRL-\_CTRL-N</a>
Use <code>&lt;C-\&gt;</code><code>&lt;C-O&gt;</code> to execute one normal mode command and then return to terminal
mode. <code id="t_CTRL-%5C_CTRL-O" class="help-tag"><a href="#t_CTRL-%5C_CTRL-O">t_CTRL-\_CTRL-O</a></code></div>
<div class="old-help-para">Terminal-mode forces these local options:</div>
<div class="old-help-para">    <a href="options.html#'cursorlineopt'">'cursorlineopt'</a> = number
    <a href="options.html#'nocursorcolumn'">'nocursorcolumn'</a>
    <a href="options.html#'scrolloff'">'scrolloff'</a> = 0
    <a href="options.html#'sidescrolloff'">'sidescrolloff'</a> = 0</div>
<div class="old-help-para">Terminal-mode has its own <a href="map.html#%3Atnoremap">:tnoremap</a> namespace for mappings, this can be used
to automate any terminal interaction.</div>
<div class="old-help-para">To map <code>&lt;Esc&gt;</code> to exit terminal-mode:<pre><code class="language-vim">:tnoremap &lt;Esc&gt; &lt;C-\&gt;&lt;C-n&gt;</code></pre>
To simulate <a href="insert.html#i_CTRL-R">i_CTRL-R</a> in terminal-mode:<pre><code class="language-vim">:tnoremap &lt;expr&gt; &lt;C-R&gt; '&lt;C-\&gt;&lt;C-N&gt;"'.nr2char(getchar()).'pi'</code></pre>
To use <code>ALT+{h,j,k,l}</code> to navigate windows from any mode:<pre><code class="language-vim">:tnoremap &lt;A-h&gt; &lt;C-\&gt;&lt;C-N&gt;&lt;C-w&gt;h
:tnoremap &lt;A-j&gt; &lt;C-\&gt;&lt;C-N&gt;&lt;C-w&gt;j
:tnoremap &lt;A-k&gt; &lt;C-\&gt;&lt;C-N&gt;&lt;C-w&gt;k
:tnoremap &lt;A-l&gt; &lt;C-\&gt;&lt;C-N&gt;&lt;C-w&gt;l
:inoremap &lt;A-h&gt; &lt;C-\&gt;&lt;C-N&gt;&lt;C-w&gt;h
:inoremap &lt;A-j&gt; &lt;C-\&gt;&lt;C-N&gt;&lt;C-w&gt;j
:inoremap &lt;A-k&gt; &lt;C-\&gt;&lt;C-N&gt;&lt;C-w&gt;k
:inoremap &lt;A-l&gt; &lt;C-\&gt;&lt;C-N&gt;&lt;C-w&gt;l
:nnoremap &lt;A-h&gt; &lt;C-w&gt;h
:nnoremap &lt;A-j&gt; &lt;C-w&gt;j
:nnoremap &lt;A-k&gt; &lt;C-w&gt;k
:nnoremap &lt;A-l&gt; &lt;C-w&gt;l</code></pre>
You can also create menus similar to terminal mode mappings, but you have to
use <a href="gui.html#%3Atlmenu">:tlmenu</a> instead of <a href="gui.html#%3Atmenu">:tmenu</a>.</div>
<div class="old-help-para">Mouse input has the following behavior:</div>
<div class="old-help-para"><div class="help-li" style=""> If the program has enabled mouse events, the corresponding events will be
  forwarded to the program.
</div><div class="help-li" style=""> If mouse events are disabled (the default), terminal focus will be lost and
  the event will be processed as in a normal buffer.
</div><div class="help-li" style=""> If another window is clicked, terminal focus will be lost and nvim will jump
  to the clicked window
</div><div class="help-li" style=""> If the mouse wheel is used while the mouse is positioned in another window,
  the terminal won't lose focus and the hovered window will be scrolled.
</div></div>
<div class="old-help-para"><h2 id="terminal-config" class="help-heading">Configuration<span class="help-heading-tags">					<span class="help-tag"><a href="#terminal-config">terminal-config</a></span></h2></div>
<div class="old-help-para">Options:		<a href="options.html#'modified'">'modified'</a>, <a href="options.html#'scrollback'">'scrollback'</a>
Events:			<a href="autocmd.html#TermOpen">TermOpen</a>, <a href="autocmd.html#TermEnter">TermEnter</a>, <a href="autocmd.html#TermLeave">TermLeave</a>, <a href="autocmd.html#TermClose">TermClose</a>
Highlight groups:	<a href="syntax.html#hl-TermCursor">hl-TermCursor</a>, <a href="syntax.html#hl-TermCursorNC">hl-TermCursorNC</a></div>
<div class="old-help-para">Terminal sets local defaults for some options, which may differ from your
global configuration.</div>
<div class="old-help-para"><div class="help-li" style=""> <a href="options.html#'list'">'list'</a> is disabled
</div><div class="help-li" style=""> <a href="options.html#'wrap'">'wrap'</a> is disabled
</div></div>
<div class="old-help-para">You can change the defaults with a TermOpen autocommand:<pre><code class="language-vim">au TermOpen * setlocal list</code></pre>
<div class="help-column_heading">TERMINAL COLORS</div></div>
<div class="old-help-para">The <code>{g,b}:terminal_color_x</code> variables control the terminal color palette,
where <code>x</code> is the color index between 0 and 15 inclusive.  The variables are
read during <a href="autocmd.html#TermOpen">TermOpen</a>. The value must be a color name or hexadecimal string.
Example:<pre><code class="language-vim">let g:terminal_color_4 = '#ff0000'
let g:terminal_color_5 = 'green'</code></pre>
Only works for RGB UIs (see <a href="options.html#'termguicolors'">'termguicolors'</a>); for 256-color terminals the
color index is just forwarded.</div>
<div class="old-help-para">Editor highlighting (<a href="syntax.html#syntax-highlighting">syntax-highlighting</a>, <a href="syntax.html#highlight-groups">highlight-groups</a>, etc.) has
higher precedence: it is applied after terminal colors are resolved.</div>
<div class="old-help-para"><h2 id="terminal-status" class="help-heading">Status Variables<span class="help-heading-tags">				<span class="help-tag"><a href="#terminal-status">terminal-status</a></span></h2></div>
<div class="old-help-para">Terminal buffers maintain some buffer-local variables and options. The values
are initialized before TermOpen, so you can use them in a local <a href="options.html#'statusline'">'statusline'</a>.
Example:<pre><code class="language-vim">:autocmd TermOpen * setlocal statusline=%{b:term_title}</code></pre>
<div class="help-li" style=""> <code id="b%3Aterm_title" class="help-tag"><a href="#b%3Aterm_title">b:term_title</a></code>  Terminal title (user-writable), typically displayed in the
  window title or tab title of a graphical terminal emulator. Terminal
  programs can set this by emitting an escape sequence.
</div><div class="help-li" style=""> <a href="options.html#'channel'">'channel'</a>  Terminal PTY <a href="job_control.html#job-id">job-id</a>.  Can be used with <a href="builtin.html#chansend()">chansend()</a> to send
  input to the terminal.
</div><div class="help-li" style=""> The <a href="autocmd.html#TermClose">TermClose</a> event gives the terminal job exit code in the <a href="eval.html#v%3Aevent">v:event</a>
  "status" field. For example, this autocmd closes terminal buffers if the job
  exited without error:<pre><code class="language-vim">autocmd TermClose * if !v:event.status | exe 'bdelete! '..expand('&lt;abuf&gt;') | endif</code></pre>
Use <a href="builtin.html#jobwait()">jobwait()</a> to check if the terminal job has finished:<pre><code class="language-vim">let running = jobwait([&amp;channel], 0)[0] == -1</code></pre>
==============================================================================
:Termdebug plugin				<code id="terminal-debug" class="help-tag-right"><a href="#terminal-debug">terminal-debug</a></code>
</div></div>
<div class="old-help-para">The Terminal debugging plugin can be used to debug a program with gdb and view
the source code in a Vim window.  Since this is completely contained inside
Vim this also works remotely over an ssh connection.</div>
<div class="old-help-para"><div class="help-column_heading">Starting</div>							<code id="termdebug-starting" class="help-tag-right"><a href="#termdebug-starting">termdebug-starting</a></code>
Load the plugin with this command:<pre><code class="language-vim">packadd termdebug</code></pre></div>
<div class="old-help-para">							<code id="%3ATermdebug" class="help-tag-right"><a href="#%3ATermdebug">:Termdebug</a></code>
To start debugging use <code>:Termdebug</code> or <code>:TermdebugCommand</code> followed by the
command name, for example:<pre><code class="language-vim">:Termdebug vim</code></pre>
This opens two windows:</div>
<div class="old-help-para">gdb window	A terminal window in which "gdb vim" is executed.  Here you
		can directly interact with gdb.</div>
<div class="old-help-para">program window	A terminal window for the executed program.  When "run" is
		used in gdb the program I/O will happen in this window, so
		that it does not interfere with controlling gdb.</div>
<div class="old-help-para">The current window is used to show the source code.  When gdb pauses the
source file location will be displayed, if possible.  A sign is used to
highlight the current position, using highlight group debugPC.</div>
<div class="old-help-para">If the buffer in the current window is modified, another window will be opened
to display the current gdb position.</div>
<div class="old-help-para">Focus the terminal of the executed program to interact with it.  This works
the same as any command running in a terminal window.</div>
<div class="old-help-para">When the debugger ends, typically by typing "quit" in the gdb window, the two
opened windows are closed.</div>
<div class="old-help-para">Only one debugger can be active at a time.
							<code id="%3ATermdebugCommand" class="help-tag-right"><a href="#%3ATermdebugCommand">:TermdebugCommand</a></code>
If you want to give specific commands to the command being debugged, you can
use the <code>:TermdebugCommand</code> command followed by the command name and
additional parameters.<pre><code class="language-vim">:TermdebugCommand vim --clean -c ':set nu'</code></pre>
Both the <code>:Termdebug</code> and <code>:TermdebugCommand</code> support an optional "!" bang
argument to start the command right away, without pausing at the gdb window
(and cursor will be in the debugged window).  For example:<pre><code class="language-vim">:TermdebugCommand! vim --clean</code></pre>
To attach gdb to an already running executable or use a core file, pass extra
arguments.  E.g.:<pre><code class="language-vim">:Termdebug vim core
:Termdebug vim 98343</code></pre>
If no argument is given, you'll end up in a gdb window, in which you need to
specify which command to run using e.g. the gdb <code>file</code> command.</div>
<div class="old-help-para"><div class="help-column_heading">Example session</div>							<code id="termdebug-example" class="help-tag-right"><a href="#termdebug-example">termdebug-example</a></code>
Start in the Vim "src" directory and build Vim:<pre>% make</pre>
Start Vim:<pre>% ./vim</pre>
Load the termdebug plugin and start debugging Vim:<pre><code class="language-vim">:packadd termdebug
:Termdebug vim</code></pre>
You should now have three windows:
    source  - where you started
    gdb	    - you can type gdb commands here
    program - the executed program will use this window</div>
<div class="old-help-para">Put focus on the gdb window and type:<pre>break ex_help
run</pre>
Vim will start running in the program window. Put focus there and type:<pre><code class="language-vim">:help gui</code></pre>
Gdb will run into the ex_help breakpoint.  The source window now shows the
ex_cmds.c file.  A red "1 " marker will appear in the signcolumn where the
breakpoint was set.  The line where the debugger stopped is highlighted.  You
can now step through the program.  You will see the highlighting move as the
debugger executes a line of source code.</div>
<div class="old-help-para">Run ":Next" a few times until the for loop is highlighted.  Put the cursor on
the end of "eap-&gt;arg", then call ":Eval".  You will see this displayed:
<div class="help-column_heading">	"eap-&gt;arg": 0x555555e68855 "gui"</div>This way you can inspect the value of local variables.  You can also focus the
gdb window and use a "print" command, e.g.:<pre>print *eap</pre>
If mouse pointer movements are working, Vim will also show a balloon when the
mouse rests on text that can be evaluated by gdb.
You can also use the "K" mapping that will either use Nvim floating windows
if available to show the results or print below the status bar.</div>
<div class="old-help-para">Now go back to the source window and put the cursor on the first line after
the for loop, then type:<pre>:Break</pre>
You will see a "1" marker appear, this indicates the new breakpoint.  Now
run ":Cont" command and the code until the breakpoint will be executed.</div>
<div class="old-help-para">You can type more advanced commands in the gdb window.  For example, type:<pre>watch curbuf</pre>
Now run ":Cont" (or type "cont" in the gdb window). Execution
will now continue until the value of "curbuf" changes, which is in do_ecmd().
To remove this watchpoint again type in the gdb window:<pre>delete 3</pre>
You can see the stack by typing in the gdb window:<pre>where</pre>
Move through the stack frames, e.g. with:<pre>frame 3</pre>
The source window will show the code, at the point where the call was made to
a deeper level.</div>
<div class="old-help-para"><div class="help-column_heading">Stepping through code</div>							<code id="termdebug-stepping" class="help-tag-right"><a href="#termdebug-stepping">termdebug-stepping</a></code>
Put focus on the gdb window to type commands there.  Some common ones are:
<div class="help-li" style=""> <code>CTRL-C</code>	interrupt the program
</div><div class="help-li" style=""> next		execute the current line and stop at the next line
</div><div class="help-li" style=""> step		execute the current line and stop at the next statement,
		entering functions
</div><div class="help-li" style=""> until		execute until past the current cursor line or past a specified
		position or the current stack frame returns
</div><div class="help-li" style=""> finish	execute until leaving the current function
</div><div class="help-li" style=""> where		show the stack
</div><div class="help-li" style=""> frame N	go to the Nth stack frame
</div><div class="help-li" style=""> continue	continue execution
</div></div>
<div class="old-help-para">						<code id="%3ARun" class="help-tag-right"><a href="#%3ARun">:Run</a></code> <code id="%3AArguments" class="help-tag"><a href="#%3AArguments">:Arguments</a></code>
In the window showing the source code these commands can be used to control
gdb:
 <code>:Run</code> [args]	    run the program with [args] or the previous arguments
 <code>:Arguments</code> <code>{args}</code>  set arguments for the next <code>:Run</code></div>
<div class="old-help-para"> <code id="%3ABreak" class="help-tag"><a href="#%3ABreak">:Break</a></code>  	set a breakpoint at the current line; a sign will be displayed
 <code id="%3AClear" class="help-tag"><a href="#%3AClear">:Clear</a></code>  	delete the breakpoint at the current line</div>
<div class="old-help-para"> <code id="%3AStep" class="help-tag"><a href="#%3AStep">:Step</a></code>  	execute the gdb "step" command
 <code id="%3AOver" class="help-tag"><a href="#%3AOver">:Over</a></code>  	execute the gdb "next" command (<code>:Next</code> is a Vim command)
 <code id="%3AUntil" class="help-tag"><a href="#%3AUntil">:Until</a></code>  	execute the gdb "until" command
 <code id="%3AFinish" class="help-tag"><a href="#%3AFinish">:Finish</a></code>  	execute the gdb "finish" command
 <code id="%3AContinue" class="help-tag"><a href="#%3AContinue">:Continue</a></code>  	execute the gdb "continue" command
 <code id="%3AStop" class="help-tag"><a href="#%3AStop">:Stop</a></code>  	interrupt the program</div>
<div class="old-help-para">If gdb stops at a source line and there is no window currently showing the
source code, a new window will be created for the source code.  This also
happens if the buffer in the source code window has been modified and can't be
abandoned.</div>
<div class="old-help-para">Gdb gives each breakpoint a number.  In Vim the number shows up in the sign
column, with a red background.  You can use these gdb commands:
<div class="help-li" style=""> info break	list breakpoints
</div><div class="help-li" style=""> delete N	delete breakpoint N
You can also use the <code>:Clear</code> command if the cursor is in the line with the
breakpoint, or use the "Clear breakpoint" right-click menu entry.
</div></div>
<div class="old-help-para"><div class="help-column_heading">Inspecting variables</div>					<code id="termdebug-variables" class="help-tag-right"><a href="#termdebug-variables">termdebug-variables</a></code> <code id="%3AEvaluate" class="help-tag"><a href="#%3AEvaluate">:Evaluate</a></code>
 <code>:Evaluate</code>  	    evaluate the expression under the cursor
 <code>K</code>  		    same (see <a href="nvim_terminal_emulator.html#termdebug_map_K">termdebug_map_K</a> to disable)
 <code>:Evaluate</code> <code>{expr}</code>   evaluate <code>{expr}</code>
 <code>:'&lt;,'&gt;Evaluate</code>     evaluate the Visually selected text</div>
<div class="old-help-para">This is similar to using "print" in the gdb window.
You can usually shorten <code>:Evaluate</code> to <code>:Ev</code>.</div>
<div class="old-help-para"><div class="help-column_heading">Navigating stack frames</div>				<code id="termdebug-frames" class="help-tag-right"><a href="#termdebug-frames">termdebug-frames</a></code> <code id="%3AFrame" class="help-tag"><a href="#%3AFrame">:Frame</a></code> <code id="%3AUp" class="help-tag"><a href="#%3AUp">:Up</a></code> <code id="%3ADown" class="help-tag"><a href="#%3ADown">:Down</a></code>
 <code>:Frame</code> [frame]	select frame [frame], which is a frame number,
			address, or function name (default: current frame)
 <code>:Up</code> [count]		go up [count] frames (default: 1; the frame that
			called the current)
 <code>+</code>  			same (see <a href="nvim_terminal_emulator.html#termdebug_map_plus">termdebug_map_plus</a> to disable)
 <code>:Down</code> [count]	go down [count] frames (default: 1; the frame called
			by the current)
 <code>-</code>  			same (see <a href="nvim_terminal_emulator.html#termdebug_map_minus">termdebug_map_minus</a> to disable)</div>
<div class="old-help-para"><div class="help-column_heading">Other commands</div>							<code id="termdebug-commands" class="help-tag-right"><a href="#termdebug-commands">termdebug-commands</a></code>
 <code id="%3AGdb" class="help-tag"><a href="#%3AGdb">:Gdb</a></code>  	     jump to the gdb window
 <code id="%3AProgram" class="help-tag"><a href="#%3AProgram">:Program</a></code>    jump to the window with the running program
 <code id="%3ASource" class="help-tag"><a href="#%3ASource">:Source</a></code>     jump to the window with the source code, create it if there
	     isn't one
 <code id="%3AAsm" class="help-tag"><a href="#%3AAsm">:Asm</a></code>  	     jump to the window with the disassembly, create it if there
	     isn't one
 <code id="%3AVar" class="help-tag"><a href="#%3AVar">:Var</a></code>  	     jump to the window with the local and argument variables,
             create it if there isn't one. This window updates whenever the
             program is stopped</div>
<div class="old-help-para"><div class="help-column_heading">Events</div>							<code id="termdebug-events" class="help-tag-right"><a href="#termdebug-events">termdebug-events</a></code>
Four autocommands can be used:<pre><code class="language-vim">au User TermdebugStartPre  echomsg 'debugging starting'
au User TermdebugStartPost echomsg 'debugging started'
au User TermdebugStopPre   echomsg 'debugging stopping'
au User TermdebugStopPost  echomsg 'debugging stopped'</code></pre></div>
<div class="old-help-para">						<code id="TermdebugStartPre" class="help-tag-right"><a href="#TermdebugStartPre">TermdebugStartPre</a></code>
TermdebugStartPre		Before starting debugging.
				Not triggered if the debugger is already
				running or the debugger command cannot be
				executed.
						<code id="TermdebugStartPost" class="help-tag-right"><a href="#TermdebugStartPost">TermdebugStartPost</a></code>
TermdebugStartPost		After debugging has initialized.
				If a "!" bang is passed to <code>:Termdebug</code> or
				<code>:TermdebugCommand</code> the event is triggered
				before running the provided command in gdb.
						<code id="TermdebugStopPre" class="help-tag-right"><a href="#TermdebugStopPre">TermdebugStopPre</a></code>
TermdebugStopPre		Before debugging ends, when gdb is terminated,
				most likely after issuing a "quit" command in
				the gdb window.
						<code id="TermdebugStopPost" class="help-tag-right"><a href="#TermdebugStopPost">TermdebugStopPost</a></code>
TermdebugStopPost		After debugging has ended, gdb-related windows
				are closed, debug buffers wiped out and
				the state before the debugging was restored.</div>
<div class="old-help-para"><div class="help-column_heading">Customizing</div>				<code id="termdebug-customizing" class="help-tag-right"><a href="#termdebug-customizing">termdebug-customizing</a></code> <code id="g%3Atermdebug_config" class="help-tag"><a href="#g%3Atermdebug_config">g:termdebug_config</a></code>
In the past several global variables were used for configuration.  These are
deprecated and using the g:termdebug_config dictionary is preferred.  When
g:termdebug_config exists the other global variables will NOT be used.
The recommended way is to start with an empty dictionary:<pre><code class="language-vim">let g:termdebug_config = {}</code></pre>
Then you can add entries to the dictionary as mentioned below.  The
deprecated global variable names are mentioned for completeness.  If you are
switching over to using g:termdebug_config you can find the old variable name
and take over the value, then delete the deprecated variable.</div>
<div class="old-help-para"><div class="help-column_heading">Prompt mode</div>						<code id="termdebug-prompt" class="help-tag-right"><a href="#termdebug-prompt">termdebug-prompt</a></code>
When on MS-Windows, gdb will run in a buffer with <a href="options.html#'buftype'">'buftype'</a> set to "prompt".
This works slightly differently:
<div class="help-li" style=""> The gdb window will be in Insert mode while typing commands.  Go to Normal
  mode with <code>&lt;Esc&gt;</code>, then you can move around in the buffer, copy/paste, etc.
  Go back to editing the gdb command with any command that starts Insert mode,
  such as <code>a</code> or <code>i</code>.
</div><div class="help-li" style=""> A separate :terminal window will be opened to run the debugged program in.
</div></div>
<div class="old-help-para">						<code id="termdebug_use_prompt" class="help-tag-right"><a href="#termdebug_use_prompt">termdebug_use_prompt</a></code>
Prompt mode can be used with:<pre><code class="language-vim">let g:termdebug_config['use_prompt'] = 1</code></pre>
If there is no g:termdebug_config you can use:<pre><code class="language-vim">let g:termdebug_use_prompt = 1</code></pre></div>
<div class="old-help-para">						<code id="termdebug_map_K" class="help-tag-right"><a href="#termdebug_map_K">termdebug_map_K</a></code>
The K key is normally mapped to <a href="nvim_terminal_emulator.html#%3AEvaluate">:Evaluate</a>. If you do not want this use:<pre><code class="language-vim">let g:termdebug_config['map_K'] = 0</code></pre>
If there is no g:termdebug_config you can use:<pre><code class="language-vim">let g:termdebug_map_K = 0</code></pre></div>
<div class="old-help-para">						<code id="termdebug_map_minus" class="help-tag-right"><a href="#termdebug_map_minus">termdebug_map_minus</a></code>
The - key is normally mapped to <a href="nvim_terminal_emulator.html#%3ADown">:Down</a>. If you do not want this use:<pre><code class="language-vim">let g:termdebug_config['map_minus'] = 0</code></pre></div>
<div class="old-help-para">						<code id="termdebug_map_plus" class="help-tag-right"><a href="#termdebug_map_plus">termdebug_map_plus</a></code>
The + key is normally mapped to <a href="nvim_terminal_emulator.html#%3AUp">:Up</a>. If you do not want this use:<pre><code class="language-vim">let g:termdebug_config['map_plus'] = 0</code></pre></div>
<div class="old-help-para">						<code id="termdebug_disasm_window" class="help-tag-right"><a href="#termdebug_disasm_window">termdebug_disasm_window</a></code>
If you want the Asm window shown by default, set the "disasm_window" flag to
1.  The "disasm_window_height" entry can be used to set the window height:<pre><code class="language-vim">let g:termdebug_config['disasm_window'] = 1
let g:termdebug_config['disasm_window_height'] = 15</code></pre>
If there is no g:termdebug_config you can use:<pre><code class="language-vim">let g:termdebug_disasm_window = 15</code></pre>
Any value greater than 1 will set the Asm window height to that value.</div>
<div class="old-help-para">						<code id="termdebug_variables_window" class="help-tag-right"><a href="#termdebug_variables_window">termdebug_variables_window</a></code>
If you want the Var window shown by default, set the flag to 1.
the "variables_window_height" entry can be used to set the window height:<pre><code class="language-vim">let g:termdebug_config['variables_window'] = 1
let g:termdebug_config['variables_window_height'] = 15</code></pre>
If there is no g:termdebug_config you can use:<pre><code class="language-vim">let g:termdebug_variables_window = 15</code></pre>
Any value greater than 1 will set the Var window height to that value.</div>
<div class="old-help-para"><div class="help-column_heading">Communication</div>						<code id="termdebug-communication" class="help-tag-right"><a href="#termdebug-communication">termdebug-communication</a></code>
There is another, hidden, buffer, which is used for Vim to communicate with
gdb.  The buffer name is "gdb communication".  Do not delete this buffer, it
will break the debugger.</div>
<div class="old-help-para">Gdb has some weird behavior, the plugin does its best to work around that.
For example, after typing "continue" in the gdb window a <code>CTRL-C</code> can be used to
interrupt the running program.  But after using the MI command
"-exec-continue"  pressing <code>CTRL-C</code> does not interrupt.  Therefore you will see
"continue" being used for the <code>:Continue</code> command, instead of using the
communication channel.</div>
<div class="old-help-para"><div class="help-column_heading">GDB command</div>							<code id="g%3Atermdebugger" class="help-tag-right"><a href="#g%3Atermdebugger">g:termdebugger</a></code>
To change the name of the gdb command, set "debugger" entry in
g:termdebug_config or the "g:termdebugger" variable before invoking
<code>:Termdebug</code>:<pre><code class="language-vim">let g:termdebug_config['command'] = "mygdb"</code></pre>
If there is no g:termdebug_config you can use:<pre><code class="language-vim">let g:termdebugger = "mygdb"</code></pre>
If the command needs an argument use a List:<pre><code class="language-vim">let g:termdebug_config['command'] = ['rr', 'replay', '--']</code></pre>
If there is no g:termdebug_config you can use:<pre><code class="language-vim">let g:termdebugger = ['rr', 'replay', '--']</code></pre>
To not use Nvim floating windows for previewing variable evaluation, set the
<code>g:termdebug_useFloatingHover</code> variable like this:<pre><code class="language-vim">let g:termdebug_useFloatingHover = 0</code></pre>
If you are a mouse person, you can also define a mapping using your right
click to one of the terminal command like evaluate the variable under the
cursor:<pre><code class="language-vim">nnoremap &lt;RightMouse&gt; :Evaluate&lt;CR&gt;</code></pre>
or set/unset a breakpoint:<pre><code class="language-vim">nnoremap &lt;RightMouse&gt; :Break&lt;CR&gt;</code></pre>
Several arguments will be added to make gdb work well for the debugger.
If you want to modify them, add a function to filter the argument list:<pre><code class="language-vim">let g:termdebug_config['command_filter'] = MyDebugFilter</code></pre>
If you do not want the arguments to be added, but you do need to set the
"pty", use a function to add the necessary arguments:<pre><code class="language-vim">let g:termdebug_config['command_add_args'] = MyAddArguments</code></pre>
The function will be called with the list of arguments so far, and a second
argument that is the name of the pty.
							<code id="gdb-version" class="help-tag-right"><a href="#gdb-version">gdb-version</a></code>
Only debuggers fully compatible with gdb will work.  Vim uses the GDB/MI
interface.  The "new-ui" command requires gdb version 7.12 or later.  If you
get this error:
	Undefined command: "new-ui". Try "help".~
Then your gdb is too old.</div>
<div class="old-help-para"><div class="help-column_heading">Colors</div>					<code id="hl-debugPC" class="help-tag-right"><a href="#hl-debugPC">hl-debugPC</a></code> <code id="hl-debugBreakpoint" class="help-tag"><a href="#hl-debugBreakpoint">hl-debugBreakpoint</a></code>
The color of the signs can be adjusted with these highlight groups:
<div class="help-li" style=""> debugPC		the current position
</div><div class="help-li" style=""> debugBreakpoint	a breakpoint
</div></div>
<div class="old-help-para">The defaults are, when <a href="options.html#'background'">'background'</a> is "light":
  hi debugPC term=reverse ctermbg=lightblue guibg=lightblue
  hi debugBreakpoint term=reverse ctermbg=red guibg=red</div>
<div class="old-help-para">When <a href="options.html#'background'">'background'</a> is "dark":
  hi debugPC term=reverse ctermbg=darkblue guibg=darkblue
  hi debugBreakpoint term=reverse ctermbg=red guibg=red</div>
<div class="old-help-para"><div class="help-column_heading">Shortcuts</div>							<code id="termdebug_shortcuts" class="help-tag-right"><a href="#termdebug_shortcuts">termdebug_shortcuts</a></code>
You can define your own shortcuts (mappings) to control gdb, that can work in
any window, using the TermDebugSendCommand() function.  Example:<pre><code class="language-vim">map ,w :call TermDebugSendCommand('where')&lt;CR&gt;</code></pre>
The argument is the gdb command.</div>
<div class="old-help-para"><div class="help-column_heading">Popup menu</div>							<code id="termdebug_popup" class="help-tag-right"><a href="#termdebug_popup">termdebug_popup</a></code>
By default the Termdebug plugin sets <a href="options.html#'mousemodel'">'mousemodel'</a> to "popup_setpos" and adds
these entries to the popup menu:
	Set breakpoint		<code>:Break</code>
	Clear breakpoint	<code>:Clear</code>
	Evaluate		<code>:Evaluate</code>
If you don't want this then disable it with:<pre><code class="language-vim">let g:termdebug_config['popup'] = 0</code></pre>
If there is no g:termdebug_config you can use:<pre><code class="language-vim">let g:termdebug_popup = 0</code></pre>
<div class="help-column_heading">Change default signs</div>							<code id="termdebug_signs" class="help-tag-right"><a href="#termdebug_signs">termdebug_signs</a></code>
Termdebug uses the last two characters of the breakpoint ID in the
signcolumn to represent breakpoints. For example, breakpoint ID 133
will be displayed as <code>33</code>.</div>
<div class="old-help-para">If you want to customize the breakpoint signs:<pre><code class="language-vim">let g:termdebug_config['sign'] = '&gt;&gt;'</code></pre>
If there is no g:terminal_config yet you can use:<pre><code class="language-vim">let g:termdebug_config = {'sign': '&gt;&gt;'}</code></pre>
After this, breakpoints will be displayed as <code>&gt;&gt;</code> in the signcolumn.</div>
<div class="old-help-para"><div class="help-column_heading">Vim window width</div>							<code id="termdebug_wide" class="help-tag-right"><a href="#termdebug_wide">termdebug_wide</a></code>
To change the width of the Vim window when debugging starts and use a vertical
split:<pre><code class="language-vim">let g:termdebug_config['wide'] = 163</code></pre>
If there is no g:termdebug_config you can use:<pre><code class="language-vim">let g:termdebug_wide = 163</code></pre>
This will set <a href="options.html#'columns'">'columns'</a> to 163 when <code>:Termdebug</code> is used.  The value is
restored when quitting the debugger.</div>
<div class="old-help-para">If the wide value is set and <a href="options.html#'columns'">'columns'</a> is already a greater value, then a
vertical split will be used without modifying <a href="options.html#'columns'">'columns'</a>.</div>
<div class="old-help-para">Set the wide value to 1 to use a vertical split without ever changing
<a href="options.html#'columns'">'columns'</a>.  This is useful when the terminal can't be resized by Vim.</div>

  </div>
      <div class="col-narrow toc">
      <div><a href="index.html">Main</a></div>
      <div><a href="vimindex.html">Commands index</a></div>
      <div><a href="quickref.html">Quick reference</a></div>
      <hr/>
  <div class="help-toc-h1"><a href="#terminal-start">
Start						</a>
</div><div class="help-toc-h1"><a href="#terminal-input">
Input						</a>
</div><div class="help-toc-h1"><a href="#terminal-config">
Configuration					</a>
</div><div class="help-toc-h1"><a href="#terminal-status">
Status Variables				</a>
</div></div>
</div>
  <footer>
    <div class="container flex">
      <div class="generator-stats">
        Generated at 2023-10-06 05:34 from <code><a href="https://github.com/neovim/neovim/commit/f67517bba30b6233bea85e1f6a8505171142d4ca">f67517b</a></code>
      </div>
      <div class="generator-stats">
      parse_errors: 0 (<a href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+nvim_terminal_emulator.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/nvim_terminal_emulator.html%0D%0DContext%3A%0D%0D%60%60%60%0DTODO%0D%60%60%60" target="_blank">report docs bug...</a>) | <span title="   Nvim
		 NVIM REFERENCE MANUAL    by Thiago de Arruda
				      Type &lt;a href="various.html#gO"&gt;gO&lt;/a&gt; to see the table of contents.
 vim:tw=78:ts=8:noet:ft=help:norl:">noise_lines: 4</span>
      </div>
    <div>

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    <script type="module">
      docsearch({
        container: '#docsearch',
        appId: 'X185E15FPG',
        apiKey: 'b5e6b2f9c636b2b471303205e59832ed',
        indexName: 'nvim',
      });
    </script>

  </footer>
  </body>
</html>
