  <!DOCTYPE html>
  <html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Neovim user documentation">

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
    <link rel="preconnect" href="https://X185E15FPG-dsn.algolia.net" crossorigin />

    <link href="/css/normalize.min.css" rel="stylesheet">
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="help.css" rel="stylesheet">
    <link href="/highlight/styles/neovim.min.css" rel="stylesheet">

    <script src="/highlight/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <title> Eval - Neovim docs</title>
  </head>
  <body>
    <header class="container">
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <a href="/" class="navbar-brand" aria-label="logo">
          <!--TODO: use <img src="â€¦.svg"> here instead. Need one that has green lettering instead of gray. -->
              <svg xmlns="http://www.w3.org/2000/svg" role="img" width="173" height="50" viewBox="0 0 742 214" aria-label="Neovim">
      <title>Neovim</title>
      <defs>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
          <stop stop-color="#16B0ED" stop-opacity=".8" offset="0%" />
          <stop stop-color="#0F59B2" stop-opacity=".837" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b">
          <stop stop-color="#7DB643" offset="0%" />
          <stop stop-color="#367533" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c">
          <stop stop-color="#88C649" stop-opacity=".8" offset="0%" />
          <stop stop-color="#439240" stop-opacity=".84" offset="100%" />
        </linearGradient>
      </defs>
      <g fill="none" fill-rule="evenodd">
        <path
          d="M.027 45.459L45.224-.173v212.171L.027 166.894V45.459z"
          fill="url(#a)"
          transform="translate(1 1)"
        />
        <path
          d="M129.337 45.89L175.152-.149l-.928 212.146-45.197-45.104.31-121.005z"
          fill="url(#b)"
          transform="matrix(-1 0 0 1 305 1)"
        />
        <path
          d="M45.194-.137L162.7 179.173l-32.882 32.881L12.25 33.141 45.194-.137z"
          fill="url(#c)"
          transform="translate(1 1)"
        />
        <path
          d="M46.234 84.032l-.063 7.063-36.28-53.563 3.36-3.422 32.983 49.922z"
          fill-opacity=".13"
          fill="#000"
        />
        <g fill="#444">
          <path
            d="M227 154V64.44h4.655c1.55 0 2.445.75 2.685 2.25l.806 13.502c4.058-5.16 8.786-9.316 14.188-12.466 5.4-3.15 11.413-4.726 18.037-4.726 4.893 0 9.205.781 12.935 2.34 3.729 1.561 6.817 3.811 9.264 6.751 2.448 2.942 4.297 6.48 5.55 10.621 1.253 4.14 1.88 8.821 1.88 14.042V154h-8.504V96.754c0-8.402-1.91-14.987-5.729-19.757-3.82-4.771-9.667-7.156-17.544-7.156-5.851 0-11.28 1.516-16.292 4.545-5.013 3.032-9.489 7.187-13.427 12.467V154H227zM350.624 63c5.066 0 9.755.868 14.069 2.605 4.312 1.738 8.052 4.268 11.219 7.592s5.638 7.412 7.419 12.264C385.11 90.313 386 95.883 386 102.17c0 1.318-.195 2.216-.588 2.696-.393.48-1.01.719-1.851.719h-64.966v1.70c0 6.708.784 12.609 2.353 17.7 1.567 5.09 3.8 9.357 6.695 12.802 2.895 3.445 6.393 6.034 10.495 7.771 4.1 1.738 8.686 2.606 13.752 2.606 4.524 0 8.446-.494 11.762-1.483 3.317-.988 6.108-2.097 8.37-3.324 2.261-1.227 4.056-2.336 5.383-3.324 1.326-.988 2.292-1.482 2.895-1.482.784 0 1.388.3 1.81.898l2.352 2.875c-1.448 1.797-3.362 3.475-5.745 5.031-2.383 1.558-5.038 2.891-7.962 3.998-2.926 1.109-6.062 1.991-9.41 2.65a52.21 52.21 0 01-10.088.989c-6.152 0-11.762-1.064-16.828-3.19-5.067-2.125-9.415-5.225-13.043-9.298-3.63-4.074-6.435-9.06-8.415-14.96C310.99 121.655 310 114.9 310 107.294c0-6.408.92-12.323 2.76-17.744 1.84-5.421 4.493-10.093 7.961-14.016 3.467-3.922 7.72-6.991 12.758-9.209C338.513 64.11 344.229 63 350.624 63zm.573 6c-4.696 0-8.904.702-12.623 2.105-3.721 1.404-6.936 3.421-9.65 6.053-2.713 2.631-4.908 5.79-6.586 9.474S319.55 94.439 319 99h60c0-4.679-.672-8.874-2.013-12.588-1.343-3.712-3.232-6.856-5.67-9.43-2.44-2.571-5.367-4.545-8.782-5.92-3.413-1.374-7.192-2.062-11.338-2.062zM435.546 63c6.526 0 12.368 1.093 17.524 3.28 5.154 2.186 9.5 5.286 13.04 9.298 3.538 4.013 6.238 8.85 8.099 14.51 1.861 5.66 2.791 11.994 2.791 19.002 0 7.008-.932 13.327-2.791 18.957-1.861 5.631-4.561 10.452-8.099 14.465-3.54 4.012-7.886 7.097-13.04 9.254-5.156 2.156-10.998 3.234-17.524 3.234-6.529 0-12.369-1.078-17.525-3.234-5.155-2.157-9.517-5.242-13.085-9.254-3.57-4.013-6.285-8.836-8.145-14.465-1.861-5.63-2.791-11.95-2.791-18.957 0-7.008.93-13.342 2.791-19.002 1.861-5.66 4.576-10.496 8.145-14.51 3.568-4.012 7.93-7.112 13.085-9.299C423.177 64.094 429.017 63 435.546 63zm-.501 86c5.341 0 10.006-.918 13.997-2.757 3.99-1.838 7.32-4.474 9.992-7.909 2.67-3.435 4.664-7.576 5.986-12.428 1.317-4.85 1.98-10.288 1.98-16.316 0-5.965-.66-11.389-1.98-16.27-1.322-4.88-3.316-9.053-5.986-12.519-2.67-3.463-6-6.13-9.992-7.999-3.991-1.867-8.657-2.802-13.997-2.802s-10.008.935-13.997 2.802c-3.991 1.87-7.322 4.536-9.992 8-2.671 3.465-4.68 7.637-6.03 12.518-1.35 4.881-2.026 10.305-2.026 16.27 0 6.026.675 11.465 2.025 16.316 1.35 4.852 3.36 8.993 6.031 12.428 2.67 3.435 6 6.07 9.992 7.91 3.99 1.838 8.656 2.756 13.997 2.756z"
            fill="currentColor"
          />
          <path
            d="M530.57 152h-20.05L474 60h18.35c1.61 0 2.967.39 4.072 1.166 1.103.778 1.865 1.763 2.283 2.959l17.722 49.138a92.762 92.762 0 012.551 8.429c.686 2.751 1.298 5.5 1.835 8.25.537-2.75 1.148-5.499 1.835-8.25a77.713 77.713 0 012.64-8.429l18.171-49.138c.417-1.196 1.164-2.181 2.238-2.96 1.074-.776 2.356-1.165 3.849-1.165H567l-36.43 92zM572 61h23v92h-23zM610 153V60.443h13.624c2.887 0 4.78 1.354 5.682 4.06l1.443 6.856a52.7 52.7 0 015.097-4.962 32.732 32.732 0 015.683-3.879 30.731 30.731 0 016.496-2.57c2.314-.632 4.855-.948 7.624-.948 5.832 0 10.63 1.579 14.39 4.736 3.758 3.157 6.57 7.352 8.434 12.585 1.444-3.068 3.248-5.698 5.413-7.894 2.165-2.194 4.541-3.984 7.127-5.367a32.848 32.848 0 018.254-3.068 39.597 39.597 0 018.796-.992c5.111 0 9.653.783 13.622 2.345 3.97 1.565 7.307 3.849 10.014 6.857 2.706 3.007 4.766 6.675 6.18 11.005C739.29 83.537 740 88.5 740 94.092V153h-22.284V94.092c0-5.894-1.294-10.329-3.878-13.306-2.587-2.977-6.376-4.465-11.368-4.465-2.286 0-4.404.391-6.358 1.172a15.189 15.189 0 00-5.144 3.383c-1.473 1.474-2.631 3.324-3.474 5.548-.842 2.225-1.263 4.781-1.263 7.668V153h-22.37V94.092c0-6.194-1.249-10.704-3.744-13.532-2.497-2.825-6.18-4.24-11.051-4.24-3.19 0-6.18.798-8.976 2.391-2.799 1.593-5.399 3.775-7.804 6.54V153H610zM572 30h23v19h-23z"
            fill="currentColor"
            fill-opacity=".8"
          />
        </g>
      </g>
    </svg>
  
          <!--<img src="https://neovim.io/logos/neovim-logo.svg" width="173" height="50" alt="Neovim" />-->
        </a>
        <div id="docsearch"></div> <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
      </div>
    </nav>
  </header>

  <div class="container golden-grid help-body">
  <div class="col-wide">
  <a name="vimscript"></a><h1 id="eval.txt"> Eval</h1>
  <p>
    <i>
    Nvim <code>:help</code> pages, <a href="https://github.com/neovim/neovim/blob/master/scripts/gen_help_html.lua">generated</a>
    from <a href="https://github.com/neovim/neovim/blob/master/runtime/doc/eval.txt">source</a>
    using the <a href="https://github.com/neovim/tree-sitter-vimdoc">tree-sitter-vimdoc</a> parser.
    </i>
  </p>
  <hr/>
  <div class="old-help-para">Expression evaluation <code id="expression" class="help-tag"><a href="#expression">expression</a></code> <code id="expr" class="help-tag"><a href="#expr">expr</a></code> <code id="E15" class="help-tag"><a href="#E15">E15</a></code> <code id="eval" class="help-tag"><a href="#eval">eval</a></code></div>
<div class="old-help-para">Using expressions is introduced in chapter 41 of the user manual <a href="usr_41.html#usr_41.txt">usr_41.txt</a>.</div>
<div class="old-help-para"><h2 id="variables" class="help-heading">1. Variables<span class="help-heading-tags">						<span class="help-tag"><a href="#variables">variables</a></span></h2></div>
<div class="old-help-para"><div class="help-column_heading">1.1 Variable types</div>						<code id="E712" class="help-tag-right"><a href="#E712">E712</a></code> <code id="E896" class="help-tag"><a href="#E896">E896</a></code> <code id="E897" class="help-tag"><a href="#E897">E897</a></code> <code id="E899" class="help-tag"><a href="#E899">E899</a></code>
There are seven types of variables:</div>
<div class="old-help-para">							<code id="Number" class="help-tag-right"><a href="#Number">Number</a></code> <code id="Integer" class="help-tag"><a href="#Integer">Integer</a></code>
Number		A 32 or 64 bit signed number.  <a href="eval.html#expr-number">expr-number</a>
		The number of bits is available in <a href="vvars.html#v%3Anumbersize">v:numbersize</a>.
		Examples:  -123  0x10  0177  0o177  0b1011</div>
<div class="old-help-para">Float		A floating point number. <a href="eval.html#floating-point-format">floating-point-format</a> <code id="Float" class="help-tag"><a href="#Float">Float</a></code>
		Examples: 123.456  1.15e-6  -1.1e3</div>
<div class="old-help-para">String		A NUL terminated string of 8-bit unsigned characters (bytes).
		<a href="eval.html#expr-string">expr-string</a> Examples: "ab\txx\"--"  'x-z''a,c'</div>
<div class="old-help-para">Funcref		A reference to a function <a href="eval.html#Funcref">Funcref</a>.
		Example: function("strlen")
		It can be bound to a dictionary and arguments, it then works
		like a Partial.
		Example: function("Callback", [arg], myDict)</div>
<div class="old-help-para">List		An ordered sequence of items, see <a href="eval.html#List">List</a> for details.
		Example: [1, 2, ['a', 'b']]</div>
<div class="old-help-para">Dictionary	An associative, unordered array: Each entry has a key and a
		value. <a href="eval.html#Dictionary">Dictionary</a>
		Examples:<pre>{"blue": "#0000ff", "red": "#ff0000"}
#{blue: "#0000ff", red: "#ff0000"}</pre>
Blob		Binary Large Object. Stores any sequence of bytes.  See <a href="eval.html#Blob">Blob</a>
		for details.
		Example: 0zFF00ED015DAF
		0z is an empty Blob.</div>
<div class="old-help-para">The Number and String types are converted automatically, depending on how they
are used.</div>
<div class="old-help-para">Conversion from a Number to a String is by making the ASCII representation of
the Number.  Examples:
<div class="help-column_heading">	Number 123	--&gt;	String "123"</div><div class="help-column_heading">	Number 0	--&gt;	String "0"</div><div class="help-column_heading">	Number -1	--&gt;	String "-1"</div>							<code id="octal" class="help-tag-right"><a href="#octal">octal</a></code>
Conversion from a String to a Number is done by converting the first digits to
a number.  Hexadecimal "0xf9", Octal "017" or "0o17", and Binary "0b10"
numbers are recognized.  If the String doesn't start with digits, the result
is zero. Examples:
<div class="help-column_heading">	String "456"	--&gt;	Number 456</div><div class="help-column_heading">	String "6bar"	--&gt;	Number 6</div><div class="help-column_heading">	String "foo"	--&gt;	Number 0</div><div class="help-column_heading">	String "0xf1"	--&gt;	Number 241</div><div class="help-column_heading">	String "0100"	--&gt;	Number 64</div><div class="help-column_heading">	String "0o100"	--&gt;	Number 64</div><div class="help-column_heading">	String "0b101"	--&gt;	Number 5</div><div class="help-column_heading">	String "-8"	--&gt;	Number -8</div><div class="help-column_heading">	String "+8"	--&gt;	Number 0</div></div>
<div class="old-help-para">To force conversion from String to Number, add zero to it:<pre>:echo "0100" + 0</pre></div>
<div class="old-help-para"><div class="help-column_heading">	64</div></div>
<div class="old-help-para">To avoid a leading zero to cause octal conversion, or for using a different
base, use <a href="builtin.html#str2nr()">str2nr()</a>.</div>
<div class="old-help-para">						<code id="TRUE" class="help-tag-right"><a href="#TRUE">TRUE</a></code> <code id="FALSE" class="help-tag"><a href="#FALSE">FALSE</a></code> <code id="Boolean" class="help-tag"><a href="#Boolean">Boolean</a></code>
For boolean operators Numbers are used.  Zero is FALSE, non-zero is TRUE.
You can also use <a href="vvars.html#v%3Afalse">v:false</a> and <a href="vvars.html#v%3Atrue">v:true</a>.
When TRUE is returned from a function it is the Number one, FALSE is the
number zero.</div>
<div class="old-help-para">Note that in the command:<pre>:if "foo"
:" NOT executed</pre>
"foo" is converted to 0, which means FALSE.  If the string starts with a
non-zero number it means TRUE:<pre>:if "8foo"
:" executed</pre>
To test for a non-empty string, use empty():<pre>:if !empty("foo")</pre></div>
<div class="old-help-para">						<code id="falsy" class="help-tag-right"><a href="#falsy">falsy</a></code> <code id="truthy" class="help-tag"><a href="#truthy">truthy</a></code>
An expression can be used as a condition, ignoring the type and only using
whether the value is "sort of true" or "sort of false".  Falsy is:
	the number zero
	empty string, blob, list or dictionary
Other values are truthy.  Examples:
	0	falsy
	1	truthy
	-1	truthy
	0.0	falsy
	0.1	truthy
	''	falsy
	'x'	truthy
	[]	falsy
	[0]	truthy
	{}	falsy
	#{x: 1} truthy
	0z	falsy
	0z00	truthy</div>
<div class="old-help-para">							<code id="non-zero-arg" class="help-tag-right"><a href="#non-zero-arg">non-zero-arg</a></code>
Function arguments often behave slightly different from <a href="eval.html#TRUE">TRUE</a>: If the
argument is present and it evaluates to a non-zero Number, <a href="vvars.html#v%3Atrue">v:true</a> or a
non-empty String, then the value is considered to be TRUE.
Note that " " and "0" are also non-empty strings, thus considered to be TRUE.
A List, Dictionary or Float is not a Number or String, thus evaluate to FALSE.</div>
<div class="old-help-para">				<code id="E745" class="help-tag-right"><a href="#E745">E745</a></code> <code id="E728" class="help-tag"><a href="#E728">E728</a></code> <code id="E703" class="help-tag"><a href="#E703">E703</a></code> <code id="E729" class="help-tag"><a href="#E729">E729</a></code> <code id="E730" class="help-tag"><a href="#E730">E730</a></code> <code id="E731" class="help-tag"><a href="#E731">E731</a></code>
				<code id="E974" class="help-tag-right"><a href="#E974">E974</a></code> <code id="E975" class="help-tag"><a href="#E975">E975</a></code> <code id="E976" class="help-tag"><a href="#E976">E976</a></code>
<a href="eval.html#List">List</a>, <a href="eval.html#Dictionary">Dictionary</a>, <a href="eval.html#Funcref">Funcref</a>, and <a href="eval.html#Blob">Blob</a> types are not automatically
converted.</div>
<div class="old-help-para">							<code id="E805" class="help-tag-right"><a href="#E805">E805</a></code> <code id="E806" class="help-tag"><a href="#E806">E806</a></code> <code id="E808" class="help-tag"><a href="#E808">E808</a></code>
When mixing Number and Float the Number is converted to Float.  Otherwise
there is no automatic conversion of Float.  You can use str2float() for String
to Float, printf() for Float to String and float2nr() for Float to Number.</div>
<div class="old-help-para">					<code id="E362" class="help-tag-right"><a href="#E362">E362</a></code> <code id="E891" class="help-tag"><a href="#E891">E891</a></code> <code id="E892" class="help-tag"><a href="#E892">E892</a></code> <code id="E893" class="help-tag"><a href="#E893">E893</a></code> <code id="E894" class="help-tag"><a href="#E894">E894</a></code> <code id="E907" class="help-tag"><a href="#E907">E907</a></code>
When expecting a Float a Number can also be used, but nothing else.</div>
<div class="old-help-para">					<code id="no-type-checking" class="help-tag-right"><a href="#no-type-checking">no-type-checking</a></code>
You will not get an error if you try to change the type of a variable.</div>
<div class="old-help-para"><div class="help-column_heading">1.2 Function references</div>					<code id="Funcref" class="help-tag-right"><a href="#Funcref">Funcref</a></code> <code id="E695" class="help-tag"><a href="#E695">E695</a></code> <code id="E718" class="help-tag"><a href="#E718">E718</a></code> <code id="E1192" class="help-tag"><a href="#E1192">E1192</a></code>
A Funcref variable is obtained with the <a href="builtin.html#function()">function()</a> function, the <a href="builtin.html#funcref()">funcref()</a>
function or created with the lambda expression <a href="eval.html#expr-lambda">expr-lambda</a>.  It can be used
in an expression in the place of a function name, before the parenthesis
around the arguments, to invoke the function it refers to.  Example:<pre>:let Fn = function("MyFunc")
:echo Fn()</pre></div>
<div class="old-help-para">							<code id="E704" class="help-tag-right"><a href="#E704">E704</a></code> <code id="E705" class="help-tag"><a href="#E705">E705</a></code> <code id="E707" class="help-tag"><a href="#E707">E707</a></code>
A Funcref variable must start with a capital, "s:", "w:", "t:" or "b:".  You
can use "g:" but the following name must still start with a capital.  You
cannot have both a Funcref variable and a function with the same name.</div>
<div class="old-help-para">A special case is defining a function and directly assigning its Funcref to a
Dictionary entry.  Example:<pre>:function dict.init() dict
:   let self.val = 0
:endfunction</pre>
The key of the Dictionary can start with a lower case letter.  The actual
function name is not used here.  Also see <a href="eval.html#numbered-function">numbered-function</a>.</div>
<div class="old-help-para">A Funcref can also be used with the <a href="userfunc.html#%3Acall">:call</a> command:<pre>:call Fn()
:call dict.init()</pre>
The name of the referenced function can be obtained with <a href="builtin.html#string()">string()</a>.<pre>:let func = string(Fn)</pre>
You can use <a href="builtin.html#call()">call()</a> to invoke a Funcref and use a list variable for the
arguments:<pre>:let r = call(Fn, mylist)</pre></div>
<div class="old-help-para">								<code id="Partial" class="help-tag-right"><a href="#Partial">Partial</a></code>
A Funcref optionally binds a Dictionary and/or arguments.  This is also called
a Partial.  This is created by passing the Dictionary and/or arguments to
function() or funcref().  When calling the function the Dictionary and/or
arguments will be passed to the function.  Example:<pre>let Cb = function('Callback', ['foo'], myDict)
call Cb('bar')</pre>
This will invoke the function as if using:<pre>call myDict.Callback('foo', 'bar')</pre>
Note that binding a function to a Dictionary also happens when the function is
a member of the Dictionary:<pre>let myDict.myFunction = MyFunction
call myDict.myFunction()</pre>
Here MyFunction() will get myDict passed as "self".  This happens when the
"myFunction" member is accessed.  When assigning "myFunction" to otherDict
and calling it, it will be bound to otherDict:<pre>let otherDict.myFunction = myDict.myFunction
call otherDict.myFunction()</pre>
Now "self" will be "otherDict".  But when the dictionary was bound explicitly
this won't happen:<pre>let myDict.myFunction = function(MyFunction, myDict)
let otherDict.myFunction = myDict.myFunction
call otherDict.myFunction()</pre>
Here "self" will be "myDict", because it was bound explicitly.</div>
<div class="old-help-para"><div class="help-column_heading">1.3 Lists</div>						<code id="list" class="help-tag-right"><a href="#list">list</a></code> <code id="List" class="help-tag"><a href="#List">List</a></code> <code id="Lists" class="help-tag"><a href="#Lists">Lists</a></code> <code id="E686" class="help-tag"><a href="#E686">E686</a></code>
A List is an ordered sequence of items.  An item can be of any type.  Items
can be accessed by their index number.  Items can be added and removed at any
position in the sequence.</div>
<div class="old-help-para"><div class="help-column_heading">List creation</div>							<code id="E696" class="help-tag-right"><a href="#E696">E696</a></code> <code id="E697" class="help-tag"><a href="#E697">E697</a></code>
A List is created with a comma-separated list of items in square brackets.
Examples:<pre>:let mylist = [1, two, 3, "four"]
:let emptylist = []</pre>
An item can be any expression.  Using a List for an item creates a
List of Lists:<pre>:let nestlist = [[11, 12], [21, 22], [31, 32]]</pre>
An extra comma after the last item is ignored.</div>
<div class="old-help-para"><div class="help-column_heading">List index</div>							<code id="list-index" class="help-tag-right"><a href="#list-index">list-index</a></code> <code id="E684" class="help-tag"><a href="#E684">E684</a></code>
An item in the List can be accessed by putting the index in square brackets
after the List.  Indexes are zero-based, thus the first item has index zero.<pre>:let item = mylist[0]                " get the first item: 1
:let item = mylist[2]                " get the third item: 3</pre>
When the resulting item is a list this can be repeated:<pre>:let item = nestlist[0][1]        " get the first list, second item: 12</pre></div>
<div class="old-help-para">A negative index is counted from the end.  Index -1 refers to the last item in
the List, -2 to the last but one item, etc.<pre>:let last = mylist[-1]                " get the last item: "four"</pre>
To avoid an error for an invalid index use the <a href="builtin.html#get()">get()</a> function.  When an item
is not available it returns zero or the default value you specify:<pre>:echo get(mylist, idx)
:echo get(mylist, idx, "NONE")</pre>
<div class="help-column_heading">List concatenation</div>							<code id="list-concatenation" class="help-tag-right"><a href="#list-concatenation">list-concatenation</a></code>
Two lists can be concatenated with the "+" operator:<pre>:let longlist = mylist + [5, 6]
:let longlist = [5, 6] + mylist</pre>
To prepend or append an item, turn it into a list by putting [] around it.</div>
<div class="old-help-para">A list can be concatenated with another one in-place using <a href="eval.html#%3Alet%2B%3D">:let+=</a> or
<a href="builtin.html#extend()">extend()</a>:<pre>:let mylist += [7, 8]
:call extend(mylist, [7, 8])</pre></div>
<div class="old-help-para">See <a href="eval.html#list-modification">list-modification</a> below for more about changing a list in-place.</div>
<div class="old-help-para"><div class="help-column_heading">Sublist</div>							<code id="sublist" class="help-tag-right"><a href="#sublist">sublist</a></code>
A part of the List can be obtained by specifying the first and last index,
separated by a colon in square brackets:<pre>:let shortlist = mylist[2:-1]        " get List [3, "four"]</pre>
Omitting the first index is similar to zero.  Omitting the last index is
similar to -1.<pre>:let endlist = mylist[2:]        " from item 2 to the end: [3, "four"]
:let shortlist = mylist[2:2]        " List with one item: [3]
:let otherlist = mylist[:]        " make a copy of the List</pre>
Notice that the last index is inclusive.  If you prefer using an exclusive
index use the <a href="builtin.html#slice()">slice()</a> method.</div>
<div class="old-help-para">If the first index is beyond the last item of the List or the second item is
before the first item, the result is an empty list.  There is no error
message.</div>
<div class="old-help-para">If the second index is equal to or greater than the length of the list the
length minus one is used:<pre>:let mylist = [0, 1, 2, 3]
:echo mylist[2:8]                " result: [2, 3]</pre>
<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+eval.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/eval.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%09%3Alet%20mylist%20%3D%20%5B0%2C%201%2C%202%2C%203%5D%0A%09%3Aecho%20mylist%5B2%3A8%5D%09%09%22%20result%3A%20%5B2%2C%203%5D%0A%0ANOTE%3A%20mylist%5Bs%3Ae%5D%20means%20using%20the%20variable%20%22s%3Ae%22%20as%20index.%20%20Watch%20out%20for%0Ausing%20a%20single%20letter%20variable%20before%20the%20%22%3A%22.%20%20Insert%20a%20space%20when%20needed%3A%0Amylist%5Bs%20%3A%20e%5D.%0A%0D%60%60%60">NOTE:</a> mylist[s:e] means using the variable "s:e" as index.  Watch out for
using a single letter variable before the ":".  Insert a space when needed:
mylist[s : e].</div>
<div class="old-help-para"><div class="help-column_heading">List identity</div>							<code id="list-identity" class="help-tag-right"><a href="#list-identity">list-identity</a></code>
When variable "aa" is a list and you assign it to another variable "bb", both
variables refer to the same list.  Thus changing the list "aa" will also
change "bb":<pre>:let aa = [1, 2, 3]
:let bb = aa
:call add(aa, 4)
:echo bb</pre></div>
<div class="old-help-para">	[1, 2, 3, 4]</div>
<div class="old-help-para">Making a copy of a list is done with the <a href="builtin.html#copy()">copy()</a> function.  Using [:] also
works, as explained above.  This creates a shallow copy of the list: Changing
a list item in the list will also change the item in the copied list:<pre>:let aa = [[1, 'a'], 2, 3]
:let bb = copy(aa)
:call add(aa, 4)
:let aa[0][1] = 'aaa'
:echo aa</pre></div>
<div class="old-help-para">	[[1, aaa], 2, 3, 4]<pre>:echo bb</pre></div>
<div class="old-help-para">	[[1, aaa], 2, 3]</div>
<div class="old-help-para">To make a completely independent list use <a href="builtin.html#deepcopy()">deepcopy()</a>.  This also makes a
copy of the values in the list, recursively.  Up to a hundred levels deep.</div>
<div class="old-help-para">The operator "is" can be used to check if two variables refer to the same
List.  "isnot" does the opposite.  In contrast "==" compares if two lists have
the same value.<pre>:let alist = [1, 2, 3]
:let blist = [1, 2, 3]
:echo alist is blist</pre></div>
<div class="old-help-para">	0<pre>:echo alist == blist</pre></div>
<div class="old-help-para">	1</div>
<div class="old-help-para">Note about comparing lists: Two lists are considered equal if they have the
same length and all items compare equal, as with using "==".  There is one
exception: When comparing a number with a string they are considered
different.  There is no automatic type conversion, as with using "==" on
variables.  Example:<pre>echo 4 == "4"</pre></div>
<div class="old-help-para">	1<pre>echo [4] == ["4"]</pre></div>
<div class="old-help-para">	0</div>
<div class="old-help-para">Thus comparing Lists is more strict than comparing numbers and strings.  You
can compare simple values this way too by putting them in a list:<pre>:let a = 5
:let b = "5"
:echo a == b</pre></div>
<div class="old-help-para">	1<pre>:echo [a] == [b]</pre></div>
<div class="old-help-para">	0</div>
<div class="old-help-para"><div class="help-column_heading">List unpack</div></div>
<div class="old-help-para">To unpack the items in a list to individual variables, put the variables in
square brackets, like list items:<pre>:let [var1, var2] = mylist</pre>
When the number of variables does not match the number of items in the list
this produces an error.  To handle any extra items from the list append ";"
and a variable name:<pre>:let [var1, var2; rest] = mylist</pre>
This works like:<pre>:let var1 = mylist[0]
:let var2 = mylist[1]
:let rest = mylist[2:]</pre>
Except that there is no error if there are only two items.  "rest" will be an
empty list then.</div>
<div class="old-help-para"><div class="help-column_heading">List modification</div>							<code id="list-modification" class="help-tag-right"><a href="#list-modification">list-modification</a></code>
To change a specific item of a list use <a href="eval.html#%3Alet">:let</a> this way:<pre>:let list[4] = "four"
:let listlist[0][3] = item</pre>
To change part of a list you can specify the first and last item to be
modified.  The value must at least have the number of items in the range:<pre>:let list[3:5] = [3, 4, 5]</pre>
To add items to a List in-place, you can use <a href="eval.html#%3Alet%2B%3D">:let+=</a> (<a href="eval.html#list-concatenation">list-concatenation</a>):<pre>:let listA = [1, 2]
:let listA += [3, 4]</pre></div>
<div class="old-help-para">When two variables refer to the same List, changing one List in-place will
cause the referenced List to be changed in-place:<pre>:let listA = [1, 2]
:let listB = listA
:let listB += [3, 4]
:echo listA
[1, 2, 3, 4]</pre></div>
<div class="old-help-para">Adding and removing items from a list is done with functions.  Here are a few
examples:<pre>:call insert(list, 'a')                " prepend item 'a'
:call insert(list, 'a', 3)        " insert item 'a' before list[3]
:call add(list, "new")                " append String item
:call add(list, [1, 2])                " append a List as one new item
:call extend(list, [1, 2])        " extend the list with two more items
:let i = remove(list, 3)        " remove item 3
:unlet list[3]                        " idem
:let l = remove(list, 3, -1)        " remove items 3 to last item
:unlet list[3 : ]                " idem
:call filter(list, 'v:val !~ "x"')  " remove items with an 'x'</pre>
Changing the order of items in a list:<pre>:call sort(list)                " sort a list alphabetically
:call reverse(list)                " reverse the order of items
:call uniq(sort(list))                " sort and remove duplicates</pre>
<div class="help-column_heading">For loop</div></div>
<div class="old-help-para">The <a href="eval.html#%3Afor">:for</a> loop executes commands for each item in a <a href="eval.html#List">List</a>, <a href="eval.html#String">String</a> or <a href="eval.html#Blob">Blob</a>.
A variable is set to each item in sequence.  Example with a List:<pre>:for item in mylist
:   call Doit(item)
:endfor</pre>
This works like:<pre>:let index = 0
:while index &lt; len(mylist)
:   let item = mylist[index]
:   :call Doit(item)
:   let index = index + 1
:endwhile</pre>
If all you want to do is modify each item in the list then the <a href="builtin.html#map()">map()</a>
function will be a simpler method than a for loop.</div>
<div class="old-help-para">Just like the <a href="eval.html#%3Alet">:let</a> command, <a href="eval.html#%3Afor">:for</a> also accepts a list of variables.  This
requires the argument to be a List of Lists.<pre>:for [lnum, col] in [[1, 3], [2, 8], [3, 0]]
:   call Doit(lnum, col)
:endfor</pre>
This works like a <a href="eval.html#%3Alet">:let</a> command is done for each list item.  Again, the types
must remain the same to avoid an error.</div>
<div class="old-help-para">It is also possible to put remaining items in a List variable:<pre>:for [i, j; rest] in listlist
:   call Doit(i, j)
:   if !empty(rest)
:      echo "remainder: " .. string(rest)
:   endif
:endfor</pre>
For a Blob one byte at a time is used.</div>
<div class="old-help-para">For a String one character, including any composing characters, is used as a
String.  Example:<pre>for c in text
  echo 'This character is ' .. c
endfor</pre>
<div class="help-column_heading">List functions</div>						<code id="E714" class="help-tag-right"><a href="#E714">E714</a></code>
Functions that are useful with a List:<pre>:let r = call(funcname, list)        " call a function with an argument list
:if empty(list)                        " check if list is empty
:let l = len(list)                " number of items in list
:let big = max(list)                " maximum value in list
:let small = min(list)                " minimum value in list
:let xs = count(list, 'x')        " count nr of times 'x' appears in list
:let i = index(list, 'x')        " index of first 'x' in list
:let lines = getline(1, 10)        " get ten text lines from buffer
:call append('$', lines)        " append text lines in buffer
:let list = split("a b c")        " create list from items in a string
:let string = join(list, ', ')        " create string from list items
:let s = string(list)                " String representation of list
:call map(list, '"&gt;&gt; " .. v:val')  " prepend "&gt;&gt; " to each item</pre>
Don't forget that a combination of features can make things simple.  For
example, to add up all the numbers in a list:<pre>:exe 'let sum = ' .. join(nrlist, '+')</pre>
<div class="help-column_heading">1.4 Dictionaries</div>				 <code id="Dict" class="help-tag-right"><a href="#Dict">Dict</a></code> <code id="dict" class="help-tag"><a href="#dict">dict</a></code> <code id="Dictionaries" class="help-tag"><a href="#Dictionaries">Dictionaries</a></code> <code id="Dictionary" class="help-tag"><a href="#Dictionary">Dictionary</a></code>
A Dictionary is an associative array: Each entry has a key and a value.  The
entry can be located with the key.  The entries are stored without a specific
ordering.</div>
<div class="old-help-para"><div class="help-column_heading">Dictionary creation</div>						<code id="E720" class="help-tag-right"><a href="#E720">E720</a></code> <code id="E721" class="help-tag"><a href="#E721">E721</a></code> <code id="E722" class="help-tag"><a href="#E722">E722</a></code> <code id="E723" class="help-tag"><a href="#E723">E723</a></code>
A Dictionary is created with a comma-separated list of entries in curly
braces.  Each entry has a key and a value, separated by a colon.  Each key can
only appear once.  Examples:<pre>:let mydict = {1: 'one', 2: 'two', 3: 'three'}
:let emptydict = {}</pre></div>
<div class="old-help-para">							<code id="E713" class="help-tag-right"><a href="#E713">E713</a></code> <code id="E716" class="help-tag"><a href="#E716">E716</a></code> <code id="E717" class="help-tag"><a href="#E717">E717</a></code>
A key is always a String.  You can use a Number, it will be converted to a
String automatically.  Thus the String '4' and the number 4 will find the same
entry.  Note that the String '04' and the Number 04 are different, since the
Number will be converted to the String '4', leading zeros are dropped.  The
empty string can also be used as a key.
						<code id="literal-Dict" class="help-tag-right"><a href="#literal-Dict">literal-Dict</a></code> <code id="%23%7B%7D" class="help-tag"><a href="#%23%7B%7D">#{}</a></code>
To avoid having to put quotes around every key the #{} form can be used.  This
does require the key to consist only of ASCII letters, digits, '-' and '_'.
Example:<pre>:let mydict = #{zero: 0, one_key: 1, two-key: 2, 333: 3}</pre>
Note that 333 here is the string "333".  Empty keys are not possible with #{}.</div>
<div class="old-help-para">A value can be any expression.  Using a Dictionary for a value creates a
nested Dictionary:<pre>:let nestdict = {1: {11: 'a', 12: 'b'}, 2: {21: 'c'}}</pre>
An extra comma after the last entry is ignored.</div>
<div class="old-help-para"><div class="help-column_heading">Accessing entries</div></div>
<div class="old-help-para">The normal way to access an entry is by putting the key in square brackets:<pre>:let val = mydict["one"]
:let mydict["four"] = 4</pre>
You can add new entries to an existing Dictionary this way, unlike Lists.</div>
<div class="old-help-para">For keys that consist entirely of letters, digits and underscore the following
form can be used <a href="eval.html#expr-entry">expr-entry</a>:<pre>:let val = mydict.one
:let mydict.four = 4</pre>
Since an entry can be any type, also a List and a Dictionary, the indexing and
key lookup can be repeated:<pre>:echo dict.key[idx].key</pre>
<div class="help-column_heading">Dictionary to List conversion</div></div>
<div class="old-help-para">You may want to loop over the entries in a dictionary.  For this you need to
turn the Dictionary into a List and pass it to <a href="eval.html#%3Afor">:for</a>.</div>
<div class="old-help-para">Most often you want to loop over the keys, using the <a href="builtin.html#keys()">keys()</a> function:<pre>:for key in keys(mydict)
:   echo key .. ': ' .. mydict[key]
:endfor</pre>
The List of keys is unsorted.  You may want to sort them first:<pre>:for key in sort(keys(mydict))</pre>
To loop over the values use the <a href="builtin.html#values()">values()</a> function:<pre>:for v in values(mydict)
:   echo "value: " .. v
:endfor</pre>
If you want both the key and the value use the <a href="builtin.html#items()">items()</a> function.  It returns
a List in which each item is a List with two items, the key and the value:<pre>:for [key, value] in items(mydict)
:   echo key .. ': ' .. value
:endfor</pre>
<div class="help-column_heading">Dictionary identity</div>							<code id="dict-identity" class="help-tag-right"><a href="#dict-identity">dict-identity</a></code>
Just like Lists you need to use <a href="builtin.html#copy()">copy()</a> and <a href="builtin.html#deepcopy()">deepcopy()</a> to make a copy of a
Dictionary.  Otherwise, assignment results in referring to the same
Dictionary:<pre>:let onedict = {'a': 1, 'b': 2}
:let adict = onedict
:let adict['a'] = 11
:echo onedict['a']
11</pre>
Two Dictionaries compare equal if all the key-value pairs compare equal.  For
more info see <a href="eval.html#list-identity">list-identity</a>.</div>
<div class="old-help-para"><div class="help-column_heading">Dictionary modification</div>							<code id="dict-modification" class="help-tag-right"><a href="#dict-modification">dict-modification</a></code>
To change an already existing entry of a Dictionary, or to add a new entry,
use <a href="eval.html#%3Alet">:let</a> this way:<pre>:let dict[4] = "four"
:let dict['one'] = item</pre>
Removing an entry from a Dictionary is done with <a href="builtin.html#remove()">remove()</a> or <a href="eval.html#%3Aunlet">:unlet</a>.
Three ways to remove the entry with key "aaa" from dict:<pre>:let i = remove(dict, 'aaa')
:unlet dict.aaa
:unlet dict['aaa']</pre>
Merging a Dictionary with another is done with <a href="builtin.html#extend()">extend()</a>:<pre>:call extend(adict, bdict)</pre>
This extends adict with all entries from bdict.  Duplicate keys cause entries
in adict to be overwritten.  An optional third argument can change this.
Note that the order of entries in a Dictionary is irrelevant, thus don't
expect ":echo adict" to show the items from bdict after the older entries in
adict.</div>
<div class="old-help-para">Weeding out entries from a Dictionary can be done with <a href="builtin.html#filter()">filter()</a>:<pre>:call filter(dict, 'v:val =~ "x"')</pre>
This removes all entries from "dict" with a value not matching 'x'.
This can also be used to remove all entries:<pre>call filter(dict, 0)</pre>
<div class="help-column_heading">Dictionary function</div>				<code id="Dictionary-function" class="help-tag-right"><a href="#Dictionary-function">Dictionary-function</a></code> <code id="self" class="help-tag"><a href="#self">self</a></code> <code id="E725" class="help-tag"><a href="#E725">E725</a></code> <code id="E862" class="help-tag"><a href="#E862">E862</a></code>
When a function is defined with the "dict" attribute it can be used in a
special way with a dictionary.  Example:<pre>:function Mylen() dict
:   return len(self.data)
:endfunction
:let mydict = {'data': [0, 1, 2, 3], 'len': function("Mylen")}
:echo mydict.len()</pre>
This is like a method in object oriented programming.  The entry in the
Dictionary is a <a href="eval.html#Funcref">Funcref</a>.  The local variable "self" refers to the dictionary
the function was invoked from.</div>
<div class="old-help-para">It is also possible to add a function without the "dict" attribute as a
Funcref to a Dictionary, but the "self" variable is not available then.</div>
<div class="old-help-para">				<code id="numbered-function" class="help-tag-right"><a href="#numbered-function">numbered-function</a></code> <code id="anonymous-function" class="help-tag"><a href="#anonymous-function">anonymous-function</a></code>
To avoid the extra name for the function it can be defined and directly
assigned to a Dictionary in this way:<pre>:let mydict = {'data': [0, 1, 2, 3]}
:function mydict.len()
:   return len(self.data)
:endfunction
:echo mydict.len()</pre>
The function will then get a number and the value of dict.len is a <a href="eval.html#Funcref">Funcref</a>
that references this function.  The function can only be used through a
<a href="eval.html#Funcref">Funcref</a>.  It will automatically be deleted when there is no <a href="eval.html#Funcref">Funcref</a>
remaining that refers to it.</div>
<div class="old-help-para">It is not necessary to use the "dict" attribute for a numbered function.</div>
<div class="old-help-para">If you get an error for a numbered function, you can find out what it is with
a trick.  Assuming the function is 42, the command is:<pre>:function g:42</pre>
<div class="help-column_heading">Functions for Dictionaries</div>							<code id="E715" class="help-tag-right"><a href="#E715">E715</a></code>
Functions that can be used with a Dictionary:<pre>:if has_key(dict, 'foo')        " TRUE if dict has entry with key "foo"
:if empty(dict)                        " TRUE if dict is empty
:let l = len(dict)                " number of items in dict
:let big = max(dict)                " maximum value in dict
:let small = min(dict)                " minimum value in dict
:let xs = count(dict, 'x')        " count nr of times 'x' appears in dict
:let s = string(dict)                " String representation of dict
:call map(dict, '"&gt;&gt; " .. v:val')  " prepend "&gt;&gt; " to each item</pre>
<div class="help-column_heading">1.5 Blobs</div>						<code id="blob" class="help-tag-right"><a href="#blob">blob</a></code> <code id="Blob" class="help-tag"><a href="#Blob">Blob</a></code> <code id="Blobs" class="help-tag"><a href="#Blobs">Blobs</a></code> <code id="E978" class="help-tag"><a href="#E978">E978</a></code>
A Blob is a binary object.  It can be used to read an image from a file and
send it over a channel, for example.</div>
<div class="old-help-para">A Blob mostly behaves like a <a href="eval.html#List">List</a> of numbers, where each number has the
value of an 8-bit byte, from 0 to 255.</div>
<div class="old-help-para"><div class="help-column_heading">Blob creation</div></div>
<div class="old-help-para">A Blob can be created with a <a href="eval.html#blob-literal">blob-literal</a>:<pre>:let b = 0zFF00ED015DAF</pre>
Dots can be inserted between bytes (pair of hex characters) for readability,
they don't change the value:<pre>:let b = 0zFF00.ED01.5DAF</pre>
A blob can be read from a file with <a href="builtin.html#readfile()">readfile()</a> passing the <code>{type}</code> argument
set to "B", for example:<pre>:let b = readfile('image.png', 'B')</pre>
<div class="help-column_heading">Blob index</div>							<code id="blob-index" class="help-tag-right"><a href="#blob-index">blob-index</a></code> <code id="E979" class="help-tag"><a href="#E979">E979</a></code>
A byte in the Blob can be accessed by putting the index in square brackets
after the Blob.  Indexes are zero-based, thus the first byte has index zero.<pre>:let myblob = 0z00112233
:let byte = myblob[0]                " get the first byte: 0x00
:let byte = myblob[2]                " get the third byte: 0x22</pre>
A negative index is counted from the end.  Index -1 refers to the last byte in
the Blob, -2 to the last but one byte, etc.<pre>:let last = myblob[-1]                " get the last byte: 0x33</pre>
To avoid an error for an invalid index use the <a href="builtin.html#get()">get()</a> function.  When an item
is not available it returns -1 or the default value you specify:<pre>:echo get(myblob, idx)
:echo get(myblob, idx, 999)</pre>
<div class="help-column_heading">Blob iteration</div></div>
<div class="old-help-para">The <a href="eval.html#%3Afor">:for</a> loop executes commands for each byte of a Blob.  The loop variable is
set to each byte in the Blob.  Example:<pre>:for byte in 0z112233
:   call Doit(byte)
:endfor</pre>
This calls Doit() with 0x11, 0x22 and 0x33.</div>
<div class="old-help-para"><div class="help-column_heading">Blob concatenation</div>							<code id="blob-concatenation" class="help-tag-right"><a href="#blob-concatenation">blob-concatenation</a></code>
Two blobs can be concatenated with the "+" operator:<pre>:let longblob = myblob + 0z4455
:let longblob = 0z4455 + myblob</pre></div>
<div class="old-help-para">A blob can be concatenated with another one in-place using <a href="eval.html#%3Alet%2B%3D">:let+=</a>:<pre>:let myblob += 0z6677</pre></div>
<div class="old-help-para">See <a href="eval.html#blob-modification">blob-modification</a> below for more about changing a blob in-place.</div>
<div class="old-help-para"><div class="help-column_heading">Part of a blob</div></div>
<div class="old-help-para">A part of the Blob can be obtained by specifying the first and last index,
separated by a colon in square brackets:<pre>:let myblob = 0z00112233
:let shortblob = myblob[1:2]        " get 0z1122
:let shortblob = myblob[2:-1]        " get 0z2233</pre>
Omitting the first index is similar to zero.  Omitting the last index is
similar to -1.<pre>:let endblob = myblob[2:]        " from item 2 to the end: 0z2233
:let shortblob = myblob[2:2]        " Blob with one byte: 0z22
:let otherblob = myblob[:]        " make a copy of the Blob</pre>
If the first index is beyond the last byte of the Blob or the second index is
before the first index, the result is an empty Blob.  There is no error
message.</div>
<div class="old-help-para">If the second index is equal to or greater than the length of the Blob the
length minus one is used:<pre>:echo myblob[2:8]                " result: 0z2233</pre>
<div class="help-column_heading">Blob modification</div>							<code id="blob-modification" class="help-tag-right"><a href="#blob-modification">blob-modification</a></code>
To change a specific byte of a blob use <a href="eval.html#%3Alet">:let</a> this way:<pre>:let blob[4] = 0x44</pre>
When the index is just one beyond the end of the Blob, it is appended. Any
higher index is an error.</div>
<div class="old-help-para">To change a sequence of bytes the [:] notation can be used:<pre>let blob[1:3] = 0z445566</pre>
The length of the replaced bytes must be exactly the same as the value
provided. <code id="E972" class="help-tag"><a href="#E972">E972</a></code></div>
<div class="old-help-para">To change part of a blob you can specify the first and last byte to be
modified.  The value must have the same number of bytes in the range:<pre>:let blob[3:5] = 0z334455</pre>
To add items to a Blob in-place, you can use <a href="eval.html#%3Alet%2B%3D">:let+=</a> (<a href="eval.html#blob-concatenation">blob-concatenation</a>):<pre>:let blobA = 0z1122
:let blobA += 0z3344</pre></div>
<div class="old-help-para">When two variables refer to the same Blob, changing one Blob in-place will
cause the referenced Blob to be changed in-place:<pre>:let blobA = 0z1122
:let blobB = blobA
:let blobB += 0z3344
:echo blobA
0z11223344</pre></div>
<div class="old-help-para">You can also use the functions <a href="builtin.html#add()">add()</a>, <a href="builtin.html#remove()">remove()</a> and <a href="builtin.html#insert()">insert()</a>.</div>
<div class="old-help-para"><div class="help-column_heading">Blob identity</div></div>
<div class="old-help-para">Blobs can be compared for equality:<pre>if blob == 0z001122</pre>
And for equal identity:<pre>if blob is otherblob</pre></div>
<div class="old-help-para">							<code id="blob-identity" class="help-tag-right"><a href="#blob-identity">blob-identity</a></code> <code id="E977" class="help-tag"><a href="#E977">E977</a></code>
When variable "aa" is a Blob and you assign it to another variable "bb", both
variables refer to the same Blob.  Then the "is" operator returns true.</div>
<div class="old-help-para">When making a copy using [:] or <a href="builtin.html#copy()">copy()</a> the values are the same, but the
identity is different:<pre>:let blob = 0z112233
:let blob2 = blob
:echo blob == blob2</pre></div>
<div class="old-help-para">	1<pre>:echo blob is blob2</pre></div>
<div class="old-help-para">	1<pre>:let blob3 = blob[:]
:echo blob == blob3</pre></div>
<div class="old-help-para">	1<pre>:echo blob is blob3</pre></div>
<div class="old-help-para">	0</div>
<div class="old-help-para">Making a copy of a Blob is done with the <a href="builtin.html#copy()">copy()</a> function.  Using [:] also
works, as explained above.</div>
<div class="old-help-para"><div class="help-column_heading">1.6 More about variables</div>							<code id="more-variables" class="help-tag-right"><a href="#more-variables">more-variables</a></code>
If you need to know the type of a variable or expression, use the <a href="builtin.html#type()">type()</a>
function.</div>
<div class="old-help-para">When the '!' flag is included in the <a href="options.html#'shada'">'shada'</a> option, global variables that
start with an uppercase letter, and don't contain a lowercase letter, are
stored in the shada file <a href="starting.html#shada-file">shada-file</a>.</div>
<div class="old-help-para">When the <a href="options.html#'sessionoptions'">'sessionoptions'</a> option contains "global", global variables that
start with an uppercase letter and contain at least one lowercase letter are
stored in the session file <a href="starting.html#session-file">session-file</a>.</div>
<div class="old-help-para"><div class="help-column_heading">variable name		can be stored where</div>my_var_6		not
My_Var_6		session file
MY_VAR_6		shada file</div>
<div class="old-help-para">It's possible to form a variable name with curly braces, see
<a href="eval.html#curly-braces-names">curly-braces-names</a>.</div>
<div class="old-help-para"><h2 id="expression-syntax" class="help-heading">2. Expression syntax<span class="help-heading-tags">					<span class="help-tag"><a href="#expression-syntax">expression-syntax</a></span></h2></div>
<div class="old-help-para">Expression syntax summary, from least to most significant:</div>
<div class="old-help-para"><a href="eval.html#expr1">expr1</a>  	expr2
	expr2 ? expr1 : expr1	if-then-else</div>
<div class="old-help-para"><a href="eval.html#expr2">expr2</a>  	expr3
	expr3 || expr3 ...	logical OR</div>
<div class="old-help-para"><a href="eval.html#expr3">expr3</a>  	expr4
	expr4 &amp;&amp; expr4 ...	logical AND</div>
<div class="old-help-para"><a href="eval.html#expr4">expr4</a>  	expr5
	expr5 == expr5		equal
	expr5 != expr5		not equal
	expr5 &gt;	 expr5		greater than
	expr5 &gt;= expr5		greater than or equal
	expr5 &lt;	 expr5		smaller than
	expr5 &lt;= expr5		smaller than or equal
	expr5 =~ expr5		regexp matches
	expr5 !~ expr5		regexp doesn't match</div>
<div class="old-help-para">	expr5 ==? expr5		equal, ignoring case
	expr5 ==# expr5		equal, match case
	etc.			As above, append ? for ignoring case, # for
				matching case</div>
<div class="old-help-para">	expr5 is expr5		same <a href="eval.html#List">List</a>, <a href="eval.html#Dictionary">Dictionary</a> or <a href="eval.html#Blob">Blob</a> instance
	expr5 isnot expr5	different <a href="eval.html#List">List</a>, <a href="eval.html#Dictionary">Dictionary</a> or <a href="eval.html#Blob">Blob</a>
				instance</div>
<div class="old-help-para"><a href="eval.html#expr5">expr5</a>  	expr6
	expr6 +	 expr6 ...	number addition, list or blob concatenation
	expr6 -	 expr6 ...	number subtraction
	expr6 .	 expr6 ...	string concatenation
	expr6 .. expr6 ...	string concatenation</div>
<div class="old-help-para"><a href="eval.html#expr6">expr6</a>  	expr7
	expr7 *	 expr7 ...	number multiplication
	expr7 /	 expr7 ...	number division
	expr7 %	 expr7 ...	number modulo</div>
<div class="old-help-para"><a href="eval.html#expr7">expr7</a>  	expr8
	! expr7			logical NOT
<div class="help-li" style=""> expr7			unary minus
	+ expr7			unary plus
</div></div>
<div class="old-help-para"><a href="eval.html#expr8">expr8</a>  	expr9
	expr8[expr1]		byte of a String or item of a <a href="eval.html#List">List</a>
	expr8[expr1 : expr1]	substring of a String or sublist of a <a href="eval.html#List">List</a>
	expr8.name		entry in a <a href="eval.html#Dictionary">Dictionary</a>
	expr8(expr1, ...)	function call with <a href="eval.html#Funcref">Funcref</a> variable
	expr8-&gt;name(expr1, ...)	<a href="eval.html#method">method</a> call</div>
<div class="old-help-para"><a href="eval.html#expr9">expr9</a>  	number			number constant
	"string"		string constant, backslash is special
	<code>'string'</code>  		string constant, ' is doubled
	[expr1, ...]		<a href="eval.html#List">List</a>
	<code>{expr1: expr1, ...}</code>  	<a href="eval.html#Dictionary">Dictionary</a>
	#{key: expr1, ...}	<a href="eval.html#Dictionary">Dictionary</a>
	&amp;option			option value
	(expr1)			nested expression
	variable		internal variable
	va{ria}ble		internal variable with curly braces
	$VAR			environment variable
	@r			contents of register "r"
	function(expr1, ...)	function call
	func{ti}on(expr1, ...)	function call with curly braces
	<code>{args -&gt; expr1}</code>  	lambda expression</div>
<div class="old-help-para">"..." indicates that the operations in this level can be concatenated.
Example:<pre>&amp;nu || &amp;list &amp;&amp; &amp;shell == "csh"</pre>
All expressions within one level are parsed from left to right.</div>
<div class="old-help-para"><h3 id="expr1" class="help-heading">expr1<span class="help-heading-tags">				<span class="help-tag"><a href="#expr1">expr1</a></span> <span id="ternary" class="help-tag"><a href="#ternary">ternary</a></span> <span id="falsy-operator" class="help-tag"><a href="#falsy-operator">falsy-operator</a></span> <span id="%3F%3F" class="help-tag"><a href="#%3F%3F">??</a></span> <span id="E109" class="help-tag"><a href="#E109">E109</a></span></span></h3></div>
<div class="old-help-para">The ternary operator: expr2 ? expr1 : expr1
The falsy operator:   expr2 ?? expr1</div>
<div class="old-help-para"><div class="help-column_heading">Ternary operator</div></div>
<div class="old-help-para">The expression before the '?' is evaluated to a number.  If it evaluates to
<a href="eval.html#TRUE">TRUE</a>, the result is the value of the expression between the '?' and ':',
otherwise the result is the value of the expression after the ':'.
Example:<pre>:echo lnum == 1 ? "top" : lnum</pre>
Since the first expression is an "expr2", it cannot contain another ?:.  The
other two expressions can, thus allow for recursive use of ?:.
Example:<pre>:echo lnum == 1 ? "top" : lnum == 1000 ? "last" : lnum</pre>
To keep this readable, using <a href="repeat.html#line-continuation">line-continuation</a> is suggested:<pre>:echo lnum == 1
:\        ? "top"
:\        : lnum == 1000
:\                ? "last"
:\                : lnum</pre>
You should always put a space before the ':', otherwise it can be mistaken for
use in a variable such as "a:1".</div>
<div class="old-help-para"><div class="help-column_heading">Falsy operator</div></div>
<div class="old-help-para">This is also known as the "null coalescing operator", but that's too
complicated, thus we just call it the falsy operator.</div>
<div class="old-help-para">The expression before the '??' is evaluated.  If it evaluates to
<a href="eval.html#truthy">truthy</a>, this is used as the result.  Otherwise the expression after the '??'
is evaluated and used as the result.  This is most useful to have a default
value for an expression that may result in zero or empty:<pre>echo theList ?? 'list is empty'
echo GetName() ?? 'unknown'</pre>
These are similar, but not equal:<pre>expr2 ?? expr1
expr2 ? expr2 : expr1</pre>
In the second line "expr2" is evaluated twice.</div>
<div class="old-help-para"><h3 id="expr2" class="help-heading">expr2 and expr3<span class="help-heading-tags">						<span class="help-tag"><a href="#expr2">expr2</a></span> <span id="expr3" class="help-tag"><a href="#expr3">expr3</a></span></span></h3></div>
<div class="old-help-para">expr3 || expr3 ..	logical OR		<code id="expr-barbar" class="help-tag-right"><a href="#expr-barbar">expr-barbar</a></code>
expr4 &amp;&amp; expr4 ..	logical AND		<code id="expr-%26%26" class="help-tag-right"><a href="#expr-%26%26">expr-&amp;&amp;</a></code></div>
<div class="old-help-para">The "||" and "&amp;&amp;" operators take one argument on each side.  The arguments
are (converted to) Numbers.  The result is:</div>
<div class="old-help-para"><div class="help-column_heading">    input			 output</div><div class="help-column_heading">n1	n2		n1 || n2	n1 &amp;&amp; n2</div><a href="eval.html#FALSE">FALSE</a>  	<a href="eval.html#FALSE">FALSE</a>  		<a href="eval.html#FALSE">FALSE</a>  		<a href="eval.html#FALSE">FALSE</a>
<a href="eval.html#FALSE">FALSE</a>  	<a href="eval.html#TRUE">TRUE</a>  		<a href="eval.html#TRUE">TRUE</a>  		<a href="eval.html#FALSE">FALSE</a>
<a href="eval.html#TRUE">TRUE</a>  	<a href="eval.html#FALSE">FALSE</a>  		<a href="eval.html#TRUE">TRUE</a>  		<a href="eval.html#FALSE">FALSE</a>
<a href="eval.html#TRUE">TRUE</a>  	<a href="eval.html#TRUE">TRUE</a>  		<a href="eval.html#TRUE">TRUE</a>  		<a href="eval.html#TRUE">TRUE</a></div>
<div class="old-help-para">The operators can be concatenated, for example:<pre>&amp;nu || &amp;list &amp;&amp; &amp;shell == "csh"</pre>
Note that "&amp;&amp;" takes precedence over "||", so this has the meaning of:<pre>&amp;nu || (&amp;list &amp;&amp; &amp;shell == "csh")</pre>
Once the result is known, the expression "short-circuits", that is, further
arguments are not evaluated.  This is like what happens in C.  For example:<pre>let a = 1
echo a || b</pre>
This is valid even if there is no variable called "b" because "a" is <a href="eval.html#TRUE">TRUE</a>,
so the result must be <a href="eval.html#TRUE">TRUE</a>.  Similarly below:<pre>echo exists("b") &amp;&amp; b == "yes"</pre>
This is valid whether "b" has been defined or not.  The second clause will
only be evaluated if "b" has been defined.</div>
<div class="old-help-para"><h3 id="expr4" class="help-heading">expr4<span class="help-heading-tags">							<span class="help-tag"><a href="#expr4">expr4</a></span></h3></div>
<div class="old-help-para">expr5 <code>{cmp}</code> expr5</div>
<div class="old-help-para">Compare two expr5 expressions, resulting in a 0 if it evaluates to false, or 1
if it evaluates to true.</div>
<div class="old-help-para">			<code id="expr-%3D%3D" class="help-tag-right"><a href="#expr-%3D%3D">expr-==</a></code>  <code id="expr-%21%3D" class="help-tag"><a href="#expr-%21%3D">expr-!=</a></code>  <code id="expr-%3E" class="help-tag"><a href="#expr-%3E">expr-&gt;</a></code>  	 <code id="expr-%3E%3D" class="help-tag-right"><a href="#expr-%3E%3D">expr-&gt;=</a></code>
			<code id="expr-%3C" class="help-tag-right"><a href="#expr-%3C">expr-&lt;</a></code>   <code id="expr-%3C%3D" class="help-tag"><a href="#expr-%3C%3D">expr-&lt;=</a></code>  <code id="expr-%3D~" class="help-tag"><a href="#expr-%3D~">expr-=~</a></code>  <code id="expr-%21~" class="help-tag"><a href="#expr-%21~">expr-!~</a></code>
			<code id="expr-%3D%3D%23" class="help-tag-right"><a href="#expr-%3D%3D%23">expr-==#</a></code> <code id="expr-%21%3D%23" class="help-tag"><a href="#expr-%21%3D%23">expr-!=#</a></code> <code id="expr-%3E%23" class="help-tag"><a href="#expr-%3E%23">expr-&gt;#</a></code>  <code id="expr-%3E%3D%23" class="help-tag"><a href="#expr-%3E%3D%23">expr-&gt;=#</a></code>
			<code id="expr-%3C%23" class="help-tag-right"><a href="#expr-%3C%23">expr-&lt;#</a></code>  <code id="expr-%3C%3D%23" class="help-tag"><a href="#expr-%3C%3D%23">expr-&lt;=#</a></code> <code id="expr-%3D~%23" class="help-tag"><a href="#expr-%3D~%23">expr-=~#</a></code> <code id="expr-%21~%23" class="help-tag"><a href="#expr-%21~%23">expr-!~#</a></code>
			<code id="expr-%3D%3D%3F" class="help-tag-right"><a href="#expr-%3D%3D%3F">expr-==?</a></code> <code id="expr-%21%3D%3F" class="help-tag"><a href="#expr-%21%3D%3F">expr-!=?</a></code> <code id="expr-%3E%3F" class="help-tag"><a href="#expr-%3E%3F">expr-&gt;?</a></code>  <code id="expr-%3E%3D%3F" class="help-tag"><a href="#expr-%3E%3D%3F">expr-&gt;=?</a></code>
			<code id="expr-%3C%3F" class="help-tag-right"><a href="#expr-%3C%3F">expr-&lt;?</a></code>  <code id="expr-%3C%3D%3F" class="help-tag"><a href="#expr-%3C%3D%3F">expr-&lt;=?</a></code> <code id="expr-%3D~%3F" class="help-tag"><a href="#expr-%3D~%3F">expr-=~?</a></code> <code id="expr-%21~%3F" class="help-tag"><a href="#expr-%21~%3F">expr-!~?</a></code>
			<code id="expr-is" class="help-tag-right"><a href="#expr-is">expr-is</a></code> <code id="expr-isnot" class="help-tag"><a href="#expr-isnot">expr-isnot</a></code> <code id="expr-is%23" class="help-tag"><a href="#expr-is%23">expr-is#</a></code> <code id="expr-isnot%23" class="help-tag"><a href="#expr-isnot%23">expr-isnot#</a></code>
			<code id="expr-is%3F" class="help-tag-right"><a href="#expr-is%3F">expr-is?</a></code> <code id="expr-isnot%3F" class="help-tag"><a href="#expr-isnot%3F">expr-isnot?</a></code>
<div class="help-column_heading">		use <a href="options.html#'ignorecase'">'ignorecase'</a>    match case	   ignore case</div>equal			==		==#		==?
not equal		!=		!=#		!=?
greater than		&gt;		&gt;#		&gt;?
greater than or equal	&gt;=		&gt;=#		&gt;=?
smaller than		&lt;		&lt;#		&lt;?
smaller than or equal	&lt;=		&lt;=#		&lt;=?
regexp matches		=~		=~#		=~?
regexp doesn't match	!~		!~#		!~?
same instance		is		is#		is?
different instance	isnot		isnot#		isnot?</div>
<div class="old-help-para">Examples:
"abc" ==# "Abc"	  evaluates to 0
"abc" ==? "Abc"	  evaluates to 1
"abc" == "Abc"	  evaluates to 1 if <a href="options.html#'ignorecase'">'ignorecase'</a> is set, 0 otherwise</div>
<div class="old-help-para">							<code id="E691" class="help-tag-right"><a href="#E691">E691</a></code> <code id="E692" class="help-tag"><a href="#E692">E692</a></code>
A <a href="eval.html#List">List</a> can only be compared with a <a href="eval.html#List">List</a> and only "equal", "not equal",
"is" and "isnot" can be used.  This compares the values of the list,
recursively.  Ignoring case means case is ignored when comparing item values.</div>
<div class="old-help-para">							<code id="E735" class="help-tag-right"><a href="#E735">E735</a></code> <code id="E736" class="help-tag"><a href="#E736">E736</a></code>
A <a href="eval.html#Dictionary">Dictionary</a> can only be compared with a <a href="eval.html#Dictionary">Dictionary</a> and only "equal", "not
equal", "is" and "isnot" can be used.  This compares the key/values of the
<a href="eval.html#Dictionary">Dictionary</a> recursively.  Ignoring case means case is ignored when comparing
item values.</div>
<div class="old-help-para">							<code id="E694" class="help-tag-right"><a href="#E694">E694</a></code>
A <a href="eval.html#Funcref">Funcref</a> can only be compared with a <a href="eval.html#Funcref">Funcref</a> and only "equal", "not
equal", "is" and "isnot" can be used.  Case is never ignored.  Whether
arguments or a Dictionary are bound (with a partial) matters.  The
Dictionaries must also be equal (or the same, in case of "is") and the
arguments must be equal (or the same).</div>
<div class="old-help-para">To compare Funcrefs to see if they refer to the same function, ignoring bound
Dictionary and arguments, use <a href="builtin.html#get()">get()</a> to get the function name:<pre>if get(Part1, 'name') == get(Part2, 'name')
   " Part1 and Part2 refer to the same function</pre>
Using "is" or "isnot" with a <a href="eval.html#List">List</a>, <a href="eval.html#Dictionary">Dictionary</a> or <a href="eval.html#Blob">Blob</a> checks whether
the expressions are referring to the same <a href="eval.html#List">List</a>, <a href="eval.html#Dictionary">Dictionary</a> or <a href="eval.html#Blob">Blob</a>
instance.  A copy of a <a href="eval.html#List">List</a> is different from the original <a href="eval.html#List">List</a>.  When
using "is" without a <a href="eval.html#List">List</a>, <a href="eval.html#Dictionary">Dictionary</a> or <a href="eval.html#Blob">Blob</a>, it is equivalent to
using "equal", using "isnot" is equivalent to using "not equal".  Except that
a different type means the values are different:<pre>echo 4 == '4'
1
echo 4 is '4'
0
echo 0 is []
0</pre>
"is#"/"isnot#" and "is?"/"isnot?" can be used to match and ignore case.</div>
<div class="old-help-para">When comparing a String with a Number, the String is converted to a Number,
and the comparison is done on Numbers.  This means that:<pre>echo 0 == 'x'
1</pre>
because 'x' converted to a Number is zero.  However:<pre>echo [0] == ['x']
0</pre>
Inside a List or Dictionary this conversion is not used.</div>
<div class="old-help-para">When comparing two Strings, this is done with strcmp() or stricmp().  This
results in the mathematical difference (comparing byte values), not
necessarily the alphabetical difference in the local language.</div>
<div class="old-help-para">When using the operators with a trailing '#', or the short version and
<a href="options.html#'ignorecase'">'ignorecase'</a> is off, the comparing is done with strcmp(): case matters.</div>
<div class="old-help-para">When using the operators with a trailing '?', or the short version and
<a href="options.html#'ignorecase'">'ignorecase'</a> is set, the comparing is done with stricmp(): case is ignored.</div>
<div class="old-help-para"><a href="options.html#'smartcase'">'smartcase'</a> is not used.</div>
<div class="old-help-para">The "=~" and "!~" operators match the lefthand argument with the righthand
argument, which is used as a pattern.  See <a href="pattern.html#pattern">pattern</a> for what a pattern is.
This matching is always done like <a href="options.html#'magic'">'magic'</a> was set and <a href="options.html#'cpoptions'">'cpoptions'</a> is empty, no
matter what the actual value of <a href="options.html#'magic'">'magic'</a> or <a href="options.html#'cpoptions'">'cpoptions'</a> is.  This makes scripts
portable.  To avoid backslashes in the regexp pattern to be doubled, use a
single-quote string, see <a href="eval.html#literal-string">literal-string</a>.
Since a string is considered to be a single line, a multi-line pattern
(containing \n, backslash-n) will not match.  However, a literal NL character
can be matched like an ordinary character.  Examples:
	"foo\nbar" =~ "\n"	evaluates to 1
	"foo\nbar" =~ "\\n"	evaluates to 0</div>
<div class="old-help-para"><h3 id="expr5" class="help-heading">expr5 and expr6<span class="help-heading-tags">						<span class="help-tag"><a href="#expr5">expr5</a></span> <span id="expr6" class="help-tag"><a href="#expr6">expr6</a></span></span></h3></div>
<div class="old-help-para">expr6 + expr6   Number addition, <a href="eval.html#List">List</a> or <a href="eval.html#Blob">Blob</a> concatenation	<code id="expr-%2B" class="help-tag"><a href="#expr-%2B">expr-+</a></code>
expr6 - expr6   Number subtraction				<code id="expr--" class="help-tag-right"><a href="#expr--">expr--</a></code>
expr6 . expr6   String concatenation				<code id="expr-." class="help-tag-right"><a href="#expr-.">expr-.</a></code>
expr6 .. expr6  String concatenation				<code id="expr-.." class="help-tag-right"><a href="#expr-..">expr-..</a></code></div>
<div class="old-help-para">For <a href="eval.html#Lists">Lists</a> only "+" is possible and then both expr6 must be a list.  The
result is a new list with the two lists Concatenated.</div>
<div class="old-help-para">For String concatenation ".." is preferred, since "." is ambiguous, it is also
used for <a href="eval.html#Dict">Dict</a> member access and floating point numbers.</div>
<div class="old-help-para">expr7 * expr7  Number multiplication				<code id="expr-star" class="help-tag-right"><a href="#expr-star">expr-star</a></code>
expr7 / expr7  Number division					<code id="expr-%2F" class="help-tag-right"><a href="#expr-%2F">expr-/</a></code>
expr7 % expr7  Number modulo					<code id="expr-%25" class="help-tag-right"><a href="#expr-%25">expr-%</a></code></div>
<div class="old-help-para">For all, except "." and "..", Strings are converted to Numbers.
For bitwise operators see <a href="builtin.html#and()">and()</a>, <a href="builtin.html#or()">or()</a> and <a href="builtin.html#xor()">xor()</a>.</div>
<div class="old-help-para">Note the difference between "+" and ".":
	"123" + "456" = 579
	"123" . "456" = "123456"</div>
<div class="old-help-para">Since '.' has the same precedence as '+' and '-', you need to read:<pre>1 . 90 + 90.0</pre>
As:<pre>(1 . 90) + 90.0</pre>
That works, since the String "190" is automatically converted to the Number
190, which can be added to the Float 90.0.  However:<pre>1 . 90 * 90.0</pre>
Should be read as:<pre>1 . (90 * 90.0)</pre>
Since '.' has lower precedence than "*".  This does NOT work, since this
attempts to concatenate a Float and a String.</div>
<div class="old-help-para">When dividing a Number by zero the result depends on the value:
	  0 / 0  = -0x80000000	(like NaN for Float)
	 &gt;0 / 0  =  0x7fffffff	(like positive infinity)
	 &lt;0 / 0  = -0x7fffffff	(like negative infinity)
	(before Vim 7.2 it was always 0x7fffffff)</div>
<div class="old-help-para">When 64-bit Number support is enabled:
	  0 / 0  = -0x8000000000000000	(like NaN for Float)
	 &gt;0 / 0  =  0x7fffffffffffffff	(like positive infinity)
	 &lt;0 / 0  = -0x7fffffffffffffff	(like negative infinity)</div>
<div class="old-help-para">When the righthand side of '%' is zero, the result is 0.</div>
<div class="old-help-para">None of these work for <a href="eval.html#Funcref">Funcref</a>s.</div>
<div class="old-help-para">. and % do not work for Float. <code id="E804" class="help-tag"><a href="#E804">E804</a></code></div>
<div class="old-help-para"><h3 id="expr7" class="help-heading">expr7<span class="help-heading-tags">							<span class="help-tag"><a href="#expr7">expr7</a></span></h3></div>
<div class="old-help-para">! expr7			logical NOT		<code id="expr-%21" class="help-tag-right"><a href="#expr-%21">expr-!</a></code>
<div class="help-li" style=""> expr7			unary minus		<code id="expr-unary--" class="help-tag-right"><a href="#expr-unary--">expr-unary--</a></code>  
+ expr7			unary plus		<code id="expr-unary-%2B" class="help-tag-right"><a href="#expr-unary-%2B">expr-unary-+</a></code>
</div></div>
<div class="old-help-para">For '!' <a href="eval.html#TRUE">TRUE</a> becomes <a href="eval.html#FALSE">FALSE</a>, <a href="eval.html#FALSE">FALSE</a> becomes <a href="eval.html#TRUE">TRUE</a> (one).
For '-' the sign of the number is changed.
For '+' the number is unchanged.<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+eval.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/eval.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%0AFor%20'%21'%20%7CTRUE%7C%20becomes%20%7CFALSE%7C%2C%20%7CFALSE%7C%20becomes%20%7CTRUE%7C%20(one).%0AFor%20'-'%20the%20sign%20of%20the%20number%20is%20changed.%0AFor%20'%2B'%20the%20number%20is%20unchanged.%20%20Note%3A%20%22%2B%2B%22%20has%20no%20effect.%0A%0AA%20String%20will%20be%20converted%20to%20a%20Number%20first.%0A%0D%60%60%60">Note:</a> "++" has no effect.</div>
<div class="old-help-para">A String will be converted to a Number first.</div>
<div class="old-help-para">These three can be repeated and mixed.  Examples:
	!-1	    == 0
	!!8	    == 1
	--9	    == 9</div>
<div class="old-help-para"><h3 id="expr8" class="help-heading">expr8<span class="help-heading-tags">							<span class="help-tag"><a href="#expr8">expr8</a></span></h3></div>
<div class="old-help-para">This expression is either <a href="eval.html#expr9">expr9</a> or a sequence of the alternatives below,
in any order.  E.g., these are all possible:
	expr8[expr1].name
	expr8.name[expr1]
	expr8(expr1, ...)[expr1].name
	expr8-&gt;(expr1, ...)[expr1]
Evaluation is always from left to right.</div>
<div class="old-help-para">expr8[expr1]		item of String or <a href="eval.html#List">List</a>  	<code id="expr-%5B%5D" class="help-tag"><a href="#expr-%5B%5D">expr-[]</a></code> <code id="E111" class="help-tag"><a href="#E111">E111</a></code>
							<code id="subscript" class="help-tag-right"><a href="#subscript">subscript</a></code>
In legacy Vim script:
If expr8 is a Number or String this results in a String that contains the
expr1'th single byte from expr8.  expr8 is used as a String (a number is
automatically converted to a String), expr1 as a Number.  This doesn't
recognize multibyte encodings, see <code>byteidx()</code> for an alternative, or use
<code>split()</code> to turn the string into a list of characters.  Example, to get the
byte under the cursor:<pre>:let c = getline(".")[col(".") - 1]</pre>
Index zero gives the first byte.  This is like it works in C.  Careful:
text column numbers start with one!  Example, to get the byte under the
cursor:<pre>:let c = getline(".")[col(".") - 1]</pre>
Index zero gives the first byte.  Careful: text column numbers start with one!</div>
<div class="old-help-para">If the length of the String is less than the index, the result is an empty
String.  A negative index always results in an empty string (reason: backward
compatibility).  Use [-1:] to get the last byte.</div>
<div class="old-help-para">If expr8 is a <a href="eval.html#List">List</a> then it results the item at index expr1.  See <a href="eval.html#list-index">list-index</a>
for possible index values.  If the index is out of range this results in an
error.  Example:<pre>:let item = mylist[-1]                " get last item</pre>
Generally, if a <a href="eval.html#List">List</a> index is equal to or higher than the length of the
<a href="eval.html#List">List</a>, or more negative than the length of the <a href="eval.html#List">List</a>, this results in an
error.</div>
<div class="old-help-para">expr8[expr1a : expr1b]	substring or <a href="eval.html#sublist">sublist</a>  		<code id="expr-%5B%3A%5D" class="help-tag-right"><a href="#expr-%5B%3A%5D">expr-[:]</a></code> <code id="substring" class="help-tag"><a href="#substring">substring</a></code></div>
<div class="old-help-para">If expr8 is a String this results in the substring with the bytes or
characters from expr1a to and including expr1b.  expr8 is used as a String,
expr1a and expr1b are used as a Number.</div>
<div class="old-help-para">In legacy Vim script the indexes are byte indexes.  This doesn't recognize
multibyte encodings, see <a href="builtin.html#byteidx()">byteidx()</a> for computing the indexes.  If expr8 is
a Number it is first converted to a String.</div>
<div class="old-help-para">The item at index expr1b is included, it is inclusive.  For an exclusive index
use the <a href="builtin.html#slice()">slice()</a> function.</div>
<div class="old-help-para">If expr1a is omitted zero is used.  If expr1b is omitted the length of the
string minus one is used.</div>
<div class="old-help-para">A negative number can be used to measure from the end of the string.  -1 is
the last character, -2 the last but one, etc.</div>
<div class="old-help-para">If an index goes out of range for the string characters are omitted.  If
expr1b is smaller than expr1a the result is an empty string.</div>
<div class="old-help-para">Examples:<pre>:let c = name[-1:]                " last byte of a string
:let c = name[0:-1]                " the whole string
:let c = name[-2:-2]                " last but one byte of a string
:let s = line(".")[4:]                " from the fifth byte to the end
:let s = s[:-3]                        " remove last two bytes</pre></div>
<div class="old-help-para">							<code id="slice" class="help-tag-right"><a href="#slice">slice</a></code>
If expr8 is a <a href="eval.html#List">List</a> this results in a new <a href="eval.html#List">List</a> with the items indicated by
the indexes expr1a and expr1b.  This works like with a String, as explained
just above. Also see <a href="eval.html#sublist">sublist</a> below.  Examples:<pre>:let l = mylist[:3]                " first four items
:let l = mylist[4:4]                " List with one item
:let l = mylist[:]                " shallow copy of a List</pre>
If expr8 is a <a href="eval.html#Blob">Blob</a> this results in a new <a href="eval.html#Blob">Blob</a> with the bytes in the
indexes expr1a and expr1b, inclusive.  Examples:<pre>:let b = 0zDEADBEEF
:let bs = b[1:2]                " 0zADBE
:let bs = b[]                        " copy of 0zDEADBEEF</pre>
Using expr8[expr1] or expr8[expr1a : expr1b] on a <a href="eval.html#Funcref">Funcref</a> results in an
error.</div>
<div class="old-help-para">Watch out for confusion between a namespace and a variable followed by a colon
for a sublist:<pre>mylist[n:]     " uses variable n
mylist[s:]     " uses namespace s:, error!</pre>
expr8.name		entry in a <a href="eval.html#Dictionary">Dictionary</a>  		<code id="expr-entry" class="help-tag-right"><a href="#expr-entry">expr-entry</a></code></div>
<div class="old-help-para">If expr8 is a <a href="eval.html#Dictionary">Dictionary</a> and it is followed by a dot, then the following
name will be used as a key in the <a href="eval.html#Dictionary">Dictionary</a>.  This is just like:
expr8[name].</div>
<div class="old-help-para">The name must consist of alphanumeric characters, just like a variable name,
but it may start with a number.  Curly braces cannot be used.</div>
<div class="old-help-para">There must not be white space before or after the dot.</div>
<div class="old-help-para">Examples:<pre>:let dict = {"one": 1, 2: "two"}
:echo dict.one                " shows "1"
:echo dict.2                " shows "two"
:echo dict .2                " error because of space before the dot</pre>
Note that the dot is also used for String concatenation.  To avoid confusion
always put spaces around the dot for String concatenation.</div>
<div class="old-help-para">expr8(expr1, ...)	<a href="eval.html#Funcref">Funcref</a> function call		<code id="E1085" class="help-tag-right"><a href="#E1085">E1085</a></code></div>
<div class="old-help-para">When expr8 is a <a href="eval.html#Funcref">Funcref</a> type variable, invoke the function it refers to.</div>
<div class="old-help-para">expr8-&gt;name([args])	method call			<code id="method" class="help-tag-right"><a href="#method">method</a></code> <code id="-%3E" class="help-tag"><a href="#-%3E">-&gt;</a></code>
expr8-&gt;{lambda}([args])</div>
<div class="old-help-para">							<code id="E260" class="help-tag-right"><a href="#E260">E260</a></code> <code id="E276" class="help-tag"><a href="#E276">E276</a></code>
For methods that are also available as global functions this is the same as:<pre>name(expr8 [, args])</pre>
There can also be methods specifically for the type of "expr8".</div>
<div class="old-help-para">This allows for chaining, passing the value that one method returns to the
next method:<pre>mylist-&gt;filter(filterexpr)-&gt;map(mapexpr)-&gt;sort()-&gt;join()</pre></div>
<div class="old-help-para">Example of using a lambda:<pre>GetPercentage()-&gt;{x -&gt; x * 100}()-&gt;printf('%d%%')</pre></div>
<div class="old-help-para">When using -&gt; the <a href="eval.html#expr7">expr7</a> operators will be applied first, thus:<pre>-1.234-&gt;string()</pre>
Is equivalent to:<pre>(-1.234)-&gt;string()</pre>
And NOT:<pre>-(1.234-&gt;string())</pre></div>
<div class="old-help-para">							<code id="E274" class="help-tag-right"><a href="#E274">E274</a></code>
"-&gt;name(" must not contain white space.  There can be white space before the
"-&gt;" and after the "(", thus you can split the lines like this:<pre>mylist
\ -&gt;filter(filterexpr)
\ -&gt;map(mapexpr)
\ -&gt;sort()
\ -&gt;join()</pre>
When using the lambda form there must be no white space between the } and the
<h3 id="_(." class="help-heading">(.</h3></div>
<div class="old-help-para">							<code id="expr9" class="help-tag-right"><a href="#expr9">expr9</a></code>
<h3 id="_-number" class="help-heading">number</h3></div>
<div class="old-help-para">number			number constant			<code id="expr-number" class="help-tag-right"><a href="#expr-number">expr-number</a></code></div>
<div class="old-help-para">			<code id="0x" class="help-tag-right"><a href="#0x">0x</a></code> <code id="hex-number" class="help-tag"><a href="#hex-number">hex-number</a></code> <code id="0o" class="help-tag"><a href="#0o">0o</a></code> <code id="octal-number" class="help-tag"><a href="#octal-number">octal-number</a></code> <code id="binary-number" class="help-tag"><a href="#binary-number">binary-number</a></code>
Decimal, Hexadecimal (starting with 0x or 0X), Binary (starting with 0b or 0B)
and Octal (starting with 0, 0o or 0O).</div>
<div class="old-help-para">						<code id="floating-point-format" class="help-tag-right"><a href="#floating-point-format">floating-point-format</a></code>
Floating point numbers can be written in two forms:</div>
<div class="old-help-para">	[-+]{N}.{M}
	[-+]{N}.{M}[eE][-+]{exp}</div>
<div class="old-help-para"><code>{N}</code> and <code>{M}</code> are numbers.  Both <code>{N}</code> and <code>{M}</code> must be present and can only
contain digits.
[-+] means there is an optional plus or minus sign.
<code>{exp}</code> is the exponent, power of 10.
Only a decimal point is accepted, not a comma.  No matter what the current
locale is.</div>
<div class="old-help-para">Examples:
	123.456
	+0.0001
	55.0
	-0.123
	1.234e03
	1.0E-6
	-3.1416e+88</div>
<div class="old-help-para">These are INVALID:
	3.		empty <code>{M}</code>
	1e40		missing .{M}</div>
<div class="old-help-para">Rationale:
Before floating point was introduced, the text "123.456" was interpreted as
the two numbers "123" and "456", both converted to a string and concatenated,
resulting in the string "123456".  Since this was considered pointless, and we
could not find it intentionally being used in Vim scripts, this backwards
incompatibility was accepted in favor of being able to use the normal notation
for floating point numbers.</div>
<div class="old-help-para">							<code id="float-pi" class="help-tag-right"><a href="#float-pi">float-pi</a></code> <code id="float-e" class="help-tag"><a href="#float-e">float-e</a></code>
A few useful values to copy&amp;paste:<pre>:let pi = 3.14159265359
:let e  = 2.71828182846</pre>
Or, if you don't want to write them in as floating-point literals, you can
also use functions, like the following:<pre>:let pi = acos(-1.0)
:let e  = exp(1.0)</pre></div>
<div class="old-help-para">						<code id="floating-point-precision" class="help-tag-right"><a href="#floating-point-precision">floating-point-precision</a></code>
The precision and range of floating points numbers depends on what "double"
means in the library Vim was compiled with.  There is no way to change this at
runtime.</div>
<div class="old-help-para">The default for displaying a <a href="eval.html#Float">Float</a> is to use 6 decimal places, like using
printf("%g", f).  You can select something else when using the <a href="builtin.html#printf()">printf()</a>
function.  Example:<pre>:echo printf('%.15e', atan(1))</pre></div>
<div class="old-help-para">	7.853981633974483e-01</div>
<div class="old-help-para"><h3 id="string" class="help-heading">string<span class="help-heading-tags">					<span class="help-tag"><a href="#string">string</a></span> <span id="String" class="help-tag"><a href="#String">String</a></span> <span id="expr-string" class="help-tag"><a href="#expr-string">expr-string</a></span> <span id="E114" class="help-tag"><a href="#E114">E114</a></span></span></h3></div>
<div class="old-help-para">"string"		string constant		<code id="expr-quote" class="help-tag-right"><a href="#expr-quote">expr-quote</a></code></div>
<div class="old-help-para">Note that double quotes are used.</div>
<div class="old-help-para">A string constant accepts these special characters:
\...	three-digit octal number (e.g., "\316")
\..	two-digit octal number (must be followed by non-digit)
\.	one-digit octal number (must be followed by non-digit)
\x..	byte specified with two hex numbers (e.g., "\x1f")
\x.	byte specified with one hex number (must be followed by non-hex char)
\X..	same as \x..
\X.	same as \x.
\u....	character specified with up to 4 hex numbers, stored as UTF-8
	(e.g., "\u02a4")
\U....	same as \u but allows up to 8 hex numbers.
\b	backspace <code>&lt;BS&gt;</code>
\e	escape <code>&lt;Esc&gt;</code>
\f	formfeed 0x0C
\n	newline <code>&lt;NL&gt;</code>
\r	return <code>&lt;CR&gt;</code>
\t	tab <code>&lt;Tab&gt;</code>
\\	backslash
\"	double quote
\&lt;xxx&gt;	Special key named "xxx".  e.g. "\&lt;C-W&gt;" for <code>CTRL-W</code>.  This is for use
	in mappings, the 0x80 byte is escaped.
	To use the double quote character it must be escaped: "&lt;M-\"&gt;".
	Don't use <code>&lt;Char-xxxx&gt;</code> to get a UTF-8 character, use \uxxxx as
	mentioned above.
\&lt;*xxx&gt;	Like \&lt;xxx&gt; but prepends a modifier instead of including it in the
	character.  E.g. "\&lt;C-w&gt;" is one character 0x17 while "\&lt;*C-w&gt;" is four
	bytes: 3 for the CTRL modifier and then character "W".</div>
<div class="old-help-para">Note that "\xff" is stored as the byte 255, which may be invalid in some
encodings.  Use "\u00ff" to store character 255 correctly as UTF-8.</div>
<div class="old-help-para">Note that "\000" and "\x00" force the end of the string.</div>
<div class="old-help-para"><h3 id="blob-literal" class="help-heading">blob-literal<span class="help-heading-tags">				<span class="help-tag"><a href="#blob-literal">blob-literal</a></span> <span id="E973" class="help-tag"><a href="#E973">E973</a></span></span></h3></div>
<div class="old-help-para">Hexadecimal starting with 0z or 0Z, with an arbitrary number of bytes.
The sequence must be an even number of hex characters.  Example:<pre>:let b = 0zFF00ED015DAF</pre>
<h3 id="literal-string" class="help-heading">literal-string<span class="help-heading-tags">						<span class="help-tag"><a href="#literal-string">literal-string</a></span> <span id="E115" class="help-tag"><a href="#E115">E115</a></span></span></h3></div>
<div class="old-help-para">string		string constant			<code id="expr-'" class="help-tag-right"><a href="#expr-'">expr-'</a></code></div>
<div class="old-help-para">Note that single quotes are used.</div>
<div class="old-help-para">This string is taken as it is.  No backslashes are removed or have a special
meaning.  The only exception is that two quotes stand for one quote.</div>
<div class="old-help-para">Single quoted strings are useful for patterns, so that backslashes do not need
to be doubled.  These two commands are equivalent:<pre>if a =~ "\\s*"
if a =~ '\s*'</pre>
<h3 id="%24quote" class="help-heading">interpolated-string<span class="help-heading-tags">				<span class="help-tag"><a href="#%24quote">$quote</a></span> <span id="interpolated-string" class="help-tag"><a href="#interpolated-string">interpolated-string</a></span></span></h3></div>
<div class="old-help-para">$"string"		interpolated string constant		<code id="expr-%24quote" class="help-tag-right"><a href="#expr-%24quote">expr-$quote</a></code>
$'string'		interpolated literal string constant	<code id="expr-%24'" class="help-tag"><a href="#expr-%24'">expr-$'</a></code></div>
<div class="old-help-para">Interpolated strings are an extension of the <a href="eval.html#string">string</a> and <a href="eval.html#literal-string">literal-string</a>,
allowing the inclusion of Vim script expressions (see <a href="eval.html#expr1">expr1</a>).  Any
expression returning a value can be enclosed between curly braces.  The value
is converted to a string.  All the text and results of the expressions
are concatenated to make a new string.
								<code id="E1278" class="help-tag-right"><a href="#E1278">E1278</a></code>
To include an opening brace '{' or closing brace '}' in the string content
double it.  For double quoted strings using a backslash also works.  A single
closing brace '}' will result in an error.</div>
<div class="old-help-para">Examples:<pre>let your_name = input("What's your name? ")</pre></div>
<div class="old-help-para"><div class="help-column_heading">	What's your name?  Peter</div><pre>echo
echo $"Hello, {your_name}!"</pre></div>
<div class="old-help-para"><div class="help-column_heading">	Hello, Peter!</div><pre>echo $"The square root of {{9}} is {sqrt(9)}"</pre></div>
<div class="old-help-para"><div class="help-column_heading">	The square root of <code>{9}</code> is 3.0</div></div>
<div class="old-help-para">						<code id="string-offset-encoding" class="help-tag-right"><a href="#string-offset-encoding">string-offset-encoding</a></code>
A string consists of multiple characters.  UTF-8 uses one byte for ASCII
characters, two bytes for other latin characters and more bytes for other
characters.</div>
<div class="old-help-para">A string offset can count characters or bytes.  Other programs may use
UTF-16 encoding (16-bit words) and an offset of UTF-16 words.  Some functions
use byte offsets, usually for UTF-8 encoding.  Other functions use character
offsets, in which case the encoding doesn't matter.</div>
<div class="old-help-para">The different offsets for the string "aÂ©ðŸ˜Š" are below:</div>
<div class="old-help-para">  UTF-8 offsets:
      [0]: 61, [1]: C2, [2]: A9, [3]: F0, [4]: 9F, [5]: 98, [6]: 8A
  UTF-16 offsets:
      [0]: 0061, [1]: 00A9, [2]: D83D, [3]: DE0A
  UTF-32 (character) offsets:
      [0]: 00000061, [1]: 000000A9, [2]: 0001F60A</div>
<div class="old-help-para">You can use the "g8" and "ga" commands on a character to see the
decimal/hex/octal values.</div>
<div class="old-help-para">The functions <a href="builtin.html#byteidx()">byteidx()</a>, <a href="builtin.html#utf16idx()">utf16idx()</a> and <a href="builtin.html#charidx()">charidx()</a> can be used to convert
between these indices.  The functions <a href="builtin.html#strlen()">strlen()</a>, <a href="builtin.html#strutf16len()">strutf16len()</a> and
<a href="builtin.html#strcharlen()">strcharlen()</a> return the number of bytes, UTF-16 code units and characters in
a string respectively.</div>
<div class="old-help-para"><h3 id="expr-option" class="help-heading">option<span class="help-heading-tags">						<span class="help-tag"><a href="#expr-option">expr-option</a></span> <span id="E112" class="help-tag"><a href="#E112">E112</a></span> <span id="E113" class="help-tag"><a href="#E113">E113</a></span></span></h3></div>
<div class="old-help-para">&amp;option			option value, local value if possible
&amp;g:option		global option value
&amp;l:option		local option value</div>
<div class="old-help-para">Examples:<pre>echo "tabstop is " .. &amp;tabstop
if &amp;expandtab</pre>
Any option name can be used here.  See <a href="options.html#options">options</a>.  When using the local value
and there is no buffer-local or window-local value, the global value is used
anyway.</div>
<div class="old-help-para"><h3 id="expr-register" class="help-heading">register<span class="help-heading-tags">						<span class="help-tag"><a href="#expr-register">expr-register</a></span> <span id="%40r" class="help-tag"><a href="#%40r">@r</a></span></span></h3></div>
<div class="old-help-para">@r			contents of register 'r'</div>
<div class="old-help-para">The result is the contents of the named register, as a single string.
Newlines are inserted where required.  To get the contents of the unnamed
register use @" or @@.  See <a href="change.html#registers">registers</a> for an explanation of the available
registers.</div>
<div class="old-help-para">When using the '=' register you get the expression itself, not what it
evaluates to.  Use <a href="builtin.html#eval()">eval()</a> to evaluate it.</div>
<div class="old-help-para">nesting							<code id="expr-nesting" class="help-tag-right"><a href="#expr-nesting">expr-nesting</a></code> <code id="E110" class="help-tag"><a href="#E110">E110</a></code>
-------
(expr1)			nested expression</div>
<div class="old-help-para"><h3 id="expr-env" class="help-heading">environment variable<span class="help-heading-tags">					<span class="help-tag"><a href="#expr-env">expr-env</a></span></h3></div>
<div class="old-help-para">$VAR			environment variable</div>
<div class="old-help-para">The String value of any environment variable.  When it is not defined, the
result is an empty string.</div>
<div class="old-help-para">The functions <code>getenv()</code> and <code>setenv()</code> can also be used and work for
environment variables with non-alphanumeric names.
The function <code>environ()</code> can be used to get a Dict with all environment
variables.</div>
<div class="old-help-para">						<code id="expr-env-expand" class="help-tag-right"><a href="#expr-env-expand">expr-env-expand</a></code>
Note that there is a difference between using $VAR directly and using
expand("$VAR").  Using it directly will only expand environment variables that
are known inside the current Vim session.  Using expand() will first try using
the environment variables known inside the current Vim session.  If that
fails, a shell will be used to expand the variable.  This can be slow, but it
does expand all variables that the shell knows about.  Example:<pre>:echo $shell
:echo expand("$shell")</pre>
The first one probably doesn't echo anything, the second echoes the $shell
variable (if your shell supports it).</div>
<div class="old-help-para"><h3 id="expr-variable" class="help-heading">internal variable<span class="help-heading-tags">					<span class="help-tag"><a href="#expr-variable">expr-variable</a></span></h3></div>
<div class="old-help-para">variable		internal variable
See below <a href="eval.html#internal-variables">internal-variables</a>.</div>
<div class="old-help-para"><h3 id="expr-function" class="help-heading">function call<span class="help-heading-tags">		<span class="help-tag"><a href="#expr-function">expr-function</a></span> <span id="E116" class="help-tag"><a href="#E116">E116</a></span> <span id="E118" class="help-tag"><a href="#E118">E118</a></span> <span id="E119" class="help-tag"><a href="#E119">E119</a></span> <span id="E120" class="help-tag"><a href="#E120">E120</a></span></span></h3></div>
<div class="old-help-para">function(expr1, ...)	function call
See below <a href="eval.html#functions">functions</a>.</div>
<div class="old-help-para"><h3 id="expr-lambda" class="help-heading">lambda expression<span class="help-heading-tags">				<span class="help-tag"><a href="#expr-lambda">expr-lambda</a></span> <span id="lambda" class="help-tag"><a href="#lambda">lambda</a></span></span></h3></div>
<div class="old-help-para"><code>{args -&gt; expr1}</code>  	lambda expression			<code id="E451" class="help-tag-right"><a href="#E451">E451</a></code></div>
<div class="old-help-para">A lambda expression creates a new unnamed function which returns the result of
evaluating <a href="eval.html#expr1">expr1</a>.  Lambda expressions differ from <a href="eval.html#user-function">user-function</a>s in
the following ways:</div>
<div class="old-help-para">1. The body of the lambda expression is an <a href="eval.html#expr1">expr1</a> and not a sequence of <a href="intro.html#Ex">Ex</a>
   commands.
2. The prefix "a:" should not be used for arguments.  E.g.:<pre>:let F = {arg1, arg2 -&gt; arg1 - arg2}
:echo F(5, 2)</pre></div>
<div class="old-help-para">	3</div>
<div class="old-help-para">The arguments are optional.  Example:<pre>:let F = {-&gt; 'error function'}
:echo F('ignored')</pre></div>
<div class="old-help-para">	error function
							<code id="closure" class="help-tag-right"><a href="#closure">closure</a></code>
Lambda expressions can access outer scope variables and arguments.  This is
often called a closure.  Example where "i" and "a:arg" are used in a lambda
while they already exist in the function scope.  They remain valid even after
the function returns:<pre>:function Foo(arg)
:  let i = 3
:  return {x -&gt; x + i - a:arg}
:endfunction
:let Bar = Foo(4)
:echo Bar(6)</pre></div>
<div class="old-help-para">	5
Note that the variables must exist in the outer scope before the lambda is
defined for this to work.  See also <a href="userfunc.html#%3Afunc-closure">:func-closure</a>.</div>
<div class="old-help-para">Lambda and closure support can be checked with:<pre>if has('lambda')</pre>
Examples for using a lambda expression with <a href="builtin.html#sort()">sort()</a>, <a href="builtin.html#map()">map()</a> and <a href="builtin.html#filter()">filter()</a>:<pre>:echo map([1, 2, 3], {idx, val -&gt; val + 1})</pre></div>
<div class="old-help-para">	[2, 3, 4]<pre>:echo sort([3,7,2,1,4], {a, b -&gt; a - b})</pre></div>
<div class="old-help-para">	[1, 2, 3, 4, 7]</div>
<div class="old-help-para">The lambda expression is also useful for jobs and timers:<pre>:let timer = timer_start(500,
                \ {-&gt; execute("echo 'Handler called'", "")},
                \ {'repeat': 3})</pre></div>
<div class="old-help-para">	Handler called
	Handler called
	Handler called</div>
<div class="old-help-para">Note that it is possible to cause memory to be used and not freed if the
closure is referenced by the context it depends on:<pre>function Function()
   let x = 0
   let F = {-&gt; x}
 endfunction</pre>
The closure uses "x" from the function scope, and "F" in that same scope
refers to the closure.  This cycle results in the memory not being freed.
Recommendation: don't do this.</div>
<div class="old-help-para">Notice how execute() is used to execute an Ex command.  That's ugly though.</div>
<div class="old-help-para">Lambda expressions have internal names like '<code>&lt;lambda&gt;</code>42'.  If you get an error
for a lambda expression, you can find what it is with the following command:<pre>:function &lt;lambda&gt;42</pre>
See also: <a href="eval.html#numbered-function">numbered-function</a></div>
<div class="old-help-para"><h2 id="internal-variables" class="help-heading">3. Internal variable<span class="help-heading-tags">				<span class="help-tag"><a href="#internal-variables">internal-variables</a></span> <span id="E461" class="help-tag"><a href="#E461">E461</a></span></span></h2></div>
<div class="old-help-para">An internal variable name can be made up of letters, digits and '_'.  But it
cannot start with a digit.  It's also possible to use curly braces, see
<a href="eval.html#curly-braces-names">curly-braces-names</a>.</div>
<div class="old-help-para">An internal variable is created with the ":let" command <a href="eval.html#%3Alet">:let</a>.
An internal variable is explicitly destroyed with the ":unlet" command
<a href="eval.html#%3Aunlet">:unlet</a>.
Using a name that is not an internal variable or refers to a variable that has
been destroyed results in an error.</div>
<div class="old-help-para">						<code id="variable-scope" class="help-tag-right"><a href="#variable-scope">variable-scope</a></code>
There are several name spaces for variables.  Which one is to be used is
specified by what is prepended:</div>
<div class="old-help-para">		(nothing) In a function: local to a function; otherwise: global
<a href="eval.html#buffer-variable">buffer-variable</a>    b:	  Local to the current buffer.
<a href="eval.html#window-variable">window-variable</a>    w:	  Local to the current window.
<a href="eval.html#tabpage-variable">tabpage-variable</a>   t:	  Local to the current tab page.
<a href="eval.html#global-variable">global-variable</a>    g:	  Global.
<a href="eval.html#local-variable">local-variable</a>     l:	  Local to a function.
<a href="eval.html#script-variable">script-variable</a>    s:	  Local to a <a href="repeat.html#%3Asource">:source</a>d Vim script.
<a href="userfunc.html#function-argument">function-argument</a>  a:	  Function argument (only inside a function).
<a href="eval.html#vim-variable">vim-variable</a>       v:	  Global, predefined by Vim.</div>
<div class="old-help-para">The scope name by itself can be used as a <a href="eval.html#Dictionary">Dictionary</a>.  For example, to
delete all script-local variables:<pre>:for k in keys(s:)
:    unlet s:[k]
:endfor</pre></div>
<div class="old-help-para">						<code id="buffer-variable" class="help-tag-right"><a href="#buffer-variable">buffer-variable</a></code> <code id="b%3Avar" class="help-tag"><a href="#b%3Avar">b:var</a></code> <code id="b%3A" class="help-tag"><a href="#b%3A">b:</a></code>
A variable name that is preceded with "b:" is local to the current buffer.
Thus you can have several "b:foo" variables, one for each buffer.
This kind of variable is deleted when the buffer is wiped out or deleted with
<a href="windows.html#%3Abdelete">:bdelete</a>.</div>
<div class="old-help-para">One local buffer variable is predefined:
					<code id="b%3Achangedtick" class="help-tag-right"><a href="#b%3Achangedtick">b:changedtick</a></code> <code id="changetick" class="help-tag"><a href="#changetick">changetick</a></code>
b:changedtick	The total number of changes to the current buffer.  It is
		incremented for each change.  An undo command is also a change
		in this case.  Resetting <a href="options.html#'modified'">'modified'</a> when writing the buffer is
		also counted.
		This can be used to perform an action only when the buffer has
		changed.  Example:<pre>:if my_changedtick != b:changedtick
:        let my_changedtick = b:changedtick
:        call My_Update()
:endif</pre></div>
<div class="old-help-para">		You cannot change or delete the b:changedtick variable.</div>
<div class="old-help-para">						<code id="window-variable" class="help-tag-right"><a href="#window-variable">window-variable</a></code> <code id="w%3Avar" class="help-tag"><a href="#w%3Avar">w:var</a></code> <code id="w%3A" class="help-tag"><a href="#w%3A">w:</a></code>
A variable name that is preceded with "w:" is local to the current window.  It
is deleted when the window is closed.</div>
<div class="old-help-para">						<code id="tabpage-variable" class="help-tag-right"><a href="#tabpage-variable">tabpage-variable</a></code> <code id="t%3Avar" class="help-tag"><a href="#t%3Avar">t:var</a></code> <code id="t%3A" class="help-tag"><a href="#t%3A">t:</a></code>
A variable name that is preceded with "t:" is local to the current tab page,
It is deleted when the tab page is closed.</div>
<div class="old-help-para">						<code id="global-variable" class="help-tag-right"><a href="#global-variable">global-variable</a></code> <code id="g%3Avar" class="help-tag"><a href="#g%3Avar">g:var</a></code> <code id="g%3A" class="help-tag"><a href="#g%3A">g:</a></code>
Inside functions global variables are accessed with "g:".  Omitting this will
access a variable local to a function.  But "g:" can also be used in any other
place if you like.</div>
<div class="old-help-para">						<code id="local-variable" class="help-tag-right"><a href="#local-variable">local-variable</a></code> <code id="l%3Avar" class="help-tag"><a href="#l%3Avar">l:var</a></code> <code id="l%3A" class="help-tag"><a href="#l%3A">l:</a></code>
Inside functions local variables are accessed without prepending anything.
But you can also prepend "l:" if you like.  However, without prepending "l:"
you may run into reserved variable names.  For example "count".  By itself it
refers to "v:count".  Using "l:count" you can have a local variable with the
same name.</div>
<div class="old-help-para">						<code id="script-variable" class="help-tag-right"><a href="#script-variable">script-variable</a></code> <code id="s%3Avar" class="help-tag"><a href="#s%3Avar">s:var</a></code>
In a Vim script variables starting with "s:" can be used.  They cannot be
accessed from outside of the scripts, thus are local to the script.</div>
<div class="old-help-para">They can be used in:
<div class="help-li" style=""> commands executed while the script is sourced
</div><div class="help-li" style=""> functions defined in the script
</div><div class="help-li" style=""> autocommands defined in the script
</div><div class="help-li" style=""> functions and autocommands defined in functions and autocommands which were
  defined in the script (recursively)
</div><div class="help-li" style=""> user defined commands defined in the script
Thus not in:
</div><div class="help-li" style=""> other scripts sourced from this one
</div><div class="help-li" style=""> mappings
</div><div class="help-li" style=""> menus
</div><div class="help-li" style=""> etc.
</div></div>
<div class="old-help-para">Script variables can be used to avoid conflicts with global variable names.
Take this example:<pre>let s:counter = 0
function MyCounter()
  let s:counter = s:counter + 1
  echo s:counter
endfunction
command Tick call MyCounter()</pre>
You can now invoke "Tick" from any script, and the "s:counter" variable in
that script will not be changed, only the "s:counter" in the script where
"Tick" was defined is used.</div>
<div class="old-help-para">Another example that does the same:<pre>let s:counter = 0
command Tick let s:counter = s:counter + 1 | echo s:counter</pre>
When calling a function and invoking a user-defined command, the context for
script variables is set to the script where the function or command was
defined.</div>
<div class="old-help-para">The script variables are also available when a function is defined inside a
function that is defined in a script.  Example:<pre>let s:counter = 0
function StartCounting(incr)
  if a:incr
    function MyCounter()
      let s:counter = s:counter + 1
    endfunction
  else
    function MyCounter()
      let s:counter = s:counter - 1
    endfunction
  endif
endfunction</pre>
This defines the MyCounter() function either for counting up or counting down
when calling StartCounting().  It doesn't matter from where StartCounting() is
called, the s:counter variable will be accessible in MyCounter().</div>
<div class="old-help-para">When the same script is sourced again it will use the same script variables.
They will remain valid as long as Vim is running.  This can be used to
maintain a counter:<pre>if !exists("s:counter")
  let s:counter = 1
  echo "script executed for the first time"
else
  let s:counter = s:counter + 1
  echo "script executed " .. s:counter .. " times now"
endif</pre>
Note that this means that filetype plugins don't get a different set of script
variables for each buffer.  Use local buffer variables instead <a href="eval.html#b%3Avar">b:var</a>.</div>
<div class="old-help-para"><h3 id="vim-variable" class="help-heading">PREDEFINED VIM VARIABLES<span class="help-heading-tags">			<span class="help-tag"><a href="#vim-variable">vim-variable</a></span> <span id="v%3Avar" class="help-tag"><a href="#v%3Avar">v:var</a></span> <span id="v%3A" class="help-tag"><a href="#v%3A">v:</a></span></span></h3>								<code id="E963" class="help-tag-right"><a href="#E963">E963</a></code></div>
<div class="old-help-para">The alphabetic list of all builtin variables and details are in a separate
help file: <a href="vvars.html#vvars">vvars</a>.</div>
<div class="old-help-para"><h2 id="vim-function" class="help-heading">4. Builtin Functions<span class="help-heading-tags">				<span class="help-tag"><a href="#vim-function">vim-function</a></span> <span id="functions" class="help-tag"><a href="#functions">functions</a></span></span></h2></div>
<div class="old-help-para">The Vimscript subsystem (referred to as "eval" internally) provides builtin
functions.  Scripts can also define <a href="eval.html#user-function">user-function</a>s.</div>
<div class="old-help-para">See <a href="usr_41.html#function-list">function-list</a> to browse functions by topic.</div>
<div class="old-help-para">The alphabetic list of all builtin functions and details are in a separate
help file: <a href="builtin.html#builtin-functions">builtin-functions</a>.</div>
<div class="old-help-para"><h2 id="user-function" class="help-heading">5. Defining functions<span class="help-heading-tags">					<span class="help-tag"><a href="#user-function">user-function</a></span></h2></div>
<div class="old-help-para">New functions can be defined.  These can be called just like builtin
functions.  The function takes arguments, executes a sequence of Ex commands
and can return a value.</div>
<div class="old-help-para">You can find most information about defining functions in <a href="userfunc.html#userfunc.txt">userfunc.txt</a>.</div>
<div class="old-help-para"><h2 id="curly-braces-names" class="help-heading">6. Curly braces names<span class="help-heading-tags">					<span class="help-tag"><a href="#curly-braces-names">curly-braces-names</a></span></h2></div>
<div class="old-help-para">In most places where you can use a variable, you can use a "curly braces name"
variable.  This is a regular variable name with one or more expressions
wrapped in braces {} like this:<pre>my_{adjective}_variable</pre>
When Vim encounters this, it evaluates the expression inside the braces, puts
that in place of the expression, and re-interprets the whole as a variable
name.  So in the above example, if the variable "adjective" was set to
"noisy", then the reference would be to "my_noisy_variable", whereas if
"adjective" was set to "quiet", then it would be to "my_quiet_variable".</div>
<div class="old-help-para">One application for this is to create a set of variables governed by an option
value.  For example, the statement<pre>echo my_{&amp;background}_message</pre>
would output the contents of "my_dark_message" or "my_light_message" depending
on the current value of <a href="options.html#'background'">'background'</a>.</div>
<div class="old-help-para">You can use multiple brace pairs:<pre>echo my_{adverb}_{adjective}_message</pre>
..or even nest them:<pre>echo my_{ad{end_of_word}}_message</pre>
where "end_of_word" is either "verb" or "jective".</div>
<div class="old-help-para">However, the expression inside the braces must evaluate to a valid single
variable name, e.g. this is invalid:<pre>:let foo='a + b'
:echo c{foo}d</pre>
.. since the result of expansion is "ca + bd", which is not a variable name.</div>
<div class="old-help-para">						<code id="curly-braces-function-names" class="help-tag-right"><a href="#curly-braces-function-names">curly-braces-function-names</a></code>
You can call and define functions by an evaluated name in a similar way.
Example:<pre>:let func_end='whizz'
:call my_func_{func_end}(parameter)</pre>
This would call the function "my_func_whizz(parameter)".</div>
<div class="old-help-para">This does NOT work:<pre>:let i = 3
:let @{i} = ''  " error
:echo @{i}      " error</pre>
<h2 id="expression-commands" class="help-heading">7. Commands<span class="help-heading-tags">						<span class="help-tag"><a href="#expression-commands">expression-commands</a></span></h2></div>
<div class="old-help-para">:let <code>{var-name}</code> = <code>{expr1}</code>				<code id="%3Alet" class="help-tag-right"><a href="#%3Alet">:let</a></code> <code id="E18" class="help-tag"><a href="#E18">E18</a></code>
			Set internal variable <code>{var-name}</code> to the result of the
			expression <code>{expr1}</code>.  The variable will get the type
			from the <code>{expr}</code>.  If <code>{var-name}</code> didn't exist yet, it
			is created.</div>
<div class="old-help-para">:let <code>{var-name}</code>[<code>{idx}</code>] = <code>{expr1}</code>			<code id="E689" class="help-tag-right"><a href="#E689">E689</a></code>
			Set a list item to the result of the expression
			<code>{expr1}</code>.  <code>{var-name}</code> must refer to a list and <code>{idx}</code>
			must be a valid index in that list.  For nested list
			the index can be repeated.
			This cannot be used to add an item to a <a href="eval.html#List">List</a>.
			This cannot be used to set a byte in a String.  You
			can do that like this:<pre>:let var = var[0:2] .. 'X' .. var[4:]</pre></div>
<div class="old-help-para">			When <code>{var-name}</code> is a <a href="eval.html#Blob">Blob</a> then <code>{idx}</code> can be the
			length of the blob, in which case one byte is
			appended.</div>
<div class="old-help-para">							<code id="E711" class="help-tag-right"><a href="#E711">E711</a></code> <code id="E719" class="help-tag"><a href="#E719">E719</a></code>
:let <code>{var-name}</code>[<code>{idx1}</code>:{idx2}] = <code>{expr1}</code>		<code id="E708" class="help-tag-right"><a href="#E708">E708</a></code> <code id="E709" class="help-tag"><a href="#E709">E709</a></code> <code id="E710" class="help-tag"><a href="#E710">E710</a></code>
			Set a sequence of items in a <a href="eval.html#List">List</a> to the result of
			the expression <code>{expr1}</code>, which must be a list with the
			correct number of items.
			<code>{idx1}</code> can be omitted, zero is used instead.
			<code>{idx2}</code> can be omitted, meaning the end of the list.
			When the selected range of items is partly past the
			end of the list, items will be added.</div>
<div class="old-help-para">			<code id="%3Alet%2B%3D" class="help-tag-right"><a href="#%3Alet%2B%3D">:let+=</a></code> <code id="%3Alet-%3D" class="help-tag"><a href="#%3Alet-%3D">:let-=</a></code> <code id="%3Aletstar%3D" class="help-tag"><a href="#%3Aletstar%3D">:letstar=</a></code>
			<code id="%3Alet%2F%3D" class="help-tag-right"><a href="#%3Alet%2F%3D">:let/=</a></code> <code id="%3Alet%25%3D" class="help-tag"><a href="#%3Alet%25%3D">:let%=</a></code> <code id="%3Alet.%3D" class="help-tag"><a href="#%3Alet.%3D">:let.=</a></code> <code id="%3Alet..%3D" class="help-tag"><a href="#%3Alet..%3D">:let..=</a></code> <code id="E734" class="help-tag"><a href="#E734">E734</a></code>
:let <code>{var}</code> += <code>{expr1}</code>	Like ":let <code>{var}</code> = <code>{var}</code> + <code>{expr1}</code>".
:let <code>{var}</code> -= <code>{expr1}</code>	Like ":let <code>{var}</code> = <code>{var}</code> - <code>{expr1}</code>".
<code>:let {var} *= {expr1}</code>  	Like ":let <code>{var}</code> = <code>{var}</code> * <code>{expr1}</code>".
:let <code>{var}</code> /= <code>{expr1}</code>	Like ":let <code>{var}</code> = <code>{var}</code> / <code>{expr1}</code>".
:let <code>{var}</code> %= <code>{expr1}</code>	Like ":let <code>{var}</code> = <code>{var}</code> % <code>{expr1}</code>".
:let <code>{var}</code> .= <code>{expr1}</code>	Like ":let <code>{var}</code> = <code>{var}</code> . <code>{expr1}</code>".
:let <code>{var}</code> ..= <code>{expr1}</code>	Like ":let <code>{var}</code> = <code>{var}</code> .. <code>{expr1}</code>".
			These fail if <code>{var}</code> was not set yet and when the type
			of <code>{var}</code> and <code>{expr1}</code> don't fit the operator.
			<code>+=</code> modifies a <a href="eval.html#List">List</a> or a <a href="eval.html#Blob">Blob</a> in-place instead of
			creating a new one.</div>
<div class="old-help-para">:let ${env-name} = <code>{expr1}</code>			<code id="%3Alet-environment" class="help-tag-right"><a href="#%3Alet-environment">:let-environment</a></code> <code id="%3Alet-%24" class="help-tag"><a href="#%3Alet-%24">:let-$</a></code>
			Set environment variable <code>{env-name}</code> to the result of
			the expression <code>{expr1}</code>.  The type is always String.
:let ${env-name} .= <code>{expr1}</code>
			Append <code>{expr1}</code> to the environment variable <code>{env-name}</code>.
			If the environment variable didn't exist yet this
			works like "=".</div>
<div class="old-help-para">:let @{reg-name} = <code>{expr1}</code>			<code id="%3Alet-register" class="help-tag-right"><a href="#%3Alet-register">:let-register</a></code> <code id="%3Alet-%40" class="help-tag"><a href="#%3Alet-%40">:let-@</a></code>
			Write the result of the expression <code>{expr1}</code> in register
			<code>{reg-name}</code>.  <code>{reg-name}</code> must be a single letter, and
			must be the name of a writable register (see
			<a href="change.html#registers">registers</a>).  "@@" can be used for the unnamed
			register, "@/" for the search pattern.
			If the result of <code>{expr1}</code> ends in a <code>&lt;CR&gt;</code> or <code>&lt;NL&gt;</code>, the
			register will be linewise, otherwise it will be set to
			charwise.
			This can be used to clear the last search pattern:<pre>:let @/ = ""</pre></div>
<div class="old-help-para">			This is different from searching for an empty string,
			that would match everywhere.</div>
<div class="old-help-para">:let @{reg-name} .= <code>{expr1}</code>
			Append <code>{expr1}</code> to register <code>{reg-name}</code>.  If the
			register was empty it's like setting it to <code>{expr1}</code>.</div>
<div class="old-help-para">:let &amp;{option-name} = <code>{expr1}</code>			<code id="%3Alet-option" class="help-tag-right"><a href="#%3Alet-option">:let-option</a></code> <code id="%3Alet-%26" class="help-tag"><a href="#%3Alet-%26">:let-&amp;</a></code>
			Set option <code>{option-name}</code> to the result of the
			expression <code>{expr1}</code>.  A String or Number value is
			always converted to the type of the option.
			For an option local to a window or buffer the effect
			is just like using the <a href="options.html#%3Aset">:set</a> command: both the local
			value and the global value are changed.
			Example:<pre>:let &amp;path = &amp;path .. ',/usr/local/include'</pre>
:let &amp;{option-name} .= <code>{expr1}</code>
			For a string option: Append <code>{expr1}</code> to the value.
			Does not insert a comma like <a href="options.html#%3Aset%2B%3D">:set+=</a>.</div>
<div class="old-help-para">:let &amp;{option-name} += <code>{expr1}</code>
:let &amp;{option-name} -= <code>{expr1}</code>
			For a number or boolean option: Add or subtract
			<code>{expr1}</code>.</div>
<div class="old-help-para">:let &amp;l:{option-name} = <code>{expr1}</code>
:let &amp;l:{option-name} .= <code>{expr1}</code>
:let &amp;l:{option-name} += <code>{expr1}</code>
:let &amp;l:{option-name} -= <code>{expr1}</code>
			Like above, but only set the local value of an option
			(if there is one).  Works like <a href="options.html#%3Asetlocal">:setlocal</a>.</div>
<div class="old-help-para">:let &amp;g:{option-name} = <code>{expr1}</code>
:let &amp;g:{option-name} .= <code>{expr1}</code>
:let &amp;g:{option-name} += <code>{expr1}</code>
:let &amp;g:{option-name} -= <code>{expr1}</code>
			Like above, but only set the global value of an option
			(if there is one).  Works like <a href="options.html#%3Asetglobal">:setglobal</a>.</div>
<div class="old-help-para">:let [<code>{name1}</code>, <code>{name2}</code>, ...] = <code>{expr1}</code>		<code id="%3Alet-unpack" class="help-tag-right"><a href="#%3Alet-unpack">:let-unpack</a></code> <code id="E687" class="help-tag"><a href="#E687">E687</a></code> <code id="E688" class="help-tag"><a href="#E688">E688</a></code>
			<code>{expr1}</code> must evaluate to a <a href="eval.html#List">List</a>.  The first item in
			the list is assigned to <code>{name1}</code>, the second item to
			<code>{name2}</code>, etc.
			The number of names must match the number of items in
			the <a href="eval.html#List">List</a>.
			Each name can be one of the items of the ":let"
			command as mentioned above.
			Example:<pre>:let [s, item] = GetItem(s)</pre></div>
<div class="old-help-para">			Detail: <code>{expr1}</code> is evaluated first, then the
			assignments are done in sequence.  This matters if
			<code>{name2}</code> depends on <code>{name1}</code>.  Example:<pre>:let x = [0, 1]
:let i = 0
:let [i, x[i]] = [1, 2]
:echo x</pre></div>
<div class="old-help-para">			The result is [0, 2].</div>
<div class="old-help-para">:let [<code>{name1}</code>, <code>{name2}</code>, ...] .= <code>{expr1}</code>
:let [<code>{name1}</code>, <code>{name2}</code>, ...] += <code>{expr1}</code>
:let [<code>{name1}</code>, <code>{name2}</code>, ...] -= <code>{expr1}</code>
			Like above, but append/add/subtract the value for each
			<a href="eval.html#List">List</a> item.</div>
<div class="old-help-para">:let [<code>{name}</code>, ..., ; <code>{lastname}</code>] = <code>{expr1}</code>				<code id="E452" class="help-tag-right"><a href="#E452">E452</a></code>
			Like <a href="eval.html#%3Alet-unpack">:let-unpack</a> above, but the <a href="eval.html#List">List</a> may have more
			items than there are names.  A list of the remaining
			items is assigned to <code>{lastname}</code>.  If there are no
			remaining items <code>{lastname}</code> is set to an empty list.
			Example:<pre>:let [a, b; rest] = ["aval", "bval", 3, 4]</pre></div>
<div class="old-help-para">:let [<code>{name}</code>, ..., ; <code>{lastname}</code>] .= <code>{expr1}</code>
:let [<code>{name}</code>, ..., ; <code>{lastname}</code>] += <code>{expr1}</code>
:let [<code>{name}</code>, ..., ; <code>{lastname}</code>] -= <code>{expr1}</code>
			Like above, but append/add/subtract the value for each
			<a href="eval.html#List">List</a> item.</div>
<div class="old-help-para">						<code id="%3Alet%3D%3C%3C" class="help-tag-right"><a href="#%3Alet%3D%3C%3C">:let=&lt;&lt;</a></code> <code id="%3Alet-heredoc" class="help-tag"><a href="#%3Alet-heredoc">:let-heredoc</a></code>
					<code id="E990" class="help-tag-right"><a href="#E990">E990</a></code> <code id="E991" class="help-tag"><a href="#E991">E991</a></code> <code id="E172" class="help-tag"><a href="#E172">E172</a></code> <code id="E221" class="help-tag"><a href="#E221">E221</a></code> <code id="E1145" class="help-tag"><a href="#E1145">E1145</a></code>
:let <code>{var-name}</code> =&lt;&lt; [trim] [eval] <code>{endmarker}</code>
text...
text...
<code>{endmarker}</code>
			Set internal variable <code>{var-name}</code> to a <a href="eval.html#List">List</a>
			containing the lines of text bounded by the string
			<code>{endmarker}</code>.</div>
<div class="old-help-para">			If "eval" is not specified, then each line of text is
			used as a <a href="eval.html#literal-string">literal-string</a>, except that single quotes
			does not need to be doubled.
			If "eval" is specified, then any Vim expression in the
			form <code>{expr}</code> is evaluated and the result replaces the
			expression, like with <a href="eval.html#interpolated-string">interpolated-string</a>.
			Example where $HOME is expanded:<pre>let lines =&lt;&lt; trim eval END
  some text
  See the file {$HOME}/.vimrc
  more text
END</pre></div>
<div class="old-help-para">			There can be multiple Vim expressions in a single line
			but an expression cannot span multiple lines.  If any
			expression evaluation fails, then the assignment fails.</div>
<div class="old-help-para">			<code>{endmarker}</code> must not contain white space.
			<code>{endmarker}</code> cannot start with a lower case character.
			The last line should end only with the <code>{endmarker}</code>
			string without any other character.  Watch out for
			white space after <code>{endmarker}</code>!</div>
<div class="old-help-para">			Without "trim" any white space characters in the lines
			of text are preserved.  If "trim" is specified before
			<code>{endmarker}</code>, then indentation is stripped so you can
			do:<pre>let text =&lt;&lt; trim END
   if ok
     echo 'done'
   endif
END</pre></div>
<div class="old-help-para">			Results in: <code>["if ok", "  echo 'done'", "endif"]</code>
			The marker must line up with "let" and the indentation
			of the first line is removed from all the text lines.
			Specifically: all the leading indentation exactly
			matching the leading indentation of the first
			non-empty text line is stripped from the input lines.
			All leading indentation exactly matching the leading
			indentation before <code>let</code> is stripped from the line
			containing <code>{endmarker}</code>.  Note that the difference
			between space and tab matters here.</div>
<div class="old-help-para">			If <code>{var-name}</code> didn't exist yet, it is created.
			Cannot be followed by another command, but can be
			followed by a comment.</div>
<div class="old-help-para">			To avoid line continuation to be applied, consider
			adding 'C' to <a href="options.html#'cpoptions'">'cpoptions'</a>:<pre>set cpo+=C
let var =&lt;&lt; END
   \ leading backslash
END
set cpo-=C</pre></div>
<div class="old-help-para">			Examples:<pre>let var1 =&lt;&lt; END
Sample text 1
    Sample text 2
Sample text 3
END
let data =&lt;&lt; trim DATA
        1 2 3 4
        5 6 7 8
DATA
let code =&lt;&lt; trim eval CODE
   let v = {10 + 20}
   let h = "{$HOME}"
   let s = "{Str1()} abc {Str2()}"
   let n = {MyFunc(3, 4)}
CODE</pre></div>
<div class="old-help-para">								<code id="E121" class="help-tag-right"><a href="#E121">E121</a></code>
:let <code>{var-name}</code>	..	List the value of variable <code>{var-name}</code>.  Multiple
			variable names may be given.  Special names recognized
			here:				<code id="E738" class="help-tag-right"><a href="#E738">E738</a></code>
			  g:	global variables
			  b:	local buffer variables
			  w:	local window variables
			  t:	local tab page variables
			  s:	script-local variables
			  l:	local function variables
			  v:	Vim variables.</div>
<div class="old-help-para">:let			List the values of all variables.  The type of the
			variable is indicated before the value:
			    <code>&lt;nothing&gt;</code>	String
				#	Number
				*	Funcref</div>
<div class="old-help-para">:unl[et][!] <code>{name}</code> ...				<code id="%3Aunlet" class="help-tag-right"><a href="#%3Aunlet">:unlet</a></code> <code id="%3Aunl" class="help-tag"><a href="#%3Aunl">:unl</a></code> <code id="E108" class="help-tag"><a href="#E108">E108</a></code> <code id="E795" class="help-tag"><a href="#E795">E795</a></code>
			Remove the internal variable <code>{name}</code>.  Several variable
			names can be given, they are all removed.  The name
			may also be a <a href="eval.html#List">List</a> or <a href="eval.html#Dictionary">Dictionary</a> item.
			With [!] no error message is given for non-existing
			variables.
			One or more items from a <a href="eval.html#List">List</a> can be removed:<pre>:unlet list[3]          " remove fourth item
:unlet list[3:]   " remove fourth item to last</pre></div>
<div class="old-help-para">			One item from a <a href="eval.html#Dictionary">Dictionary</a> can be removed at a time:<pre>:unlet dict['two']
:unlet dict.two</pre></div>
<div class="old-help-para">			This is especially useful to clean up used global
			variables and script-local variables (these are not
			deleted when the script ends).  Function-local
			variables are automatically deleted when the function
			ends.</div>
<div class="old-help-para">:unl[et] ${env-name} ...			<code id="%3Aunlet-environment" class="help-tag-right"><a href="#%3Aunlet-environment">:unlet-environment</a></code> <code id="%3Aunlet-%24" class="help-tag"><a href="#%3Aunlet-%24">:unlet-$</a></code>
			Remove environment variable <code>{env-name}</code>.
			Can mix <code>{name}</code> and ${env-name} in one :unlet command.
			No error message is given for a non-existing
			variable, also without !.
			If the system does not support deleting an environment
			variable, it is made empty.</div>
<div class="old-help-para">						<code id="%3Acons" class="help-tag-right"><a href="#%3Acons">:cons</a></code> <code id="%3Aconst" class="help-tag"><a href="#%3Aconst">:const</a></code>
:cons[t] <code>{var-name}</code> = <code>{expr1}</code>
:cons[t] [<code>{name1}</code>, <code>{name2}</code>, ...] = <code>{expr1}</code>
:cons[t] [<code>{name}</code>, ..., ; <code>{lastname}</code>] = <code>{expr1}</code>
			Similar to <a href="eval.html#%3Alet">:let</a>, but additionally lock the variable
			after setting the value.  This is the same as locking
			the variable with <a href="eval.html#%3Alockvar">:lockvar</a> just after <a href="eval.html#%3Alet">:let</a>, thus:<pre>:const x = 1</pre></div>
<div class="old-help-para">			is equivalent to:<pre>:let x = 1
:lockvar! x</pre></div>
<div class="old-help-para">			This is useful if you want to make sure the variable
			is not modified.  If the value is a List or Dictionary
			literal then the items also cannot be changed:<pre>const ll = [1, 2, 3]
let ll[1] = 5  " Error!</pre></div>
<div class="old-help-para">			Nested references are not locked:<pre>let lvar = ['a']
const lconst = [0, lvar]
let lconst[0] = 2  " Error!
let lconst[1][0] = 'b'  " OK</pre></div>
<div class="old-help-para">							<code id="E995" class="help-tag-right"><a href="#E995">E995</a></code>
			<a href="eval.html#%3Aconst">:const</a> does not allow to for changing a variable.<pre>:let x = 1
:const x = 2  " Error!</pre></div>
<div class="old-help-para">							<code id="E996" class="help-tag-right"><a href="#E996">E996</a></code>
			Note that environment variables, option values and
			register values cannot be used here, since they cannot
			be locked.</div>
<div class="old-help-para">:cons[t]
:cons[t] <code>{var-name}</code>
			If no argument is given or only <code>{var-name}</code> is given,
			the behavior is the same as <a href="eval.html#%3Alet">:let</a>.</div>
<div class="old-help-para">:lockv[ar][!] [depth] <code>{name}</code> ...			<code id="%3Alockvar" class="help-tag-right"><a href="#%3Alockvar">:lockvar</a></code> <code id="%3Alockv" class="help-tag"><a href="#%3Alockv">:lockv</a></code>
			Lock the internal variable <code>{name}</code>.  Locking means that
			it can no longer be changed (until it is unlocked).
			A locked variable can be deleted:<pre>:lockvar v
:let v = 'asdf'          " fails!
:unlet v          " works</pre></div>
<div class="old-help-para">							<code id="E741" class="help-tag-right"><a href="#E741">E741</a></code> <code id="E940" class="help-tag"><a href="#E940">E940</a></code>
			If you try to change a locked variable you get an
			error message: "E741: Value is locked: <code>{name}</code>".
			If you try to lock or unlock a built-in variable you
			will get an error message "E940: Cannot lock or unlock
			variable <code>{name}</code>".</div>
<div class="old-help-para">			[depth] is relevant when locking a <a href="eval.html#List">List</a> or
			<a href="eval.html#Dictionary">Dictionary</a>.  It specifies how deep the locking goes:
				0	Lock the variable <code>{name}</code> but not its
					value.
				1	Lock the <a href="eval.html#List">List</a> or <a href="eval.html#Dictionary">Dictionary</a> itself,
					cannot add or remove items, but can
					still change their values.
				2	Also lock the values, cannot change
					the items.  If an item is a <a href="eval.html#List">List</a> or
					<a href="eval.html#Dictionary">Dictionary</a>, cannot add or remove
					items, but can still change the
					values.
				3	Like 2 but for the <a href="eval.html#List">List</a> /
					<a href="eval.html#Dictionary">Dictionary</a> in the <a href="eval.html#List">List</a> /
					<a href="eval.html#Dictionary">Dictionary</a>, one level deeper.
			The default [depth] is 2, thus when <code>{name}</code> is a <a href="eval.html#List">List</a>
			or <a href="eval.html#Dictionary">Dictionary</a> the values cannot be changed.</div>
<div class="old-help-para">			Example with [depth] 0:<pre>let mylist = [1, 2, 3]
lockvar 0 mylist
let mylist[0] = 77        " OK
call add(mylist, 4)        " OK
let mylist = [7, 8, 9]  " Error!</pre></div>
<div class="old-help-para">								<code id="E743" class="help-tag-right"><a href="#E743">E743</a></code>
			For unlimited depth use [!] and omit [depth].
			However, there is a maximum depth of 100 to catch
			loops.</div>
<div class="old-help-para">			Note that when two variables refer to the same <a href="eval.html#List">List</a>
			and you lock one of them, the <a href="eval.html#List">List</a> will also be
			locked when used through the other variable.
			Example:<pre>:let l = [0, 1, 2, 3]
:let cl = l
:lockvar l
:let cl[1] = 99                " won't work!</pre></div>
<div class="old-help-para">			You may want to make a copy of a list to avoid this.
			See <a href="builtin.html#deepcopy()">deepcopy()</a>.</div>
<div class="old-help-para">:unlo[ckvar][!] [depth] <code>{name}</code> ...			<code id="%3Aunlockvar" class="help-tag-right"><a href="#%3Aunlockvar">:unlockvar</a></code> <code id="%3Aunlo" class="help-tag"><a href="#%3Aunlo">:unlo</a></code>
			Unlock the internal variable <code>{name}</code>.  Does the
			opposite of <a href="eval.html#%3Alockvar">:lockvar</a>.</div>
<div class="old-help-para">			No error is given if <code>{name}</code> does not exist.</div>
<div class="old-help-para">:if <code>{expr1}</code>			<code id="%3Aif" class="help-tag-right"><a href="#%3Aif">:if</a></code> <code id="%3Aend" class="help-tag"><a href="#%3Aend">:end</a></code> <code id="%3Aendif" class="help-tag"><a href="#%3Aendif">:endif</a></code> <code id="%3Aen" class="help-tag"><a href="#%3Aen">:en</a></code> <code id="E171" class="help-tag"><a href="#E171">E171</a></code> <code id="E579" class="help-tag"><a href="#E579">E579</a></code> <code id="E580" class="help-tag"><a href="#E580">E580</a></code>
:en[dif]		Execute the commands until the next matching <code>:else</code>
			or <code>:endif</code> if <code>{expr1}</code> evaluates to non-zero.
			Although the short forms work, it is recommended to
			always use <code>:endif</code> to avoid confusion and to make
			auto-indenting work properly.</div>
<div class="old-help-para">			From Vim version 4.5 until 5.0, every Ex command in
			between the <code>:if</code> and <code>:endif</code> is ignored.  These two
			commands were just to allow for future expansions in a
			backward compatible way.  Nesting was allowed.  Note
			that any <code>:else</code> or <code>:elseif</code> was ignored, the <code>else</code>
			part was not executed either.</div>
<div class="old-help-para">			You can use this to remain compatible with older
			versions:<pre>:if version &gt;= 500
:  version-5-specific-commands
:endif</pre></div>
<div class="old-help-para">			The commands still need to be parsed to find the
			<code>endif</code>.  Sometimes an older Vim has a problem with a
			new command.  For example, <code>:silent</code> is recognized as
			a <code>:substitute</code> command.  In that case <code>:execute</code> can
			avoid problems:<pre>:if version &gt;= 600
:  execute "silent 1,$delete"
:endif</pre></div>
<div class="old-help-para"><a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+eval.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/eval.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%09%09%09%09%3A%20%20execute%20%22silent%201%2C%24delete%22%0A%09%09%09%09%3Aendif%0A%3C%0A%09%09%09NOTE%3A%20The%20%60%3Aappend%60%20and%20%60%3Ainsert%60%20commands%20don't%20work%0A%09%09%09properly%20in%20between%20%60%3Aif%60%20and%20%60%3Aendif%60.%0A%0A%09%09%09%09%09%09%2A%3Aelse%2A%20%2A%3Ael%2A%20%2AE581%2A%20%2AE583%2A%0D%60%60%60">NOTE:</a> The <code>:append</code> and <code>:insert</code> commands don't work
			properly in between <code>:if</code> and <code>:endif</code>.</div>
<div class="old-help-para">						<code id="%3Aelse" class="help-tag-right"><a href="#%3Aelse">:else</a></code> <code id="%3Ael" class="help-tag"><a href="#%3Ael">:el</a></code> <code id="E581" class="help-tag"><a href="#E581">E581</a></code> <code id="E583" class="help-tag"><a href="#E583">E583</a></code>
:el[se]			Execute the commands until the next matching <code>:else</code>
			or <code>:endif</code> if they previously were not being
			executed.</div>
<div class="old-help-para">					<code id="%3Aelseif" class="help-tag-right"><a href="#%3Aelseif">:elseif</a></code> <code id="%3Aelsei" class="help-tag"><a href="#%3Aelsei">:elsei</a></code> <code id="E582" class="help-tag"><a href="#E582">E582</a></code> <code id="E584" class="help-tag"><a href="#E584">E584</a></code>
:elsei[f] <code>{expr1}</code>	Short for <code>:else</code> <code>:if</code>, with the addition that there
			is no extra <code>:endif</code>.</div>
<div class="old-help-para">:wh[ile] <code>{expr1}</code>			<code id="%3Awhile" class="help-tag-right"><a href="#%3Awhile">:while</a></code> <code id="%3Aendwhile" class="help-tag"><a href="#%3Aendwhile">:endwhile</a></code> <code id="%3Awh" class="help-tag"><a href="#%3Awh">:wh</a></code> <code id="%3Aendw" class="help-tag"><a href="#%3Aendw">:endw</a></code>
						<code id="E170" class="help-tag-right"><a href="#E170">E170</a></code> <code id="E585" class="help-tag"><a href="#E585">E585</a></code> <code id="E588" class="help-tag"><a href="#E588">E588</a></code> <code id="E733" class="help-tag"><a href="#E733">E733</a></code>
:endw[hile]		Repeat the commands between <code>:while</code> and <code>:endwhile</code>,
			as long as <code>{expr1}</code> evaluates to non-zero.
			When an error is detected from a command inside the
			loop, execution continues after the <code>endwhile</code>.
			Example:<pre>:let lnum = 1
:while lnum &lt;= line("$")
   :call FixLine(lnum)
   :let lnum = lnum + 1
:endwhile</pre></div>
<div class="old-help-para"><a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+eval.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/eval.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%09%09%09%09%20%20%20%3Alet%20lnum%20%3D%20lnum%20%2B%201%0A%09%09%09%09%3Aendwhile%0A%3C%0A%09%09%09NOTE%3A%20The%20%60%3Aappend%60%20and%20%60%3Ainsert%60%20commands%20don't%20work%0A%09%09%09properly%20inside%20a%20%60%3Awhile%60%20and%20%60%3Afor%60%20loop.%0A%0A%3Afor%20%7Bvar%7D%20in%20%7Bobject%7D%09%09%09%09%09%2A%3Afor%2A%20%2AE690%2A%20%2AE732%2A%0D%60%60%60">NOTE:</a> The <code>:append</code> and <code>:insert</code> commands don't work
			properly inside a <code>:while</code> and <code>:for</code> loop.</div>
<div class="old-help-para">:for <code>{var}</code> in <code>{object}</code>					<code id="%3Afor" class="help-tag-right"><a href="#%3Afor">:for</a></code> <code id="E690" class="help-tag"><a href="#E690">E690</a></code> <code id="E732" class="help-tag"><a href="#E732">E732</a></code>
:endfo[r]						<code id="%3Aendfo" class="help-tag-right"><a href="#%3Aendfo">:endfo</a></code> <code id="%3Aendfor" class="help-tag"><a href="#%3Aendfor">:endfor</a></code>
			Repeat the commands between <code>:for</code> and <code>:endfor</code> for
			each item in <code>{object}</code>.  <code>{object}</code> can be a <a href="eval.html#List">List</a>,
			a <a href="eval.html#Blob">Blob</a> or a <a href="eval.html#String">String</a>.</div>
<div class="old-help-para">			Variable <code>{var}</code> is set to the value of each item.</div>
<div class="old-help-para">			When an error is detected for a command inside the
			loop, execution continues after the <code>endfor</code>.
			Changing <code>{object}</code> inside the loop affects what items
			are used.  Make a copy if this is unwanted:<pre>:for item in copy(mylist)</pre></div>
<div class="old-help-para">			When <code>{object}</code> is a <a href="eval.html#List">List</a> and not making a copy, Vim
			stores a reference to the next item in the <a href="eval.html#List">List</a>
			before executing the commands with the current item.
			Thus the current item can be removed without effect.
			Removing any later item means it will not be found.
			Thus the following example works (an inefficient way
			to make a <a href="eval.html#List">List</a> empty):<pre>for item in mylist
   call remove(mylist, 0)
endfor</pre></div>
<div class="old-help-para">			Note that reordering the <a href="eval.html#List">List</a> (e.g., with sort() or
			reverse()) may have unexpected effects.</div>
<div class="old-help-para">			When <code>{object}</code> is a <a href="eval.html#Blob">Blob</a>, Vim always makes a copy to
			iterate over.  Unlike with <a href="eval.html#List">List</a>, modifying the
			<a href="eval.html#Blob">Blob</a> does not affect the iteration.</div>
<div class="old-help-para">			When <code>{object}</code> is a <a href="eval.html#String">String</a> each item is a string with
			one character, plus any combining characters.</div>
<div class="old-help-para">:for [<code>{var1}</code>, <code>{var2}</code>, ...] in <code>{listlist}</code>
:endfo[r]
			Like <code>:for</code> above, but each item in <code>{listlist}</code> must be
			a list, of which each item is assigned to <code>{var1}</code>,
			<code>{var2}</code>, etc.  Example:<pre>:for [lnum, col] in [[1, 3], [2, 5], [3, 8]]
   :echo getline(lnum)[col]
:endfor</pre></div>
<div class="old-help-para">						<code id="%3Acontinue" class="help-tag-right"><a href="#%3Acontinue">:continue</a></code> <code id="%3Acon" class="help-tag"><a href="#%3Acon">:con</a></code> <code id="E586" class="help-tag"><a href="#E586">E586</a></code>
:con[tinue]		When used inside a <code>:while</code> or <code>:for</code> loop, jumps back
			to the start of the loop.</div>
<div class="old-help-para">			If it is used after a <code>:try</code> inside the loop but
			before the matching <code>:finally</code> (if present), the
			commands following the <code>:finally</code> up to the matching
			<code>:endtry</code> are executed first.  This process applies to
			all nested <code>:try</code>s inside the loop.  The outermost
			<code>:endtry</code> then jumps back to the start of the loop.</div>
<div class="old-help-para">						<code id="%3Abreak" class="help-tag-right"><a href="#%3Abreak">:break</a></code> <code id="%3Abrea" class="help-tag"><a href="#%3Abrea">:brea</a></code> <code id="E587" class="help-tag"><a href="#E587">E587</a></code>
:brea[k]		When used inside a <code>:while</code> or <code>:for</code> loop, skips to
			the command after the matching <code>:endwhile</code> or
			<code>:endfor</code>.
			If it is used after a <code>:try</code> inside the loop but
			before the matching <code>:finally</code> (if present), the
			commands following the <code>:finally</code> up to the matching
			<code>:endtry</code> are executed first.  This process applies to
			all nested <code>:try</code>s inside the loop.  The outermost
			<code>:endtry</code> then jumps to the command after the loop.</div>
<div class="old-help-para">:try				<code id="%3Atry" class="help-tag-right"><a href="#%3Atry">:try</a></code> <code id="%3Aendt" class="help-tag"><a href="#%3Aendt">:endt</a></code> <code id="%3Aendtry" class="help-tag"><a href="#%3Aendtry">:endtry</a></code> <code id="E600" class="help-tag"><a href="#E600">E600</a></code> <code id="E601" class="help-tag"><a href="#E601">E601</a></code> <code id="E602" class="help-tag"><a href="#E602">E602</a></code>
:endt[ry]		Change the error handling for the commands between
			<code>:try</code> and <code>:endtry</code> including everything being
			executed across <code>:source</code> commands, function calls,
			or autocommand invocations.</div>
<div class="old-help-para">			When an error or interrupt is detected and there is
			a <code>:finally</code> command following, execution continues
			after the <code>:finally</code>.  Otherwise, or when the
			<code>:endtry</code> is reached thereafter, the next
			(dynamically) surrounding <code>:try</code> is checked for
			a corresponding <code>:finally</code> etc.  Then the script
			processing is terminated.  Whether a function
			definition has an "abort" argument does not matter.
			Example:<pre>try | call Unknown() | finally | echomsg "cleanup" | endtry
echomsg "not reached"</pre></div>
<div class="old-help-para">			Moreover, an error or interrupt (dynamically) inside
			<code>:try</code> and <code>:endtry</code> is converted to an exception.  It
			can be caught as if it were thrown by a <code>:throw</code>
			command (see <code>:catch</code>).  In this case, the script
			processing is not terminated.</div>
<div class="old-help-para">			The value "Vim:Interrupt" is used for an interrupt
			exception.  An error in a Vim command is converted
			to a value of the form "Vim(<code>{command}</code>):{errmsg}",
			other errors are converted to a value of the form
			"Vim:{errmsg}".  <code>{command}</code> is the full command name,
			and <code>{errmsg}</code> is the message that is displayed if the
			error exception is not caught, always beginning with
			the error number.
			Examples:<pre>try | sleep 100 | catch /^Vim:Interrupt$/ | endtry
try | edit | catch /^Vim(edit):E\d\+/ | echo "error" | endtry</pre></div>
<div class="old-help-para">					<code id="%3Acat" class="help-tag-right"><a href="#%3Acat">:cat</a></code> <code id="%3Acatch" class="help-tag"><a href="#%3Acatch">:catch</a></code> <code id="E603" class="help-tag"><a href="#E603">E603</a></code> <code id="E604" class="help-tag"><a href="#E604">E604</a></code> <code id="E605" class="help-tag"><a href="#E605">E605</a></code>
:cat[ch] /{pattern}/	The following commands until the next <code>:catch</code>,
			<code>:finally</code>, or <code>:endtry</code> that belongs to the same
			<code>:try</code> as the <code>:catch</code> are executed when an exception
			matching <code>{pattern}</code> is being thrown and has not yet
			been caught by a previous <code>:catch</code>.  Otherwise, these
			commands are skipped.
			When <code>{pattern}</code> is omitted all errors are caught.
			Examples:<pre>:catch /^Vim:Interrupt$/         " catch interrupts (CTRL-C)
:catch /^Vim\%((\a\+)\)\=:E/         " catch all Vim errors
:catch /^Vim\%((\a\+)\)\=:/         " catch errors and interrupts
:catch /^Vim(write):/                 " catch all errors in :write
:catch /^Vim\%((\a\+)\)\=:E123:/ " catch error E123
:catch /my-exception/                 " catch user exception
:catch /.*/                         " catch everything
:catch                                 " same as /.*/</pre></div>
<div class="old-help-para">			Another character can be used instead of / around the
			<code>{pattern}</code>, so long as it does not have a special
			meaning (e.g., '|' or '"') and doesn't occur inside
			<code>{pattern}</code>.
			Information about the exception is available in
			<a href="vvars.html#v%3Aexception">v:exception</a>.  Also see <a href="eval.html#throw-variables">throw-variables</a>.
<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+eval.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/eval.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%09%09%09%7Bpattern%7D.%0A%09%09%09Information%20about%20the%20exception%20is%20available%20in%0A%09%09%09%7Cv%3Aexception%7C.%20%20Also%20see%20%7Cthrow-variables%7C.%0A%09%09%09NOTE%3A%20It%20is%20not%20reliable%20to%20%22%3Acatch%22%20the%20TEXT%20of%0A%09%09%09an%20error%20message%20because%20it%20may%20vary%20in%20different%0A%09%09%09locales.%0A%0D%60%60%60">NOTE:</a> It is not reliable to ":catch" the TEXT of
			an error message because it may vary in different
			locales.</div>
<div class="old-help-para">					<code id="%3Afina" class="help-tag-right"><a href="#%3Afina">:fina</a></code> <code id="%3Afinally" class="help-tag"><a href="#%3Afinally">:finally</a></code> <code id="E606" class="help-tag"><a href="#E606">E606</a></code> <code id="E607" class="help-tag"><a href="#E607">E607</a></code>
:fina[lly]		The following commands until the matching <code>:endtry</code>
			are executed whenever the part between the matching
			<code>:try</code> and the <code>:finally</code> is left:  either by falling
			through to the <code>:finally</code> or by a <code>:continue</code>,
			<code>:break</code>, <code>:finish</code>, or <code>:return</code>, or by an error or
			interrupt or exception (see <code>:throw</code>).</div>
<div class="old-help-para">							<code id="%3Ath" class="help-tag-right"><a href="#%3Ath">:th</a></code> <code id="%3Athrow" class="help-tag"><a href="#%3Athrow">:throw</a></code> <code id="E608" class="help-tag"><a href="#E608">E608</a></code>
:th[row] <code>{expr1}</code>	The <code>{expr1}</code> is evaluated and thrown as an exception.
			If the <code>:throw</code> is used after a <code>:try</code> but before the
			first corresponding <code>:catch</code>, commands are skipped
			until the first <code>:catch</code> matching <code>{expr1}</code> is reached.
			If there is no such <code>:catch</code> or if the <code>:throw</code> is
			used after a <code>:catch</code> but before the <code>:finally</code>, the
			commands following the <code>:finally</code> (if present) up to
			the matching <code>:endtry</code> are executed.  If the <code>:throw</code>
			is after the <code>:finally</code>, commands up to the <code>:endtry</code>
			are skipped.  At the <code>:endtry</code>, this process applies
			again for the next dynamically surrounding <code>:try</code>
			(which may be found in a calling function or sourcing
			script), until a matching <code>:catch</code> has been found.
			If the exception is not caught, the command processing
			is terminated.
			Example:<pre>:try | throw "oops" | catch /^oo/ | echo "caught" | endtry</pre></div>
<div class="old-help-para">			Note that "catch" may need to be on a separate line
			for when an error causes the parsing to skip the whole
			line and not see the "|" that separates the commands.</div>
<div class="old-help-para">							<code id="%3Aec" class="help-tag-right"><a href="#%3Aec">:ec</a></code> <code id="%3Aecho" class="help-tag"><a href="#%3Aecho">:echo</a></code>
:ec[ho] <code>{expr1}</code> ..	Echoes each <code>{expr1}</code>, with a space in between.  The
			first <code>{expr1}</code> starts on a new line.
			Also see <a href="cmdline.html#%3Acomment">:comment</a>.
			Use "\n" to start a new line.  Use "\r" to move the
			cursor to the first column.
			Uses the highlighting set by the <code>:echohl</code> command.
			Cannot be followed by a comment.
			Example:<pre>:echo "the value of 'shell' is" &amp;shell</pre></div>
<div class="old-help-para">							<code id="%3Aecho-redraw" class="help-tag-right"><a href="#%3Aecho-redraw">:echo-redraw</a></code>
			A later redraw may make the message disappear again.
			And since Vim mostly postpones redrawing until it's
			finished with a sequence of commands this happens
			quite often.  To avoid that a command from before the
			<code>:echo</code> causes a redraw afterwards (redraws are often
			postponed until you type something), force a redraw
			with the <code>:redraw</code> command.  Example:<pre>:new | redraw | echo "there is a new window"</pre></div>
<div class="old-help-para">							<code id="%3Aecho-self-refer" class="help-tag-right"><a href="#%3Aecho-self-refer">:echo-self-refer</a></code>
			When printing nested containers echo prints second
			occurrence of the self-referencing container using
			"[...@level]" (self-referencing <a href="eval.html#List">List</a>) or
			"{...@level}" (self-referencing <a href="eval.html#Dict">Dict</a>):<pre>:let l = []
:call add(l, l)
:let l2 = []
:call add(l2, [l2])
:echo l l2</pre></div>
<div class="old-help-para">			echoes "[[...@0]] [[[...@0]]]". Echoing "[l]" will
			echo "[[[...@1]]]" because l first occurs at second
			level.</div>
<div class="old-help-para">							<code id="%3Aechon" class="help-tag-right"><a href="#%3Aechon">:echon</a></code>
:echon <code>{expr1}</code> ..	Echoes each <code>{expr1}</code>, without anything added.  Also see
			<a href="cmdline.html#%3Acomment">:comment</a>.
			Uses the highlighting set by the <code>:echohl</code> command.
			Cannot be followed by a comment.
			Example:<pre>:echon "the value of 'shell' is " &amp;shell</pre></div>
<div class="old-help-para">			Note the difference between using <code>:echo</code>, which is a
			Vim command, and <code>:!echo</code>, which is an external shell
			command:<pre>:!echo %                --&gt; filename</pre></div>
<div class="old-help-para">			The arguments of ":!" are expanded, see <a href="cmdline.html#%3A_%25">:_%</a>.<pre>:!echo "%"                --&gt; filename or "filename"</pre></div>
<div class="old-help-para">			Like the previous example.  Whether you see the double
			quotes or not depends on your <a href="options.html#'shell'">'shell'</a>.<pre>:echo %                        --&gt; nothing</pre></div>
<div class="old-help-para">			The '%' is an illegal character in an expression.<pre>:echo "%"                --&gt; %</pre></div>
<div class="old-help-para">			This just echoes the '%' character.<pre>:echo expand("%")        --&gt; filename</pre></div>
<div class="old-help-para">			This calls the expand() function to expand the '%'.</div>
<div class="old-help-para">							<code id="%3Aechoh" class="help-tag-right"><a href="#%3Aechoh">:echoh</a></code> <code id="%3Aechohl" class="help-tag"><a href="#%3Aechohl">:echohl</a></code>
:echoh[l] <code>{name}</code>	Use the highlight group <code>{name}</code> for the following
			<code>:echo</code>, <code>:echon</code> and <code>:echomsg</code> commands.  Also used
			for the <code>input()</code> prompt.  Example:<pre>:echohl WarningMsg | echo "Don't panic!" | echohl None</pre></div>
<div class="old-help-para">			Don't forget to set the group back to "None",
			otherwise all following echo's will be highlighted.</div>
<div class="old-help-para">							<code id="%3Aechom" class="help-tag-right"><a href="#%3Aechom">:echom</a></code> <code id="%3Aechomsg" class="help-tag"><a href="#%3Aechomsg">:echomsg</a></code>
:echom[sg] <code>{expr1}</code> ..	Echo the expression(s) as a true message, saving the
			message in the <a href="message.html#message-history">message-history</a>.
			Spaces are placed between the arguments as with the
			<code>:echo</code> command.  But unprintable characters are
			displayed, not interpreted.
			The parsing works slightly different from <code>:echo</code>,
			more like <code>:execute</code>.  All the expressions are first
			evaluated and concatenated before echoing anything.
			If expressions does not evaluate to a Number or
			String, string() is used to turn it into a string.
			Uses the highlighting set by the <code>:echohl</code> command.
			Example:<pre>:echomsg "It's a Zizzer Zazzer Zuzz, as you can plainly see."</pre></div>
<div class="old-help-para">			See <a href="eval.html#%3Aecho-redraw">:echo-redraw</a> to avoid the message disappearing
			when the screen is redrawn.
							<code id="%3Aechoe" class="help-tag-right"><a href="#%3Aechoe">:echoe</a></code> <code id="%3Aechoerr" class="help-tag"><a href="#%3Aechoerr">:echoerr</a></code>
:echoe[rr] <code>{expr1}</code> ..	Echo the expression(s) as an error message, saving the
			message in the <a href="message.html#message-history">message-history</a>.  When used in a
			script or function the line number will be added.
			Spaces are placed between the arguments as with the
			<code>:echomsg</code> command.  When used inside a try conditional,
			the message is raised as an error exception instead
			(see <a href="eval.html#try-echoerr">try-echoerr</a>).
			Example:<pre>:echoerr "This script just failed!"</pre></div>
<div class="old-help-para">			If you just want a highlighted message use <code>:echohl</code>.
			And to get a beep:<pre>:exe "normal \&lt;Esc&gt;"</pre></div>
<div class="old-help-para">							<code id="%3Aeval" class="help-tag-right"><a href="#%3Aeval">:eval</a></code>
:eval <code>{expr}</code>		Evaluate <code>{expr}</code> and discard the result.  Example:<pre>:eval Getlist()-&gt;Filter()-&gt;append('$')</pre></div>
<div class="old-help-para">			The expression is supposed to have a side effect,
			since the resulting value is not used.  In the example
			the <code>append()</code> call appends the List with text to the
			buffer.  This is similar to <code>:call</code> but works with any
			expression.</div>
<div class="old-help-para">			The command can be shortened to <code>:ev</code> or <code>:eva</code>, but
			these are hard to recognize and therefore not to be
			used.</div>
<div class="old-help-para">			The command cannot be followed by "|" and another
			command, since "|" is seen as part of the expression.</div>
<div class="old-help-para">							<code id="%3Aexe" class="help-tag-right"><a href="#%3Aexe">:exe</a></code> <code id="%3Aexecute" class="help-tag"><a href="#%3Aexecute">:execute</a></code>
:exe[cute] <code>{expr1}</code> ..	Executes the string that results from the evaluation
			of <code>{expr1}</code> as an Ex command.
			Multiple arguments are concatenated, with a space in
			between.  To avoid the extra space use the ".."
			operator to concatenate strings into one argument.
			<code>{expr1}</code> is used as the processed command, command line
			editing keys are not recognized.
			Cannot be followed by a comment.
			Examples:<pre>:execute "buffer" nextbuf
:execute "normal" count .. "w"</pre></div>
<div class="old-help-para">			":execute" can be used to append a command to commands
			that don't accept a '|'.  Example:<pre>:execute '!ls' | echo "theend"</pre></div>
<div class="old-help-para">			":execute" is also a nice way to avoid having to type
			control characters in a Vim script for a ":normal"
			command:<pre>:execute "normal ixxx\&lt;Esc&gt;"</pre></div>
<div class="old-help-para">			This has an <code>&lt;Esc&gt;</code> character, see <a href="eval.html#expr-string">expr-string</a>.</div>
<div class="old-help-para">			Be careful to correctly escape special characters in
			file names.  The <a href="builtin.html#fnameescape()">fnameescape()</a> function can be used
			for Vim commands, <a href="builtin.html#shellescape()">shellescape()</a> for <a href="various.html#%3A%21">:!</a> commands.
			Examples:<pre>:execute "e " .. fnameescape(filename)
:execute "!ls " .. shellescape(filename, 1)</pre></div>
<div class="old-help-para"><a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+eval.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/eval.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%09%09%3Aexecute%20%22e%20%22%20..%20fnameescape(filename)%0A%09%09%3Aexecute%20%22%21ls%20%22%20..%20shellescape(filename%2C%201)%0A%3C%0A%09%09%09Note%3A%20The%20executed%20string%20may%20be%20any%20command-line%2C%20but%0A%09%09%09starting%20or%20ending%20%22if%22%2C%20%22while%22%20and%20%22for%22%20does%20not%0A%09%09%09always%20work%2C%20because%20when%20commands%20are%20skipped%20the%0A%09%09%09%22%3Aexecute%22%20is%20not%20evaluated%20and%20Vim%20loses%20track%20of%0D%60%60%60">Note:</a> The executed string may be any command-line, but
			starting or ending "if", "while" and "for" does not
			always work, because when commands are skipped the
			":execute" is not evaluated and Vim loses track of
			where blocks start and end.  Also "break" and
			"continue" should not be inside ":execute".
			This example does not work, because the ":execute" is
			not evaluated and Vim does not see the "while", and
			gives an error for finding an ":endwhile":<pre>:if 0
: execute 'while i &gt; 5'
:  echo "test"
: endwhile
:endif</pre></div>
<div class="old-help-para">			It is allowed to have a "while" or "if" command
			completely in the executed string:<pre>:execute 'while i &lt; 5 | echo i | let i = i + 1 | endwhile'</pre></div>
<div class="old-help-para">							<code id="%3Aexe-comment" class="help-tag-right"><a href="#%3Aexe-comment">:exe-comment</a></code>
			":execute", ":echo" and ":echon" cannot be followed by
			a comment directly, because they see the '"' as the
			start of a string.  But, you can use '|' followed by a
			comment.  Example:<pre>:echo "foo" | "this is a comment</pre>
<h2 id="exception-handling" class="help-heading">8. Exception handling<span class="help-heading-tags">					<span class="help-tag"><a href="#exception-handling">exception-handling</a></span></h2></div>
<div class="old-help-para">The Vim script language comprises an exception handling feature.  This section
explains how it can be used in a Vim script.</div>
<div class="old-help-para">Exceptions may be raised by Vim on an error or on interrupt, see
<a href="eval.html#catch-errors">catch-errors</a> and <a href="eval.html#catch-interrupt">catch-interrupt</a>.  You can also explicitly throw an
exception by using the ":throw" command, see <a href="eval.html#throw-catch">throw-catch</a>.</div>
<div class="old-help-para"><h3 id="try-conditionals" class="help-heading">TRY CONDITIONALS<span class="help-heading-tags">					<span class="help-tag"><a href="#try-conditionals">try-conditionals</a></span></h3></div>
<div class="old-help-para">Exceptions can be caught or can cause cleanup code to be executed.  You can
use a try conditional to specify catch clauses (that catch exceptions) and/or
a finally clause (to be executed for cleanup).
   A try conditional begins with a <a href="eval.html#%3Atry">:try</a> command and ends at the matching
<a href="eval.html#%3Aendtry">:endtry</a> command.  In between, you can use a <a href="eval.html#%3Acatch">:catch</a> command to start
a catch clause, or a <a href="eval.html#%3Afinally">:finally</a> command to start a finally clause.  There may
be none or multiple catch clauses, but there is at most one finally clause,
which must not be followed by any catch clauses.  The lines before the catch
clauses and the finally clause is called a try block.<pre>:try
:        ...
:        ...                                TRY BLOCK
:        ...
:catch /{pattern}/
:        ...
:        ...                                CATCH CLAUSE
:        ...
:catch /{pattern}/
:        ...
:        ...                                CATCH CLAUSE
:        ...
:finally
:        ...
:        ...                                FINALLY CLAUSE
:        ...
:endtry</pre>
The try conditional allows to watch code for exceptions and to take the
appropriate actions.  Exceptions from the try block may be caught.  Exceptions
from the try block and also the catch clauses may cause cleanup actions.
   When no exception is thrown during execution of the try block, the control
is transferred to the finally clause, if present.  After its execution, the
script continues with the line following the ":endtry".
   When an exception occurs during execution of the try block, the remaining
lines in the try block are skipped.  The exception is matched against the
patterns specified as arguments to the ":catch" commands.  The catch clause
after the first matching ":catch" is taken, other catch clauses are not
executed.  The catch clause ends when the next ":catch", ":finally", or
":endtry" command is reached - whatever is first.  Then, the finally clause
(if present) is executed.  When the ":endtry" is reached, the script execution
continues in the following line as usual.
   When an exception that does not match any of the patterns specified by the
":catch" commands is thrown in the try block, the exception is not caught by
that try conditional and none of the catch clauses is executed.  Only the
finally clause, if present, is taken.  The exception pends during execution of
the finally clause.  It is resumed at the ":endtry", so that commands after
the ":endtry" are not executed and the exception might be caught elsewhere,
see <a href="eval.html#try-nesting">try-nesting</a>.
   When during execution of a catch clause another exception is thrown, the
remaining lines in that catch clause are not executed.  The new exception is
not matched against the patterns in any of the ":catch" commands of the same
try conditional and none of its catch clauses is taken.  If there is, however,
a finally clause, it is executed, and the exception pends during its
execution.  The commands following the ":endtry" are not executed.  The new
exception might, however, be caught elsewhere, see <a href="eval.html#try-nesting">try-nesting</a>.
   When during execution of the finally clause (if present) an exception is
thrown, the remaining lines in the finally clause are skipped.  If the finally
clause has been taken because of an exception from the try block or one of the
catch clauses, the original (pending) exception is discarded.  The commands
following the ":endtry" are not executed, and the exception from the finally
clause is propagated and can be caught elsewhere, see <a href="eval.html#try-nesting">try-nesting</a>.</div>
<div class="old-help-para">The finally clause is also executed, when a ":break" or ":continue" for
a ":while" loop enclosing the complete try conditional is executed from the
try block or a catch clause.  Or when a ":return" or ":finish" is executed
from the try block or a catch clause of a try conditional in a function or
sourced script, respectively.  The ":break", ":continue", ":return", or
":finish" pends during execution of the finally clause and is resumed when the
":endtry" is reached.  It is, however, discarded when an exception is thrown
from the finally clause.
   When a ":break" or ":continue" for a ":while" loop enclosing the complete
try conditional or when a ":return" or ":finish" is encountered in the finally
clause, the rest of the finally clause is skipped, and the ":break",
":continue", ":return" or ":finish" is executed as usual.  If the finally
clause has been taken because of an exception or an earlier ":break",
":continue", ":return", or ":finish" from the try block or a catch clause,
this pending exception or command is discarded.</div>
<div class="old-help-para">For examples see <a href="eval.html#throw-catch">throw-catch</a> and <a href="eval.html#try-finally">try-finally</a>.</div>
<div class="old-help-para"><h3 id="try-nesting" class="help-heading">NESTING OF TRY CONDITIONALS<span class="help-heading-tags">				<span class="help-tag"><a href="#try-nesting">try-nesting</a></span></h3></div>
<div class="old-help-para">Try conditionals can be nested arbitrarily.  That is, a complete try
conditional can be put into the try block, a catch clause, or the finally
clause of another try conditional.  If the inner try conditional does not
catch an exception thrown in its try block or throws a new exception from one
of its catch clauses or its finally clause, the outer try conditional is
checked according to the rules above.  If the inner try conditional is in the
try block of the outer try conditional, its catch clauses are checked, but
otherwise only the finally clause is executed.  It does not matter for
nesting, whether the inner try conditional is directly contained in the outer
one, or whether the outer one sources a script or calls a function containing
the inner try conditional.</div>
<div class="old-help-para">When none of the active try conditionals catches an exception, just their
finally clauses are executed.  Thereafter, the script processing terminates.
An error message is displayed in case of an uncaught exception explicitly
thrown by a ":throw" command.  For uncaught error and interrupt exceptions
implicitly raised by Vim, the error message(s) or interrupt message are shown
as usual.</div>
<div class="old-help-para">For examples see <a href="eval.html#throw-catch">throw-catch</a>.</div>
<div class="old-help-para"><h3 id="except-examine" class="help-heading">EXAMINING EXCEPTION HANDLING CODE<span class="help-heading-tags">			<span class="help-tag"><a href="#except-examine">except-examine</a></span></h3></div>
<div class="old-help-para">Exception handling code can get tricky.  If you are in doubt what happens, set
<a href="options.html#'verbose'">'verbose'</a> to 13 or use the ":13verbose" command modifier when sourcing your
script file.  Then you see when an exception is thrown, discarded, caught, or
finished.  When using a verbosity level of at least 14, things pending in
a finally clause are also shown.  This information is also given in debug mode
(see <a href="repeat.html#debug-scripts">debug-scripts</a>).</div>
<div class="old-help-para"><h3 id="throw-catch" class="help-heading">THROWING AND CATCHING EXCEPTIONS<span class="help-heading-tags">			<span class="help-tag"><a href="#throw-catch">throw-catch</a></span></h3></div>
<div class="old-help-para">You can throw any number or string as an exception.  Use the <a href="eval.html#%3Athrow">:throw</a> command
and pass the value to be thrown as argument:<pre>:throw 4711
:throw "string"</pre></div>
<div class="old-help-para">							<code id="throw-expression" class="help-tag-right"><a href="#throw-expression">throw-expression</a></code>
You can also specify an expression argument.  The expression is then evaluated
first, and the result is thrown:<pre>:throw 4705 + strlen("string")
:throw strpart("strings", 0, 6)</pre>
An exception might be thrown during evaluation of the argument of the ":throw"
command.  Unless it is caught there, the expression evaluation is abandoned.
The ":throw" command then does not throw a new exception.
   Example:<pre>:function! Foo(arg)
:  try
:    throw a:arg
:  catch /foo/
:  endtry
:  return 1
:endfunction
:
:function! Bar()
:  echo "in Bar"
:  return 4710
:endfunction
:
:throw Foo("arrgh") + Bar()</pre>
This throws "arrgh", and "in Bar" is not displayed since Bar() is not
executed.<pre>:throw Foo("foo") + Bar()</pre>
however displays "in Bar" and throws 4711.</div>
<div class="old-help-para">Any other command that takes an expression as argument might also be
abandoned by an (uncaught) exception during the expression evaluation.  The
exception is then propagated to the caller of the command.
   Example:<pre>:if Foo("arrgh")
:  echo "then"
:else
:  echo "else"
:endif</pre>
Here neither of "then" or "else" is displayed.</div>
<div class="old-help-para">							<code id="catch-order" class="help-tag-right"><a href="#catch-order">catch-order</a></code>
Exceptions can be caught by a try conditional with one or more <a href="eval.html#%3Acatch">:catch</a>
commands, see <a href="eval.html#try-conditionals">try-conditionals</a>.   The values to be caught by each ":catch"
command can be specified as a pattern argument.  The subsequent catch clause
gets executed when a matching exception is caught.
   Example:<pre>:function! Foo(value)
:  try
:    throw a:value
:  catch /^\d\+$/
:    echo "Number thrown"
:  catch /.*/
:    echo "String thrown"
:  endtry
:endfunction
:
:call Foo(0x1267)
:call Foo('string')</pre>
The first call to Foo() displays "Number thrown", the second "String thrown".
An exception is matched against the ":catch" commands in the order they are
specified.  Only the first match counts.  So you should place the more
specific ":catch" first.  The following order does not make sense:<pre>:  catch /.*/
:    echo "String thrown"
:  catch /^\d\+$/
:    echo "Number thrown"</pre>
The first ":catch" here matches always, so that the second catch clause is
never taken.</div>
<div class="old-help-para">							<code id="throw-variables" class="help-tag-right"><a href="#throw-variables">throw-variables</a></code>
If you catch an exception by a general pattern, you may access the exact value
in the variable <a href="vvars.html#v%3Aexception">v:exception</a>:<pre>:  catch /^\d\+$/
:    echo "Number thrown.  Value is" v:exception</pre>
You may also be interested where an exception was thrown.  This is stored in
<a href="vvars.html#v%3Athrowpoint">v:throwpoint</a>.  Note that "v:exception" and "v:throwpoint" are valid for the
exception most recently caught as long it is not finished.
   Example:<pre>:function! Caught()
:  if v:exception != ""
:    echo 'Caught "' .. v:exception .. '" in ' .. v:throwpoint
:  else
:    echo 'Nothing caught'
:  endif
:endfunction
:
:function! Foo()
:  try
:    try
:      try
:         throw 4711
:      finally
:         call Caught()
:      endtry
:    catch /.*/
:      call Caught()
:      throw "oops"
:    endtry
:  catch /.*/
:    call Caught()
:  finally
:    call Caught()
:  endtry
:endfunction
:
:call Foo()</pre>
This displays<pre>Nothing caught
Caught "4711" in function Foo, line 4
Caught "oops" in function Foo, line 10
Nothing caught</pre>
A practical example:  The following command ":LineNumber" displays the line
number in the script or function where it has been used:<pre>:function! LineNumber()
:    return substitute(v:throwpoint, '.*\D\(\d\+\).*', '\1', "")
:endfunction
:command! LineNumber try | throw "" | catch | echo LineNumber() | endtry</pre></div>
<div class="old-help-para">							<code id="try-nested" class="help-tag-right"><a href="#try-nested">try-nested</a></code>
An exception that is not caught by a try conditional can be caught by
a surrounding try conditional:<pre>:try
:  try
:    throw "foo"
:  catch /foobar/
:    echo "foobar"
:  finally
:    echo "inner finally"
:  endtry
:catch /foo/
:  echo "foo"
:endtry</pre>
The inner try conditional does not catch the exception, just its finally
clause is executed.  The exception is then caught by the outer try
conditional.  The example displays "inner finally" and then "foo".</div>
<div class="old-help-para">							<code id="throw-from-catch" class="help-tag-right"><a href="#throw-from-catch">throw-from-catch</a></code>
You can catch an exception and throw a new one to be caught elsewhere from the
catch clause:<pre>:function! Foo()
:  throw "foo"
:endfunction
:
:function! Bar()
:  try
:    call Foo()
:  catch /foo/
:    echo "Caught foo, throw bar"
:    throw "bar"
:  endtry
:endfunction
:
:try
:  call Bar()
:catch /.*/
:  echo "Caught" v:exception
:endtry</pre>
This displays "Caught foo, throw bar" and then "Caught bar".</div>
<div class="old-help-para">							<code id="rethrow" class="help-tag-right"><a href="#rethrow">rethrow</a></code>
There is no real rethrow in the Vim script language, but you may throw
"v:exception" instead:<pre>:function! Bar()
:  try
:    call Foo()
:  catch /.*/
:    echo "Rethrow" v:exception
:    throw v:exception
:  endtry
:endfunction</pre></div>
<div class="old-help-para">							<code id="try-echoerr" class="help-tag-right"><a href="#try-echoerr">try-echoerr</a></code>
Note that this method cannot be used to "rethrow" Vim error or interrupt
exceptions, because it is not possible to fake Vim internal exceptions.
Trying so causes an error exception.  You should throw your own exception
denoting the situation.  If you want to cause a Vim error exception containing
the original error exception value, you can use the <a href="eval.html#%3Aechoerr">:echoerr</a> command:<pre>:try
:  try
:    asdf
:  catch /.*/
:    echoerr v:exception
:  endtry
:catch /.*/
:  echo v:exception
:endtry</pre>
This code displays</div>
<div class="old-help-para"><div class="help-column_heading">	Vim(echoerr):Vim:E492: Not an editor command:	asdf</div></div>
<div class="old-help-para"><h3 id="try-finally" class="help-heading">CLEANUP CODE<span class="help-heading-tags">						<span class="help-tag"><a href="#try-finally">try-finally</a></span></h3></div>
<div class="old-help-para">Scripts often change global settings and restore them at their end.  If the
user however interrupts the script by pressing <code>CTRL-C</code>, the settings remain in
an inconsistent state.  The same may happen to you in the development phase of
a script when an error occurs or you explicitly throw an exception without
catching it.  You can solve these problems by using a try conditional with
a finally clause for restoring the settings.  Its execution is guaranteed on
normal control flow, on error, on an explicit ":throw", and on interrupt.
(Note that errors and interrupts from inside the try conditional are converted
to exceptions.  When not caught, they terminate the script after the finally
clause has been executed.)
Example:<pre>:try
:  let s:saved_ts = &amp;ts
:  set ts=17
:
:  " Do the hard work here.
:
:finally
:  let &amp;ts = s:saved_ts
:  unlet s:saved_ts
:endtry</pre>
This method should be used locally whenever a function or part of a script
changes global settings which need to be restored on failure or normal exit of
that function or script part.</div>
<div class="old-help-para">							<code id="break-finally" class="help-tag-right"><a href="#break-finally">break-finally</a></code>
Cleanup code works also when the try block or a catch clause is left by
a ":continue", ":break", ":return", or ":finish".
   Example:<pre>:let first = 1
:while 1
:  try
:    if first
:      echo "first"
:      let first = 0
:      continue
:    else
:      throw "second"
:    endif
:  catch /.*/
:    echo v:exception
:    break
:  finally
:    echo "cleanup"
:  endtry
:  echo "still in while"
:endwhile
:echo "end"</pre>
This displays "first", "cleanup", "second", "cleanup", and "end".<pre>:function! Foo()
:  try
:    return 4711
:  finally
:    echo "cleanup\n"
:  endtry
:  echo "Foo still active"
:endfunction
:
:echo Foo() "returned by Foo"</pre>
This displays "cleanup" and "4711 returned by Foo".  You don't need to add an
extra ":return" in the finally clause.  (Above all, this would override the
return value.)</div>
<div class="old-help-para">							<code id="except-from-finally" class="help-tag-right"><a href="#except-from-finally">except-from-finally</a></code>
Using either of ":continue", ":break", ":return", ":finish", or ":throw" in
a finally clause is possible, but not recommended since it abandons the
cleanup actions for the try conditional.  But, of course, interrupt and error
exceptions might get raised from a finally clause.
   Example where an error in the finally clause stops an interrupt from
working correctly:<pre>:try
:  try
:    echo "Press CTRL-C for interrupt"
:    while 1
:    endwhile
:  finally
:    unlet novar
:  endtry
:catch /novar/
:endtry
:echo "Script still running"
:sleep 1</pre>
If you need to put commands that could fail into a finally clause, you should
think about catching or ignoring the errors in these commands, see
<a href="eval.html#catch-errors">catch-errors</a> and <a href="eval.html#ignore-errors">ignore-errors</a>.</div>
<div class="old-help-para"><h3 id="catch-errors" class="help-heading">CATCHING ERRORS<span class="help-heading-tags">						<span class="help-tag"><a href="#catch-errors">catch-errors</a></span></h3></div>
<div class="old-help-para">If you want to catch specific errors, you just have to put the code to be
watched in a try block and add a catch clause for the error message.  The
presence of the try conditional causes all errors to be converted to an
exception.  No message is displayed and <a href="vvars.html#v%3Aerrmsg">v:errmsg</a> is not set then.  To find
the right pattern for the ":catch" command, you have to know how the format of
the error exception is.
   Error exceptions have the following format:<pre>Vim({cmdname}):{errmsg}</pre>
or<pre>Vim:{errmsg}</pre>
<code>{cmdname}</code> is the name of the command that failed; the second form is used when
the command name is not known.  <code>{errmsg}</code> is the error message usually produced
when the error occurs outside try conditionals.  It always begins with
a capital "E", followed by a two or three-digit error number, a colon, and
a space.</div>
<div class="old-help-para">Examples:</div>
<div class="old-help-para">The command<pre>:unlet novar</pre>
normally produces the error message<pre>E108: No such variable: "novar"</pre>
which is converted inside try conditionals to an exception<pre>Vim(unlet):E108: No such variable: "novar"</pre>
The command<pre>:dwim</pre>
normally produces the error message<pre>E492: Not an editor command: dwim</pre>
which is converted inside try conditionals to an exception<pre>Vim:E492: Not an editor command: dwim</pre>
You can catch all ":unlet" errors by a<pre>:catch /^Vim(unlet):/</pre>
or all errors for misspelled command names by a<pre>:catch /^Vim:E492:/</pre>
Some error messages may be produced by different commands:<pre>:function nofunc</pre>
and<pre>:delfunction nofunc</pre>
both produce the error message<pre>E128: Function name must start with a capital: nofunc</pre>
which is converted inside try conditionals to an exception<pre>Vim(function):E128: Function name must start with a capital: nofunc</pre>
or<pre>Vim(delfunction):E128: Function name must start with a capital: nofunc</pre>
respectively.  You can catch the error by its number independently on the
command that caused it if you use the following pattern:<pre>:catch /^Vim(\a\+):E128:/</pre>
Some commands like<pre>:let x = novar</pre>
produce multiple error messages, here:<pre>E121: Undefined variable: novar
E15: Invalid expression:  novar</pre>
Only the first is used for the exception value, since it is the most specific
one (see <a href="eval.html#except-several-errors">except-several-errors</a>).  So you can catch it by<pre>:catch /^Vim(\a\+):E121:/</pre>
You can catch all errors related to the name "nofunc" by<pre>:catch /\&lt;nofunc\&gt;/</pre>
You can catch all Vim errors in the ":write" and ":read" commands by<pre>:catch /^Vim(\(write\|read\)):E\d\+:/</pre>
You can catch all Vim errors by the pattern<pre>:catch /^Vim\((\a\+)\)\=:E\d\+:/</pre></div>
<div class="old-help-para">							<code id="catch-text" class="help-tag-right"><a href="#catch-text">catch-text</a></code>
<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+eval.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/eval.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%09%3Acatch%20%2F%5EVim%5C((%5Ca%5C%2B)%5C)%5C%3D%3AE%5Cd%5C%2B%3A%2F%0A%3C%0A%09%09%09%09%09%09%09%2Acatch-text%2A%0ANOTE%3A%20You%20should%20never%20catch%20the%20error%20message%20text%20itself%3A%20%3E%0A%09%3Acatch%20%2FNo%20such%20variable%2F%0Aonly%20works%20in%20the%20English%20locale%2C%20but%20not%20when%20the%20user%20has%20selected%0Aa%20different%20language%20by%20the%20%7C%3Alanguage%7C%20command.%20%20It%20is%20however%20helpful%20to%0D%60%60%60">NOTE:</a> You should never catch the error message text itself:<pre>:catch /No such variable/</pre>
only works in the English locale, but not when the user has selected
a different language by the <a href="mlang.html#%3Alanguage">:language</a> command.  It is however helpful to
cite the message text in a comment:<pre>:catch /^Vim(\a\+):E108:/   " No such variable</pre>
<h3 id="ignore-errors" class="help-heading">IGNORING ERRORS<span class="help-heading-tags">						<span class="help-tag"><a href="#ignore-errors">ignore-errors</a></span></h3></div>
<div class="old-help-para">You can ignore errors in a specific Vim command by catching them locally:<pre>:try
:  write
:catch
:endtry</pre>
But you are strongly recommended NOT to use this simple form, since it could
catch more than you want.  With the ":write" command, some autocommands could
be executed and cause errors not related to writing, for instance:<pre>:au BufWritePre * unlet novar</pre>
There could even be such errors you are not responsible for as a script
writer: a user of your script might have defined such autocommands.  You would
then hide the error from the user.
   It is much better to use<pre>:try
:  write
:catch /^Vim(write):/
:endtry</pre>
which only catches real write errors.  So catch only what you'd like to ignore
intentionally.</div>
<div class="old-help-para">For a single command that does not cause execution of autocommands, you could
even suppress the conversion of errors to exceptions by the ":silent!"
command:<pre>:silent! nunmap k</pre>
This works also when a try conditional is active.</div>
<div class="old-help-para"><h3 id="catch-interrupt" class="help-heading">CATCHING INTERRUPTS<span class="help-heading-tags">					<span class="help-tag"><a href="#catch-interrupt">catch-interrupt</a></span></h3></div>
<div class="old-help-para">When there are active try conditionals, an interrupt (<code>CTRL-C</code>) is converted to
the exception "Vim:Interrupt".  You can catch it like every exception.  The
script is not terminated, then.
   Example:<pre>:function! TASK1()
:  sleep 10
:endfunction
:function! TASK2()
:  sleep 20
:endfunction
:while 1
:  let command = input("Type a command: ")
:  try
:    if command == ""
:      continue
:    elseif command == "END"
:      break
:    elseif command == "TASK1"
:      call TASK1()
:    elseif command == "TASK2"
:      call TASK2()
:    else
:      echo "\nIllegal command:" command
:      continue
:    endif
:  catch /^Vim:Interrupt$/
:    echo "\nCommand interrupted"
:    " Caught the interrupt.  Continue with next prompt.
:  endtry
:endwhile</pre>
You can interrupt a task here by pressing <code>CTRL-C</code>; the script then asks for
a new command.  If you press <code>CTRL-C</code> at the prompt, the script is terminated.</div>
<div class="old-help-para">For testing what happens when <code>CTRL-C</code> would be pressed on a specific line in
your script, use the debug mode and execute the <a href="repeat.html#%3Equit">&gt;quit</a> or <a href="repeat.html#%3Einterrupt">&gt;interrupt</a>
command on that line.  See <a href="repeat.html#debug-scripts">debug-scripts</a>.</div>
<div class="old-help-para"><h3 id="catch-all" class="help-heading">CATCHING ALL<span class="help-heading-tags">						<span class="help-tag"><a href="#catch-all">catch-all</a></span></h3></div>
<div class="old-help-para">The commands<pre>:catch /.*/
:catch //
:catch</pre>
catch everything, error exceptions, interrupt exceptions and exceptions
explicitly thrown by the <a href="eval.html#%3Athrow">:throw</a> command.  This is useful at the top level of
a script in order to catch unexpected things.
   Example:<pre>:try
:
:  " do the hard work here
:
:catch /MyException/
:
:  " handle known problem
:
:catch /^Vim:Interrupt$/
:    echo "Script interrupted"
:catch /.*/
:  echo "Internal error (" .. v:exception .. ")"
:  echo " - occurred at " .. v:throwpoint
:endtry
:" end of script</pre>
<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+eval.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/eval.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%09%3Aendtry%0A%09%3A%22%20end%20of%20script%0A%0ANote%3A%20Catching%20all%20might%20catch%20more%20things%20than%20you%20want.%20%20Thus%2C%20you%20are%0Astrongly%20encouraged%20to%20catch%20only%20for%20problems%20that%20you%20can%20really%20handle%20by%0Aspecifying%20a%20pattern%20argument%20to%20the%20%22%3Acatch%22.%0A%20%20%20Example%3A%20Catching%20all%20could%20make%20it%20nearly%20impossible%20to%20interrupt%20a%20script%0D%60%60%60">Note:</a> Catching all might catch more things than you want.  Thus, you are
strongly encouraged to catch only for problems that you can really handle by
specifying a pattern argument to the ":catch".
   Example: Catching all could make it nearly impossible to interrupt a script
by pressing <code>CTRL-C</code>:<pre>:while 1
:  try
:    sleep 1
:  catch
:  endtry
:endwhile</pre>
<h3 id="except-autocmd" class="help-heading">EXCEPTIONS AND AUTOCOMMANDS<span class="help-heading-tags">				<span class="help-tag"><a href="#except-autocmd">except-autocmd</a></span></h3></div>
<div class="old-help-para">Exceptions may be used during execution of autocommands.  Example:<pre>:autocmd User x try
:autocmd User x   throw "Oops!"
:autocmd User x catch
:autocmd User x   echo v:exception
:autocmd User x endtry
:autocmd User x throw "Arrgh!"
:autocmd User x echo "Should not be displayed"
:
:try
:  doautocmd User x
:catch
:  echo v:exception
:endtry</pre>
This displays "Oops!" and "Arrgh!".</div>
<div class="old-help-para">							<code id="except-autocmd-Pre" class="help-tag-right"><a href="#except-autocmd-Pre">except-autocmd-Pre</a></code>
For some commands, autocommands get executed before the main action of the
command takes place.  If an exception is thrown and not caught in the sequence
of autocommands, the sequence and the command that caused its execution are
abandoned and the exception is propagated to the caller of the command.
   Example:<pre>:autocmd BufWritePre * throw "FAIL"
:autocmd BufWritePre * echo "Should not be displayed"
:
:try
:  write
:catch
:  echo "Caught:" v:exception "from" v:throwpoint
:endtry</pre>
Here, the ":write" command does not write the file currently being edited (as
you can see by checking <a href="options.html#'modified'">'modified'</a>), since the exception from the BufWritePre
autocommand abandons the ":write".  The exception is then caught and the
script displays:<pre>Caught: FAIL from BufWrite Auto commands for "*"</pre></div>
<div class="old-help-para">							<code id="except-autocmd-Post" class="help-tag-right"><a href="#except-autocmd-Post">except-autocmd-Post</a></code>
For some commands, autocommands get executed after the main action of the
command has taken place.  If this main action fails and the command is inside
an active try conditional, the autocommands are skipped and an error exception
is thrown that can be caught by the caller of the command.
   Example:<pre>:autocmd BufWritePost * echo "File successfully written!"
:
:try
:  write /i/m/p/o/s/s/i/b/l/e
:catch
:  echo v:exception
:endtry</pre>
This just displays:<pre>Vim(write):E212: Can't open file for writing (/i/m/p/o/s/s/i/b/l/e)</pre>
If you really need to execute the autocommands even when the main action
fails, trigger the event from the catch clause.
   Example:<pre>:autocmd BufWritePre  * set noreadonly
:autocmd BufWritePost * set readonly
:
:try
:  write /i/m/p/o/s/s/i/b/l/e
:catch
:  doautocmd BufWritePost /i/m/p/o/s/s/i/b/l/e
:endtry</pre></div>
<div class="old-help-para">You can also use ":silent!":<pre>:let x = "ok"
:let v:errmsg = ""
:autocmd BufWritePost * if v:errmsg != ""
:autocmd BufWritePost *   let x = "after fail"
:autocmd BufWritePost * endif
:try
:  silent! write /i/m/p/o/s/s/i/b/l/e
:catch
:endtry
:echo x</pre>
This displays "after fail".</div>
<div class="old-help-para">If the main action of the command does not fail, exceptions from the
autocommands will be catchable by the caller of the command:<pre>:autocmd BufWritePost * throw ":-("
:autocmd BufWritePost * echo "Should not be displayed"
:
:try
:  write
:catch
:  echo v:exception
:endtry</pre></div>
<div class="old-help-para">							<code id="except-autocmd-Cmd" class="help-tag-right"><a href="#except-autocmd-Cmd">except-autocmd-Cmd</a></code>
For some commands, the normal action can be replaced by a sequence of
autocommands.  Exceptions from that sequence will be catchable by the caller
of the command.
   Example:  For the ":write" command, the caller cannot know whether the file
had actually been written when the exception occurred.  You need to tell it in
some way.<pre>:if !exists("cnt")
:  let cnt = 0
:
:  autocmd BufWriteCmd * if &amp;modified
:  autocmd BufWriteCmd *   let cnt = cnt + 1
:  autocmd BufWriteCmd *   if cnt % 3 == 2
:  autocmd BufWriteCmd *     throw "BufWriteCmdError"
:  autocmd BufWriteCmd *   endif
:  autocmd BufWriteCmd *   write | set nomodified
:  autocmd BufWriteCmd *   if cnt % 3 == 0
:  autocmd BufWriteCmd *     throw "BufWriteCmdError"
:  autocmd BufWriteCmd *   endif
:  autocmd BufWriteCmd *   echo "File successfully written!"
:  autocmd BufWriteCmd * endif
:endif
:
:try
:        write
:catch /^BufWriteCmdError$/
:  if &amp;modified
:    echo "Error on writing (file contents not changed)"
:  else
:    echo "Error after writing"
:  endif
:catch /^Vim(write):/
:    echo "Error on writing"
:endtry</pre>
When this script is sourced several times after making changes, it displays
first<pre>File successfully written!</pre>
then<pre>Error on writing (file contents not changed)</pre>
then<pre>Error after writing</pre>
etc.</div>
<div class="old-help-para">							<code id="except-autocmd-ill" class="help-tag-right"><a href="#except-autocmd-ill">except-autocmd-ill</a></code>
You cannot spread a try conditional over autocommands for different events.
The following code is ill-formed:<pre>:autocmd BufWritePre  * try
:
:autocmd BufWritePost * catch
:autocmd BufWritePost *   echo v:exception
:autocmd BufWritePost * endtry
:
:write</pre>
<h3 id="except-hier-param" class="help-heading">EXCEPTION HIERARCHIES AND PARAMETERIZED EXCEPTIONS<span class="help-heading-tags">	<span class="help-tag"><a href="#except-hier-param">except-hier-param</a></span></h3></div>
<div class="old-help-para">Some programming languages allow to use hierarchies of exception classes or to
pass additional information with the object of an exception class.  You can do
similar things in Vim.
   In order to throw an exception from a hierarchy, just throw the complete
class name with the components separated by a colon, for instance throw the
string "EXCEPT:MATHERR:OVERFLOW" for an overflow in a mathematical library.
   When you want to pass additional information with your exception class, add
it in parentheses, for instance throw the string "EXCEPT:IO:WRITEERR(myfile)"
for an error when writing "myfile".
   With the appropriate patterns in the ":catch" command, you can catch for
base classes or derived classes of your hierarchy.  Additional information in
parentheses can be cut out from <a href="vvars.html#v%3Aexception">v:exception</a> with the ":substitute" command.
   Example:<pre>:function! CheckRange(a, func)
:  if a:a &lt; 0
:    throw "EXCEPT:MATHERR:RANGE(" .. a:func .. ")"
:  endif
:endfunction
:
:function! Add(a, b)
:  call CheckRange(a:a, "Add")
:  call CheckRange(a:b, "Add")
:  let c = a:a + a:b
:  if c &lt; 0
:    throw "EXCEPT:MATHERR:OVERFLOW"
:  endif
:  return c
:endfunction
:
:function! Div(a, b)
:  call CheckRange(a:a, "Div")
:  call CheckRange(a:b, "Div")
:  if (a:b == 0)
:    throw "EXCEPT:MATHERR:ZERODIV"
:  endif
:  return a:a / a:b
:endfunction
:
:function! Write(file)
:  try
:    execute "write" fnameescape(a:file)
:  catch /^Vim(write):/
:    throw "EXCEPT:IO(" .. getcwd() .. ", " .. a:file .. "):WRITEERR"
:  endtry
:endfunction
:
:try
:
:  " something with arithmetic and I/O
:
:catch /^EXCEPT:MATHERR:RANGE/
:  let function = substitute(v:exception, '.*(\(\a\+\)).*', '\1', "")
:  echo "Range error in" function
:
:catch /^EXCEPT:MATHERR/        " catches OVERFLOW and ZERODIV
:  echo "Math error"
:
:catch /^EXCEPT:IO/
:  let dir = substitute(v:exception, '.*(\(.\+\),\s*.\+).*', '\1', "")
:  let file = substitute(v:exception, '.*(.\+,\s*\(.\+\)).*', '\1', "")
:  if file !~ '^/'
:    let file = dir .. "/" .. file
:  endif
:  echo 'I/O error for "' .. file .. '"'
:
:catch /^EXCEPT/
:  echo "Unspecified error"
:
:endtry</pre>
The exceptions raised by Vim itself (on error or when pressing <code>CTRL-C</code>) use
a flat hierarchy:  they are all in the "Vim" class.  You cannot throw yourself
exceptions with the "Vim" prefix; they are reserved for Vim.
   Vim error exceptions are parameterized with the name of the command that
failed, if known.  See <a href="eval.html#catch-errors">catch-errors</a>.</div>
<div class="old-help-para"><h3 id="_peculiarities" class="help-heading">PECULIARITIES</h3>							<code id="except-compat" class="help-tag-right"><a href="#except-compat">except-compat</a></code>
The exception handling concept requires that the command sequence causing the
exception is aborted immediately and control is transferred to finally clauses
and/or a catch clause.</div>
<div class="old-help-para">In the Vim script language there are cases where scripts and functions
continue after an error: in functions without the "abort" flag or in a command
after ":silent!", control flow goes to the following line, and outside
functions, control flow goes to the line following the outermost ":endwhile"
or ":endif".  On the other hand, errors should be catchable as exceptions
(thus, requiring the immediate abortion).</div>
<div class="old-help-para">This problem has been solved by converting errors to exceptions and using
immediate abortion (if not suppressed by ":silent!") only when a try
conditional is active.  This is no restriction since an (error) exception can
be caught only from an active try conditional.  If you want an immediate
termination without catching the error, just use a try conditional without
catch clause.  (You can cause cleanup code being executed before termination
by specifying a finally clause.)</div>
<div class="old-help-para">When no try conditional is active, the usual abortion and continuation
behavior is used instead of immediate abortion.  This ensures compatibility of
scripts written for Vim 6.1 and earlier.</div>
<div class="old-help-para">However, when sourcing an existing script that does not use exception handling
commands (or when calling one of its functions) from inside an active try
conditional of a new script, you might change the control flow of the existing
script on error.  You get the immediate abortion on error and can catch the
error in the new script.  If however the sourced script suppresses error
messages by using the ":silent!" command (checking for errors by testing
<a href="vvars.html#v%3Aerrmsg">v:errmsg</a> if appropriate), its execution path is not changed.  The error is
not converted to an exception.  (See <a href="various.html#%3Asilent">:silent</a>.)  So the only remaining cause
where this happens is for scripts that don't care about errors and produce
error messages.  You probably won't want to use such code from your new
scripts.</div>
<div class="old-help-para">							<code id="except-syntax-err" class="help-tag-right"><a href="#except-syntax-err">except-syntax-err</a></code>
Syntax errors in the exception handling commands are never caught by any of
the ":catch" commands of the try conditional they belong to.  Its finally
clauses, however, is executed.
   Example:<pre>:try
:  try
:    throw 4711
:  catch /\(/
:    echo "in catch with syntax error"
:  catch
:    echo "inner catch-all"
:  finally
:    echo "inner finally"
:  endtry
:catch
:  echo 'outer catch-all caught "' .. v:exception .. '"'
:  finally
:    echo "outer finally"
:endtry</pre>
This displays:<pre>inner finally
outer catch-all caught "Vim(catch):E54: Unmatched \("
outer finally</pre>
The original exception is discarded and an error exception is raised, instead.</div>
<div class="old-help-para">							<code id="except-single-line" class="help-tag-right"><a href="#except-single-line">except-single-line</a></code>
The ":try", ":catch", ":finally", and ":endtry" commands can be put on
a single line, but then syntax errors may make it difficult to recognize the
"catch" line, thus you better avoid this.
   Example:<pre>:try | unlet! foo # | catch | endtry</pre>
raises an error exception for the trailing characters after the ":unlet!"
argument, but does not see the ":catch" and ":endtry" commands, so that the
error exception is discarded and the "E488: Trailing characters" message gets
displayed.</div>
<div class="old-help-para">							<code id="except-several-errors" class="help-tag-right"><a href="#except-several-errors">except-several-errors</a></code>
When several errors appear in a single command, the first error message is
usually the most specific one and therefore converted to the error exception.
   Example:<pre>echo novar</pre>
causes<pre>E121: Undefined variable: novar
E15: Invalid expression: novar</pre>
The value of the error exception inside try conditionals is:<pre>Vim(echo):E121: Undefined variable: novar</pre></div>
<div class="old-help-para">							<code id="except-syntax-error" class="help-tag-right"><a href="#except-syntax-error">except-syntax-error</a></code>
But when a syntax error is detected after a normal error in the same command,
the syntax error is used for the exception being thrown.
   Example:<pre>unlet novar #</pre>
causes<pre>E108: No such variable: "novar"
E488: Trailing characters</pre>
The value of the error exception inside try conditionals is:<pre>Vim(unlet):E488: Trailing characters</pre>
This is done because the syntax error might change the execution path in a way
not intended by the user.  Example:<pre>try
    try | unlet novar # | catch | echo v:exception | endtry
catch /.*/
    echo "outer catch:" v:exception
endtry</pre>
This displays "outer catch: Vim(unlet):E488: Trailing characters", and then
a "E600: Missing :endtry" error message is given, see <a href="eval.html#except-single-line">except-single-line</a>.</div>
<div class="old-help-para"><h2 id="eval-examples" class="help-heading">9. Examples<span class="help-heading-tags">						<span class="help-tag"><a href="#eval-examples">eval-examples</a></span></h2></div>
<div class="old-help-para"><div class="help-column_heading">Printing in Binary</div><pre>:" The function Nr2Bin() returns the binary string representation of a number.
:func Nr2Bin(nr)
:  let n = a:nr
:  let r = ""
:  while n
:    let r = '01'[n % 2] .. r
:    let n = n / 2
:  endwhile
:  return r
:endfunc
:" The function String2Bin() converts each character in a string to a
:" binary string, separated with dashes.
:func String2Bin(str)
:  let out = ''
:  for ix in range(strlen(a:str))
:    let out = out .. '-' .. Nr2Bin(char2nr(a:str[ix]))
:  endfor
:  return out[1:]
:endfunc</pre>
Example of its use:<pre>:echo Nr2Bin(32)</pre>
result: "100000"<pre>:echo String2Bin("32")</pre>
result: "110011-110010"</div>
<div class="old-help-para"><div class="help-column_heading">Sorting lines</div></div>
<div class="old-help-para">This example sorts lines with a specific compare function.<pre>:func SortBuffer()
:  let lines = getline(1, '$')
:  call sort(lines, function("Strcmp"))
:  call setline(1, lines)
:endfunction</pre>
As a one-liner:<pre>:call setline(1, sort(getline(1, '$'), function("Strcmp")))</pre></div>
<div class="old-help-para"><div class="help-column_heading">scanf() replacement</div>							<code id="sscanf" class="help-tag-right"><a href="#sscanf">sscanf</a></code>
There is no sscanf() function in Vim.  If you need to extract parts from a
line, you can use matchstr() and substitute() to do it.  This example shows
how to get the file name, line number and column number out of a line like
"foobar.txt, 123, 45".<pre>:" Set up the match bit
:let mx='\(\f\+\),\s*\(\d\+\),\s*\(\d\+\)'
:"get the part matching the whole expression
:let l = matchstr(line, mx)
:"get each item out of the match
:let file = substitute(l, mx, '\1', '')
:let lnum = substitute(l, mx, '\2', '')
:let col = substitute(l, mx, '\3', '')</pre>
The input is in the variable "line", the results in the variables "file",
"lnum" and "col". (idea from Michael Geddes)</div>
<div class="old-help-para"><div class="help-column_heading">getting the scriptnames in a Dictionary</div>						<code id="scriptnames-dictionary" class="help-tag-right"><a href="#scriptnames-dictionary">scriptnames-dictionary</a></code>
The <code>:scriptnames</code> command can be used to get a list of all script files that
have been sourced.  There is also the <code>getscriptinfo()</code> function, but the
information returned is not exactly the same.  In case you need to manipulate
the output of <code>scriptnames</code> this code can be used:<pre>" Get the output of ":scriptnames" in the scriptnames_output variable.
let scriptnames_output = ''
redir =&gt; scriptnames_output
silent scriptnames
redir END
" Split the output into lines and parse each line.        Add an entry to the
" "scripts" dictionary.
let scripts = {}
for line in split(scriptnames_output, "\n")
  " Only do non-blank lines.
  if line =~ '\S'
    " Get the first number in the line.
    let nr = matchstr(line, '\d\+')
    " Get the file name, remove the script number " 123: ".
    let name = substitute(line, '.\+:\s*', '', '')
    " Add an item to the Dictionary
    let scripts[nr] = name
  endif
endfor
unlet scriptnames_output</pre>
<h2 id="eval-sandbox" class="help-heading">The sandbox<span class="help-heading-tags">					<span class="help-tag"><a href="#eval-sandbox">eval-sandbox</a></span> <span id="sandbox" class="help-tag"><a href="#sandbox">sandbox</a></span></span></h2></div>
<div class="old-help-para">The <a href="options.html#'foldexpr'">'foldexpr'</a>, <a href="options.html#'formatexpr'">'formatexpr'</a>, <a href="options.html#'includeexpr'">'includeexpr'</a>, <a href="options.html#'indentexpr'">'indentexpr'</a>, <a href="options.html#'statusline'">'statusline'</a> and
<a href="options.html#'foldtext'">'foldtext'</a> options may be evaluated in a sandbox.  This means that you are
protected from these expressions having nasty side effects.  This gives some
safety for when these options are set from a modeline.  It is also used when
the command from a tags file is executed and for <code>CTRL-R</code> = in the command line.
The sandbox is also used for the <a href="eval.html#%3Asandbox">:sandbox</a> command.</div>
<div class="old-help-para">								<code id="E48" class="help-tag-right"><a href="#E48">E48</a></code>
These items are not allowed in the sandbox:
<div class="help-li" style=""> changing the buffer text
</div><div class="help-li" style=""> defining or changing mapping, autocommands, user commands
</div><div class="help-li" style=""> setting certain options (see <a href="options.html#option-summary">option-summary</a>)
</div><div class="help-li" style=""> setting certain v: variables (see <a href="eval.html#v%3Avar">v:var</a>)  <code id="E794" class="help-tag"><a href="#E794">E794</a></code>
</div><div class="help-li" style=""> executing a shell command
</div><div class="help-li" style=""> reading or writing a file
</div><div class="help-li" style=""> jumping to another buffer or editing a file
</div><div class="help-li" style=""> executing Python, Perl, etc. commands
This is not guaranteed 100% secure, but it should block most attacks.
</div></div>
<div class="old-help-para">							<code id="%3Asan" class="help-tag-right"><a href="#%3Asan">:san</a></code> <code id="%3Asandbox" class="help-tag"><a href="#%3Asandbox">:sandbox</a></code>
:san[dbox] <code>{cmd}</code>	Execute <code>{cmd}</code> in the sandbox.  Useful to evaluate an
			option that may have been set from a modeline, e.g.
			<a href="options.html#'foldexpr'">'foldexpr'</a>.</div>
<div class="old-help-para">							<code id="sandbox-option" class="help-tag-right"><a href="#sandbox-option">sandbox-option</a></code>
A few options contain an expression.  When this expression is evaluated it may
have to be done in the sandbox to avoid a security risk.  But the sandbox is
restrictive, thus this only happens when the option was set from an insecure
location.  Insecure in this context are:
<div class="help-li" style=""> sourcing a .nvimrc or .exrc in the current directory
</div><div class="help-li" style=""> while executing in the sandbox
</div><div class="help-li" style=""> value coming from a modeline
</div><div class="help-li" style=""> executing a function that was defined in the sandbox
</div></div>
<div class="old-help-para">Note that when in the sandbox and saving an option value and restoring it, the
option will still be marked as it was set in the sandbox.</div>
<div class="old-help-para"><h2 id="textlock" class="help-heading">Textlock<span class="help-heading-tags">							<span class="help-tag"><a href="#textlock">textlock</a></span></h2></div>
<div class="old-help-para">In a few situations it is not allowed to change the text in the buffer, jump
to another window and some other things that might confuse or break what Vim
is currently doing.  This mostly applies to things that happen when Vim is
actually doing something else.  For example, a TextYankPost autocommand cannot
edit the text it is yanking.</div>
<div class="old-help-para">This is not allowed when the textlock is active:
<div class="help-li" style=""> changing the buffer text
</div><div class="help-li" style=""> jumping to another buffer or window
</div><div class="help-li" style=""> editing another file
</div><div class="help-li" style=""> closing a window or quitting Vim
</div><div class="help-li" style=""> etc.
</div></div>
<div class="old-help-para"><h2 id="vim-script-library" class="help-heading">Vim script library<span class="help-heading-tags">					<span class="help-tag"><a href="#vim-script-library">vim-script-library</a></span></h2></div>
<div class="old-help-para">Vim comes bundled with a Vim script library, that can be used by runtime,
script authors.  Currently, it only includes very few functions, but it may
grow over time.</div>
<div class="old-help-para">								<code id="dist%23vim" class="help-tag-right"><a href="#dist%23vim">dist#vim</a></code>
The functions make use of the autoloaded prefix "dist#vim".</div>
<div class="old-help-para">The following functions are available:</div>
<div class="old-help-para"><div class="help-column_heading">dist#vim#IsSafeExecutable(filetype, executable)</div></div>
<div class="old-help-para">This function takes a filetype and an executable and checks whether it is safe
to execute the given executable.  For security reasons users may not want to
have Vim execute random executables or may have forbidden to do so for
specific filetypes by setting the "&lt;filetype&gt;_exec" variable (<a href="filetype.html#plugin_exec">plugin_exec</a>).</div>
<div class="old-help-para">It returns <a href="eval.html#TRUE">TRUE</a> or <a href="eval.html#FALSE">FALSE</a> to indicate whether the plugin should run the given
executable.  It takes the following arguments:</div>
<div class="old-help-para"><div class="help-column_heading">	argument	type</div></div>
<div class="old-help-para">	filetype	string
	executable	string</div>
<div class="old-help-para"><h2 id="expr-highlight" class="help-heading">Command-line expressions highlighting<span class="help-heading-tags">		<span class="help-tag"><a href="#expr-highlight">expr-highlight</a></span></h2></div>
<div class="old-help-para">Expressions entered by the user in <a href="insert.html#i_CTRL-R_%3D">i_CTRL-R_=</a>, <a href="cmdline.html#c_CTRL-%5C_e">c_CTRL-\_e</a>, <a href="change.html#quote%3D">quote=</a> are
highlighted by the built-in expressions parser.  It uses highlight groups
described in the table below, which may be overridden by colorschemes.
							<code id="hl-NvimInvalid" class="help-tag-right"><a href="#hl-NvimInvalid">hl-NvimInvalid</a></code>
Besides the "Nvim"-prefixed highlight groups described below, there are
"NvimInvalid"-prefixed highlight groups which have the same meaning but
indicate that the token contains an error or that an error occurred just
before it.  They have mostly the same hierarchy, except that (by default) in
place of any non-Nvim-prefixed group NvimInvalid linking to <code>Error</code> is used
and some other intermediate groups are present.</div>
<div class="old-help-para"><div class="help-column_heading">Group                              Default link            Colored expression</div><code id="hl-NvimInternalError" class="help-tag"><a href="#hl-NvimInternalError">hl-NvimInternalError</a></code>               None, red/red           Parser bug</div>
<div class="old-help-para"><code id="hl-NvimAssignment" class="help-tag"><a href="#hl-NvimAssignment">hl-NvimAssignment</a></code>                  Operator                Generic assignment
<code id="hl-NvimPlainAssignment" class="help-tag"><a href="#hl-NvimPlainAssignment">hl-NvimPlainAssignment</a></code>             NvimAssignment          <code>=</code> in <a href="eval.html#%3Alet">:let</a>
<code id="hl-NvimAugmentedAssignment" class="help-tag"><a href="#hl-NvimAugmentedAssignment">hl-NvimAugmentedAssignment</a></code>         NvimAssignment          Generic, <code>+=</code>/`-=`/`.=`
<code id="hl-NvimAssignmentWithAddition" class="help-tag"><a href="#hl-NvimAssignmentWithAddition">hl-NvimAssignmentWithAddition</a></code>      NvimAugmentedAssignment <code>+=</code> in <a href="eval.html#%3Alet%2B%3D">:let+=</a>
<code id="hl-NvimAssignmentWithSubtraction" class="help-tag"><a href="#hl-NvimAssignmentWithSubtraction">hl-NvimAssignmentWithSubtraction</a></code>   NvimAugmentedAssignment <code>-=</code> in <a href="eval.html#%3Alet-%3D">:let-=</a>
<code id="hl-NvimAssignmentWithConcatenation" class="help-tag"><a href="#hl-NvimAssignmentWithConcatenation">hl-NvimAssignmentWithConcatenation</a></code> NvimAugmentedAssignment <code>.=</code> in <a href="eval.html#%3Alet.%3D">:let.=</a></div>
<div class="old-help-para"><code id="hl-NvimOperator" class="help-tag"><a href="#hl-NvimOperator">hl-NvimOperator</a></code>                    Operator                Generic operator</div>
<div class="old-help-para"><code id="hl-NvimUnaryOperator" class="help-tag"><a href="#hl-NvimUnaryOperator">hl-NvimUnaryOperator</a></code>               NvimOperator            Generic unary op
<code id="hl-NvimUnaryPlus" class="help-tag"><a href="#hl-NvimUnaryPlus">hl-NvimUnaryPlus</a></code>                   NvimUnaryOperator       <a href="eval.html#expr-unary-%2B">expr-unary-+</a>
<code id="hl-NvimUnaryMinus" class="help-tag"><a href="#hl-NvimUnaryMinus">hl-NvimUnaryMinus</a></code>                  NvimUnaryOperator       <a href="eval.html#expr-unary--">expr-unary--</a>
<code id="hl-NvimNot" class="help-tag"><a href="#hl-NvimNot">hl-NvimNot</a></code>                         NvimUnaryOperator       <a href="eval.html#expr-%21">expr-!</a></div>
<div class="old-help-para"><code id="hl-NvimBinaryOperator" class="help-tag"><a href="#hl-NvimBinaryOperator">hl-NvimBinaryOperator</a></code>              NvimOperator            Generic binary op
<code id="hl-NvimComparison" class="help-tag"><a href="#hl-NvimComparison">hl-NvimComparison</a></code>                  NvimBinaryOperator      Any <a href="eval.html#expr4">expr4</a> operator
<code id="hl-NvimComparisonModifier" class="help-tag"><a href="#hl-NvimComparisonModifier">hl-NvimComparisonModifier</a></code>          NvimComparison          <code>#</code>/`?` near <a href="eval.html#expr4">expr4</a> op
<code id="hl-NvimBinaryPlus" class="help-tag"><a href="#hl-NvimBinaryPlus">hl-NvimBinaryPlus</a></code>                  NvimBinaryOperator      <a href="eval.html#expr-%2B">expr-+</a>
<code id="hl-NvimBinaryMinus" class="help-tag"><a href="#hl-NvimBinaryMinus">hl-NvimBinaryMinus</a></code>                 NvimBinaryOperator      <a href="eval.html#expr--">expr--</a>
<code id="hl-NvimConcat" class="help-tag"><a href="#hl-NvimConcat">hl-NvimConcat</a></code>                      NvimBinaryOperator      <a href="eval.html#expr-.">expr-.</a>
<code id="hl-NvimConcatOrSubscript" class="help-tag"><a href="#hl-NvimConcatOrSubscript">hl-NvimConcatOrSubscript</a></code>           NvimConcat              <a href="eval.html#expr-.">expr-.</a> or <a href="eval.html#expr-entry">expr-entry</a>
<code id="hl-NvimOr" class="help-tag"><a href="#hl-NvimOr">hl-NvimOr</a></code>                          NvimBinaryOperator      <a href="eval.html#expr-barbar">expr-barbar</a>
<code id="hl-NvimAnd" class="help-tag"><a href="#hl-NvimAnd">hl-NvimAnd</a></code>                         NvimBinaryOperator      <a href="eval.html#expr-%26%26">expr-&amp;&amp;</a>
<code id="hl-NvimMultiplication" class="help-tag"><a href="#hl-NvimMultiplication">hl-NvimMultiplication</a></code>              NvimBinaryOperator      <a href="eval.html#expr-star">expr-star</a>
<code id="hl-NvimDivision" class="help-tag"><a href="#hl-NvimDivision">hl-NvimDivision</a></code>                    NvimBinaryOperator      <a href="eval.html#expr-%2F">expr-/</a>
<code id="hl-NvimMod" class="help-tag"><a href="#hl-NvimMod">hl-NvimMod</a></code>                         NvimBinaryOperator      <a href="eval.html#expr-%25">expr-%</a></div>
<div class="old-help-para"><code id="hl-NvimTernary" class="help-tag"><a href="#hl-NvimTernary">hl-NvimTernary</a></code>                     NvimOperator            <code>?</code> in <a href="eval.html#expr1">expr1</a>
<code id="hl-NvimTernaryColon" class="help-tag"><a href="#hl-NvimTernaryColon">hl-NvimTernaryColon</a></code>                NvimTernary             <code>:</code> in <a href="eval.html#expr1">expr1</a></div>
<div class="old-help-para"><code id="hl-NvimParenthesis" class="help-tag"><a href="#hl-NvimParenthesis">hl-NvimParenthesis</a></code>                 Delimiter               Generic bracket
<code id="hl-NvimLambda" class="help-tag"><a href="#hl-NvimLambda">hl-NvimLambda</a></code>                      NvimParenthesis         <code>{</code>/`}` in <a href="eval.html#lambda">lambda</a>
<code id="hl-NvimNestingParenthesis" class="help-tag"><a href="#hl-NvimNestingParenthesis">hl-NvimNestingParenthesis</a></code>          NvimParenthesis         <code>(</code>/`)` in <a href="eval.html#expr-nesting">expr-nesting</a>
<code id="hl-NvimCallingParenthesis" class="help-tag"><a href="#hl-NvimCallingParenthesis">hl-NvimCallingParenthesis</a></code>          NvimParenthesis         <code>(</code>/`)` in <a href="eval.html#expr-function">expr-function</a></div>
<div class="old-help-para"><code id="hl-NvimSubscript" class="help-tag"><a href="#hl-NvimSubscript">hl-NvimSubscript</a></code>                   NvimParenthesis         Generic subscript
<code id="hl-NvimSubscriptBracket" class="help-tag"><a href="#hl-NvimSubscriptBracket">hl-NvimSubscriptBracket</a></code>            NvimSubscript           <code>[</code>/`]` in <a href="eval.html#expr-%5B%5D">expr-[]</a>
<code id="hl-NvimSubscriptColon" class="help-tag"><a href="#hl-NvimSubscriptColon">hl-NvimSubscriptColon</a></code>              NvimSubscript           <code>:</code> in <a href="eval.html#expr-%5B%3A%5D">expr-[:]</a>
<code id="hl-NvimCurly" class="help-tag"><a href="#hl-NvimCurly">hl-NvimCurly</a></code>                       NvimSubscript           <code>{</code>/`}` in
                                                           <a href="eval.html#curly-braces-names">curly-braces-names</a></div>
<div class="old-help-para"><code id="hl-NvimContainer" class="help-tag"><a href="#hl-NvimContainer">hl-NvimContainer</a></code>                   NvimParenthesis         Generic container
<code id="hl-NvimDict" class="help-tag"><a href="#hl-NvimDict">hl-NvimDict</a></code>                        NvimContainer           <code>{</code>/`}` in <a href="eval.html#dict">dict</a> literal
<code id="hl-NvimList" class="help-tag"><a href="#hl-NvimList">hl-NvimList</a></code>                        NvimContainer           <code>[</code>/`]` in <a href="eval.html#list">list</a> literal</div>
<div class="old-help-para"><code id="hl-NvimIdentifier" class="help-tag"><a href="#hl-NvimIdentifier">hl-NvimIdentifier</a></code>                  Identifier              Generic identifier
<code id="hl-NvimIdentifierScope" class="help-tag"><a href="#hl-NvimIdentifierScope">hl-NvimIdentifierScope</a></code>             NvimIdentifier          Namespace: letter
                                                           before <code>:</code> in
                                                           <a href="eval.html#internal-variables">internal-variables</a>
<code id="hl-NvimIdentifierScopeDelimiter" class="help-tag"><a href="#hl-NvimIdentifierScopeDelimiter">hl-NvimIdentifierScopeDelimiter</a></code>    NvimIdentifier          <code>:</code> after namespace
                                                           letter
<code id="hl-NvimIdentifierName" class="help-tag"><a href="#hl-NvimIdentifierName">hl-NvimIdentifierName</a></code>              NvimIdentifier          Rest of the ident
<code id="hl-NvimIdentifierKey" class="help-tag"><a href="#hl-NvimIdentifierKey">hl-NvimIdentifierKey</a></code>               NvimIdentifier          Identifier after
                                                           <a href="eval.html#expr-entry">expr-entry</a></div>
<div class="old-help-para"><code id="hl-NvimColon" class="help-tag"><a href="#hl-NvimColon">hl-NvimColon</a></code>                       Delimiter               <code>:</code> in <a href="eval.html#dict">dict</a> literal
<code id="hl-NvimComma" class="help-tag"><a href="#hl-NvimComma">hl-NvimComma</a></code>                       Delimiter               <code>,</code> in <a href="eval.html#dict">dict</a> or <a href="eval.html#list">list</a>
                                                           literal or
                                                           <a href="eval.html#expr-function">expr-function</a>
<code id="hl-NvimArrow" class="help-tag"><a href="#hl-NvimArrow">hl-NvimArrow</a></code>                       Delimiter               <code>-&gt;</code> in <a href="eval.html#lambda">lambda</a></div>
<div class="old-help-para"><code id="hl-NvimRegister" class="help-tag"><a href="#hl-NvimRegister">hl-NvimRegister</a></code>                    SpecialChar             <a href="eval.html#expr-register">expr-register</a>
<code id="hl-NvimNumber" class="help-tag"><a href="#hl-NvimNumber">hl-NvimNumber</a></code>                      Number                  Non-prefix digits
                                                           in integer
                                                           <a href="eval.html#expr-number">expr-number</a>
<code id="hl-NvimNumberPrefix" class="help-tag"><a href="#hl-NvimNumberPrefix">hl-NvimNumberPrefix</a></code>                Type                    <code>0</code> for <a href="eval.html#octal-number">octal-number</a>
                                                           <code>0x</code> for <a href="eval.html#hex-number">hex-number</a>
                                                           <code>0b</code> for <a href="eval.html#binary-number">binary-number</a>
<code id="hl-NvimFloat" class="help-tag"><a href="#hl-NvimFloat">hl-NvimFloat</a></code>                       NvimNumber              Floating-point
                                                           number</div>
<div class="old-help-para"><code id="hl-NvimOptionSigil" class="help-tag"><a href="#hl-NvimOptionSigil">hl-NvimOptionSigil</a></code>                 Type                    <code>&amp;</code> in <a href="eval.html#expr-option">expr-option</a>
<code id="hl-NvimOptionScope" class="help-tag"><a href="#hl-NvimOptionScope">hl-NvimOptionScope</a></code>                 NvimIdentifierScope     Option scope if any
<code id="hl-NvimOptionScopeDelimiter" class="help-tag"><a href="#hl-NvimOptionScopeDelimiter">hl-NvimOptionScopeDelimiter</a></code>        NvimIdentifierScopeDelimiter
                                                           <code>:</code> after option scope
<code id="hl-NvimOptionName" class="help-tag"><a href="#hl-NvimOptionName">hl-NvimOptionName</a></code>                  NvimIdentifier          Option name</div>
<div class="old-help-para"><code id="hl-NvimEnvironmentSigil" class="help-tag"><a href="#hl-NvimEnvironmentSigil">hl-NvimEnvironmentSigil</a></code>            NvimOptionSigil         <code>$</code> in <a href="eval.html#expr-env">expr-env</a>
<code id="hl-NvimEnvironmentName" class="help-tag"><a href="#hl-NvimEnvironmentName">hl-NvimEnvironmentName</a></code>             NvimIdentifier          Env variable name</div>
<div class="old-help-para"><code id="hl-NvimString" class="help-tag"><a href="#hl-NvimString">hl-NvimString</a></code>                      String                  Generic string
<code id="hl-NvimStringBody" class="help-tag"><a href="#hl-NvimStringBody">hl-NvimStringBody</a></code>                  NvimString              Generic string
                                                           literal body
<code id="hl-NvimStringQuote" class="help-tag"><a href="#hl-NvimStringQuote">hl-NvimStringQuote</a></code>                 NvimString              Generic string quote
<code id="hl-NvimStringSpecial" class="help-tag"><a href="#hl-NvimStringSpecial">hl-NvimStringSpecial</a></code>               SpecialChar             Generic string
                                                           non-literal body</div>
<div class="old-help-para"><code id="hl-NvimSingleQuote" class="help-tag"><a href="#hl-NvimSingleQuote">hl-NvimSingleQuote</a></code>                 NvimStringQuote         <code>'</code> in <a href="eval.html#expr-'">expr-'</a>
<code id="hl-NvimSingleQuotedBody" class="help-tag"><a href="#hl-NvimSingleQuotedBody">hl-NvimSingleQuotedBody</a></code>            NvimStringBody          Literal part of
                                                           <a href="eval.html#expr-'">expr-'</a> string body
<code id="hl-NvimSingleQuotedQuote" class="help-tag"><a href="#hl-NvimSingleQuotedQuote">hl-NvimSingleQuotedQuote</a></code>           NvimStringSpecial       <code>''</code> inside <a href="eval.html#expr-'">expr-'</a>
                                                           string body</div>
<div class="old-help-para"><code id="hl-NvimDoubleQuote" class="help-tag"><a href="#hl-NvimDoubleQuote">hl-NvimDoubleQuote</a></code>                 NvimStringQuote         <code>"</code> in <a href="eval.html#expr-quote">expr-quote</a>
<code id="hl-NvimDoubleQuotedBody" class="help-tag"><a href="#hl-NvimDoubleQuotedBody">hl-NvimDoubleQuotedBody</a></code>            NvimStringBody          Literal part of
                                                           <a href="eval.html#expr-quote">expr-quote</a> body
<code id="hl-NvimDoubleQuotedEscape" class="help-tag"><a href="#hl-NvimDoubleQuotedEscape">hl-NvimDoubleQuotedEscape</a></code>          NvimStringSpecial       Valid <a href="eval.html#expr-quote">expr-quote</a>
                                                           escape sequence
<code id="hl-NvimDoubleQuotedUnknownEscape" class="help-tag"><a href="#hl-NvimDoubleQuotedUnknownEscape">hl-NvimDoubleQuotedUnknownEscape</a></code>   NvimInvalidValue        Unrecognized
                                                           <a href="eval.html#expr-quote">expr-quote</a> escape
                                                           sequence</div>
<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "modeline")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+eval.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/eval.html%0D+unhandled+token%3A+%60modeline%60%0DContext%3A%0D%0D%60%60%60%0D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Cexpr-quote%7C%20escape%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sequence%0A%0A%20vim%3Atw%3D78%3Ats%3D8%3Anoet%3Aft%3Dhelp%3Anorl%3A%0D%60%60%60">vim:tw=78:ts=8:noet:ft=help:norl:</a>
  </div>
      <div class="col-narrow toc">
      <div><a href="index.html">Main</a></div>
      <div><a href="vimindex.html">Commands index</a></div>
      <div><a href="quickref.html">Quick reference</a></div>
      <hr/>
  <div class="help-toc-h1"><a href="#variables">
1. Variables						</a>
</div><div class="help-toc-h1"><a href="#expression-syntax">
2. Expression syntax					</a>
</div><div class="help-toc-h1"><a href="#internal-variables">
3. Internal variable				</a>
</div><div class="help-toc-h1"><a href="#vim-function">
4. Builtin Functions				</a>
</div><div class="help-toc-h1"><a href="#user-function">
5. Defining functions					</a>
</div><div class="help-toc-h1"><a href="#curly-braces-names">
6. Curly braces names					</a>
</div><div class="help-toc-h1"><a href="#expression-commands">
7. Commands						</a>
</div><div class="help-toc-h1"><a href="#exception-handling">
8. Exception handling					</a>
</div><div class="help-toc-h1"><a href="#eval-examples">
9. Examples						</a>
</div><div class="help-toc-h1"><a href="#eval-sandbox">
The sandbox					</a>
</div><div class="help-toc-h1"><a href="#textlock">
Textlock							</a>
</div><div class="help-toc-h1"><a href="#vim-script-library">
Vim script library					</a>
</div><div class="help-toc-h1"><a href="#expr-highlight">
Command-line expressions highlighting		</a>
</div></div>
</div>
  <footer>
    <div class="container flex">
      <div class="generator-stats">
        Generated at 2024-03-24 05:22 from <code><a href="https://github.com/neovim/neovim/commit/d3e51603bc94fac68cd2c92ae7ebc90baa8471fe">d3e5160</a></code>
      </div>
      <div class="generator-stats">
      parse_errors: 0 (<a href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+eval.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/eval.html%0D%0DContext%3A%0D%0D%60%60%60%0DTODO%0D%60%60%60" target="_blank">report docs bug...</a>) | <span title="	Nvim
		  VIM REFERENCE MANUAL	  by Bram Moolenaar
				      Type &lt;a href="various.html#gO"&gt;gO&lt;/a&gt; to see the table of contents.">noise_lines: 3</span>
      </div>
    <div>

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    <script type="module">
      docsearch({
        container: '#docsearch',
        appId: 'X185E15FPG',
        apiKey: 'b5e6b2f9c636b2b471303205e59832ed',
        indexName: 'nvim',
      });
    </script>

  </footer>
  </body>
</html>
