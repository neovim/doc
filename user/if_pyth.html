  <!DOCTYPE html>
  <html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Neovim user documentation">

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
    <link rel="preconnect" href="https://X185E15FPG-dsn.algolia.net" crossorigin />

    <link href="/css/normalize.min.css" rel="stylesheet">
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="help.css" rel="stylesheet">
    <link href="/highlight/styles/neovim.min.css" rel="stylesheet">

    <script src="/highlight/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <title> If_pyth - Neovim docs</title>
  </head>
  <body>
    <header class="container">
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <a href="/" class="navbar-brand" aria-label="logo">
          <!--TODO: use <img src="â€¦.svg"> here instead. Need one that has green lettering instead of gray. -->
              <svg xmlns="http://www.w3.org/2000/svg" role="img" width="173" height="50" viewBox="0 0 742 214" aria-label="Neovim">
      <title>Neovim</title>
      <defs>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
          <stop stop-color="#16B0ED" stop-opacity=".8" offset="0%" />
          <stop stop-color="#0F59B2" stop-opacity=".837" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b">
          <stop stop-color="#7DB643" offset="0%" />
          <stop stop-color="#367533" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c">
          <stop stop-color="#88C649" stop-opacity=".8" offset="0%" />
          <stop stop-color="#439240" stop-opacity=".84" offset="100%" />
        </linearGradient>
      </defs>
      <g fill="none" fill-rule="evenodd">
        <path
          d="M.027 45.459L45.224-.173v212.171L.027 166.894V45.459z"
          fill="url(#a)"
          transform="translate(1 1)"
        />
        <path
          d="M129.337 45.89L175.152-.149l-.928 212.146-45.197-45.104.31-121.005z"
          fill="url(#b)"
          transform="matrix(-1 0 0 1 305 1)"
        />
        <path
          d="M45.194-.137L162.7 179.173l-32.882 32.881L12.25 33.141 45.194-.137z"
          fill="url(#c)"
          transform="translate(1 1)"
        />
        <path
          d="M46.234 84.032l-.063 7.063-36.28-53.563 3.36-3.422 32.983 49.922z"
          fill-opacity=".13"
          fill="#000"
        />
        <g fill="#444">
          <path
            d="M227 154V64.44h4.655c1.55 0 2.445.75 2.685 2.25l.806 13.502c4.058-5.16 8.786-9.316 14.188-12.466 5.4-3.15 11.413-4.726 18.037-4.726 4.893 0 9.205.781 12.935 2.34 3.729 1.561 6.817 3.811 9.264 6.751 2.448 2.942 4.297 6.48 5.55 10.621 1.253 4.14 1.88 8.821 1.88 14.042V154h-8.504V96.754c0-8.402-1.91-14.987-5.729-19.757-3.82-4.771-9.667-7.156-17.544-7.156-5.851 0-11.28 1.516-16.292 4.545-5.013 3.032-9.489 7.187-13.427 12.467V154H227zM350.624 63c5.066 0 9.755.868 14.069 2.605 4.312 1.738 8.052 4.268 11.219 7.592s5.638 7.412 7.419 12.264C385.11 90.313 386 95.883 386 102.17c0 1.318-.195 2.216-.588 2.696-.393.48-1.01.719-1.851.719h-64.966v1.70c0 6.708.784 12.609 2.353 17.7 1.567 5.09 3.8 9.357 6.695 12.802 2.895 3.445 6.393 6.034 10.495 7.771 4.1 1.738 8.686 2.606 13.752 2.606 4.524 0 8.446-.494 11.762-1.483 3.317-.988 6.108-2.097 8.37-3.324 2.261-1.227 4.056-2.336 5.383-3.324 1.326-.988 2.292-1.482 2.895-1.482.784 0 1.388.3 1.81.898l2.352 2.875c-1.448 1.797-3.362 3.475-5.745 5.031-2.383 1.558-5.038 2.891-7.962 3.998-2.926 1.109-6.062 1.991-9.41 2.65a52.21 52.21 0 01-10.088.989c-6.152 0-11.762-1.064-16.828-3.19-5.067-2.125-9.415-5.225-13.043-9.298-3.63-4.074-6.435-9.06-8.415-14.96C310.99 121.655 310 114.9 310 107.294c0-6.408.92-12.323 2.76-17.744 1.84-5.421 4.493-10.093 7.961-14.016 3.467-3.922 7.72-6.991 12.758-9.209C338.513 64.11 344.229 63 350.624 63zm.573 6c-4.696 0-8.904.702-12.623 2.105-3.721 1.404-6.936 3.421-9.65 6.053-2.713 2.631-4.908 5.79-6.586 9.474S319.55 94.439 319 99h60c0-4.679-.672-8.874-2.013-12.588-1.343-3.712-3.232-6.856-5.67-9.43-2.44-2.571-5.367-4.545-8.782-5.92-3.413-1.374-7.192-2.062-11.338-2.062zM435.546 63c6.526 0 12.368 1.093 17.524 3.28 5.154 2.186 9.5 5.286 13.04 9.298 3.538 4.013 6.238 8.85 8.099 14.51 1.861 5.66 2.791 11.994 2.791 19.002 0 7.008-.932 13.327-2.791 18.957-1.861 5.631-4.561 10.452-8.099 14.465-3.54 4.012-7.886 7.097-13.04 9.254-5.156 2.156-10.998 3.234-17.524 3.234-6.529 0-12.369-1.078-17.525-3.234-5.155-2.157-9.517-5.242-13.085-9.254-3.57-4.013-6.285-8.836-8.145-14.465-1.861-5.63-2.791-11.95-2.791-18.957 0-7.008.93-13.342 2.791-19.002 1.861-5.66 4.576-10.496 8.145-14.51 3.568-4.012 7.93-7.112 13.085-9.299C423.177 64.094 429.017 63 435.546 63zm-.501 86c5.341 0 10.006-.918 13.997-2.757 3.99-1.838 7.32-4.474 9.992-7.909 2.67-3.435 4.664-7.576 5.986-12.428 1.317-4.85 1.98-10.288 1.98-16.316 0-5.965-.66-11.389-1.98-16.27-1.322-4.88-3.316-9.053-5.986-12.519-2.67-3.463-6-6.13-9.992-7.999-3.991-1.867-8.657-2.802-13.997-2.802s-10.008.935-13.997 2.802c-3.991 1.87-7.322 4.536-9.992 8-2.671 3.465-4.68 7.637-6.03 12.518-1.35 4.881-2.026 10.305-2.026 16.27 0 6.026.675 11.465 2.025 16.316 1.35 4.852 3.36 8.993 6.031 12.428 2.67 3.435 6 6.07 9.992 7.91 3.99 1.838 8.656 2.756 13.997 2.756z"
            fill="currentColor"
          />
          <path
            d="M530.57 152h-20.05L474 60h18.35c1.61 0 2.967.39 4.072 1.166 1.103.778 1.865 1.763 2.283 2.959l17.722 49.138a92.762 92.762 0 012.551 8.429c.686 2.751 1.298 5.5 1.835 8.25.537-2.75 1.148-5.499 1.835-8.25a77.713 77.713 0 012.64-8.429l18.171-49.138c.417-1.196 1.164-2.181 2.238-2.96 1.074-.776 2.356-1.165 3.849-1.165H567l-36.43 92zM572 61h23v92h-23zM610 153V60.443h13.624c2.887 0 4.78 1.354 5.682 4.06l1.443 6.856a52.7 52.7 0 015.097-4.962 32.732 32.732 0 015.683-3.879 30.731 30.731 0 016.496-2.57c2.314-.632 4.855-.948 7.624-.948 5.832 0 10.63 1.579 14.39 4.736 3.758 3.157 6.57 7.352 8.434 12.585 1.444-3.068 3.248-5.698 5.413-7.894 2.165-2.194 4.541-3.984 7.127-5.367a32.848 32.848 0 018.254-3.068 39.597 39.597 0 018.796-.992c5.111 0 9.653.783 13.622 2.345 3.97 1.565 7.307 3.849 10.014 6.857 2.706 3.007 4.766 6.675 6.18 11.005C739.29 83.537 740 88.5 740 94.092V153h-22.284V94.092c0-5.894-1.294-10.329-3.878-13.306-2.587-2.977-6.376-4.465-11.368-4.465-2.286 0-4.404.391-6.358 1.172a15.189 15.189 0 00-5.144 3.383c-1.473 1.474-2.631 3.324-3.474 5.548-.842 2.225-1.263 4.781-1.263 7.668V153h-22.37V94.092c0-6.194-1.249-10.704-3.744-13.532-2.497-2.825-6.18-4.24-11.051-4.24-3.19 0-6.18.798-8.976 2.391-2.799 1.593-5.399 3.775-7.804 6.54V153H610zM572 30h23v19h-23z"
            fill="currentColor"
            fill-opacity=".8"
          />
        </g>
      </g>
    </svg>
  
          <!--<img src="https://neovim.io/logos/neovim-logo.svg" width="173" height="50" alt="Neovim" />-->
        </a>
        <div id="docsearch"></div> <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
      </div>
    </nav>
  </header>

  <div class="container golden-grid help-body">
  <div class="col-wide">
  <a name="if_pyth"></a><h1 id="if_pyth.txt"> If_pyth</h1>
  <p>
    <i>
    Nvim <code>:help</code> pages, <a href="https://github.com/neovim/neovim/blob/master/scripts/gen_help_html.lua">generated</a>
    from <a href="https://github.com/neovim/neovim/blob/master/runtime/doc/if_pyth.txt">source</a>
    using the <a href="https://github.com/neovim/tree-sitter-vimdoc">tree-sitter-vimdoc</a> parser.
    </i>
  </p>
  <hr/>
  <div class="old-help-para">The Python Interface to NVim <code id="python" class="help-tag"><a href="#python">python</a></code> <code id="Python" class="help-tag"><a href="#Python">Python</a></code></div>
<div class="old-help-para">See <a href="provider.html#provider-python">provider-python</a> for more information.</div>
<div class="old-help-para"><h2 id="python-commands" class="help-heading">Commands<span class="help-heading-tags">						<span class="help-tag"><a href="#python-commands">python-commands</a></span></h2></div>
<div class="old-help-para">					<code id="%3Apython" class="help-tag-right"><a href="#%3Apython">:python</a></code> <code id="%3Apy" class="help-tag"><a href="#%3Apy">:py</a></code> <code id="E263" class="help-tag"><a href="#E263">E263</a></code> <code id="E264" class="help-tag"><a href="#E264">E264</a></code> <code id="E887" class="help-tag"><a href="#E887">E887</a></code>
:[range]py[thon] <code>{stmt}</code>
			Execute Python statement <code>{stmt}</code>.  A simple check if
			the <code>:python</code> command is working:<pre><code class="language-vim">:python print("Hello")</code></pre>
:[range]py[thon] &lt;&lt; [trim] [<code>{endmarker}</code>]
<code>{script}</code>
<code>{endmarker}</code>
			Execute Python script <code>{script}</code>.  Useful for including
			python code in Vim scripts.  Requires Python, see
			<a href="if_pyth.html#script-here">script-here</a>.</div>
<div class="old-help-para">If [endmarker] is omitted from after the "&lt;&lt;", a dot '.' must be used after
<code>{script}</code>, like for the <a href="insert.html#%3Aappend">:append</a> and <a href="insert.html#%3Ainsert">:insert</a> commands.  Refer to
<a href="eval.html#%3Alet-heredoc">:let-heredoc</a> for more information.</div>
<div class="old-help-para">Example:<pre><code class="language-vim">function! IcecreamInitialize()
python &lt;&lt; EOF
class StrawberryIcecream:
        def __call__(self):
                print('EAT ME')
EOF
endfunction</code></pre>
To see what version of Python you have:<pre><code class="language-vim">:python print(sys.version)</code></pre>
There is no need to "import sys", it's done by default.</div>
<div class="old-help-para">							<code id="python-environment" class="help-tag-right"><a href="#python-environment">python-environment</a></code>
Environment variables set in Vim are not always available in Python.  This
depends on how Vim and Python were build.  Also see
<a href="https://docs.python.org/3/library/os.html#os.environ">https://docs.python.org/3/library/os.html#os.environ</a></div>
<div class="old-help-para"><a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+if_pyth.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/if_pyth.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0Ddepends%20on%20how%20Vim%20and%20Python%20were%20build.%20%20Also%20see%0Ahttps%3A%2F%2Fdocs.python.org%2F3%2Flibrary%2Fos.html%23os.environ%0A%0ANote%3A%20Python%20is%20very%20sensitive%20to%20indenting.%20%20Make%20sure%20the%20%22class%22%20line%20and%0A%22EOF%22%20do%20not%20have%20any%20indent.%0A%0A%09%09%09%09%09%09%09%2A%3Apydo%2A%0D%60%60%60">Note:</a> Python is very sensitive to indenting.  Make sure the "class" line and
"EOF" do not have any indent.</div>
<div class="old-help-para">							<code id="%3Apydo" class="help-tag-right"><a href="#%3Apydo">:pydo</a></code>
:[range]pydo <code>{body}</code>	Execute Python function "def _vim_pydo(line, linenr):
			<code>{body}</code>" for each line in the [range], with the
			function arguments being set to the text of each line
			in turn, without a trailing <code>&lt;EOL&gt;</code>, and the current
			line number. The function should return a string or
			None. If a string is returned, it becomes the text of
			the line in the current turn. The default for [range]
			is the whole file: "1,$".</div>
<div class="old-help-para">Examples:
<pre><code class="language-vim">:pydo return "%s\t%d" % (line[::-1], len(line))
:pydo if line: return "%4d: %s" % (linenr, line)</code></pre></div>
<div class="old-help-para">One can use <code>:pydo</code> in possible conjunction with <code>:py</code> to filter a range using
python. For example:<pre><code class="language-vim">:py3 &lt;&lt; EOF
needle = vim.eval('@a')
replacement = vim.eval('@b')
def py_vim_string_replace(str):
        return str.replace(needle, replacement)
EOF
:'&lt;,'&gt;py3do return py_vim_string_replace(line)</code></pre></div>
<div class="old-help-para">							<code id="%3Apyfile" class="help-tag-right"><a href="#%3Apyfile">:pyfile</a></code> <code id="%3Apyf" class="help-tag"><a href="#%3Apyf">:pyf</a></code>
:[range]pyf[ile] <code>{file}</code>
			Execute the Python script in <code>{file}</code>.  The whole
			argument is used as a single file name.</div>
<div class="old-help-para">Both of these commands do essentially the same thing - they execute a piece of
Python code, with the "current range" <a href="if_pyth.html#python-range">python-range</a> set to the given line
range.</div>
<div class="old-help-para">In the case of :python, the code to execute is in the command-line.
In the case of :pyfile, the code to execute is the contents of the given file.</div>
<div class="old-help-para">Python commands cannot be used in the <a href="eval.html#sandbox">sandbox</a>.</div>
<div class="old-help-para">To pass arguments you need to set sys.argv[] explicitly.  Example:<pre><code class="language-vim">:python sys.argv = ["foo", "bar"]
:pyfile myscript.py</code></pre>
Here are some examples					<code id="python-examples" class="help-tag-right"><a href="#python-examples">python-examples</a></code>
<pre><code class="language-vim">:python from vim import *
:python current.line = str.upper(current.line)
:python print("Hello")
:python str = current.buffer[42]</code></pre>
Note that changes (such as the "import" statements) persist from one command
to the next, just like the Python REPL.</div>
<div class="old-help-para">							<code id="script-here" class="help-tag-right"><a href="#script-here">script-here</a></code>
When using a script language in-line, you might want to skip this when the
language isn't supported.
<pre><code class="language-vim">if has('python')
  python &lt;&lt; EOF
    print("python works")
EOF
endif</code></pre></div>
<div class="old-help-para">Note that "EOF" must be at the start of the line without preceding white
space.</div>
<div class="old-help-para"><h2 id="python-vim" class="help-heading">The vim module<span class="help-heading-tags">							<span class="help-tag"><a href="#python-vim">python-vim</a></span></h2></div>
<div class="old-help-para">Python code gets all of its access to vim (with one exception - see
<a href="if_pyth.html#python-output">python-output</a> below) via the "vim" module.  The vim module implements two
methods, three constants, and one error object.  You need to import the vim
module before using it:<pre><code class="language-vim">:python import vim</code></pre>
Overview<pre><code class="language-vim">:py print("Hello")                # displays a message
:py vim.command(cmd)                # execute an Ex command
:py w = vim.windows[n]                # gets window "n"
:py cw = vim.current.window        # gets the current window
:py b = vim.buffers[n]                # gets buffer "n"
:py cb = vim.current.buffer        # gets the current buffer
:py w.height = lines                # sets the window height
:py w.cursor = (row, col)        # sets the window cursor position
:py pos = w.cursor                # gets a tuple (row, col)
:py name = b.name                # gets the buffer file name
:py line = b[n]                        # gets a line from the buffer
:py lines = b[n:m]                # gets a list of lines
:py num = len(b)                # gets the number of lines
:py b[n] = str                        # sets a line in the buffer
:py b[n:m] = [str1, str2, str3]        # sets a number of lines at once
:py del b[n]                        # deletes a line
:py del b[n:m]                        # deletes a number of lines</code></pre>
Methods of the "vim" module</div>
<div class="old-help-para">vim.command(str)					<code id="python-command" class="help-tag-right"><a href="#python-command">python-command</a></code>
	Executes the vim (ex-mode) command str.  Returns None.
	Examples:<pre><code class="language-vim">:py vim.command("set tw=72")
:py vim.command("%s/aaa/bbb/g")</code></pre></div>
<div class="old-help-para">	The following definition executes Normal mode commands:<pre><code class="language-python">def normal(str):
        vim.command("normal "+str)
# Note the use of single quotes to delimit a string containing
# double quotes
normal('"a2dd"aP')</code></pre>
vim.eval(str)						<code id="python-eval" class="help-tag-right"><a href="#python-eval">python-eval</a></code>
	Evaluates the expression str using the vim internal expression
	evaluator (see <a href="eval.html#expression">expression</a>).  Returns the expression result as:
<div class="help-li" style=""> a string if the Vim expression evaluates to a string or number
</div><div class="help-li" style=""> a list if the Vim expression evaluates to a Vim list
</div><div class="help-li" style=""> a dictionary if the Vim expression evaluates to a Vim dictionary
	Dictionaries and lists are recursively expanded.
	Examples:<pre><code class="language-vim">:py text_width = vim.eval("&amp;tw")
:py str = vim.eval("12+12")                # NB result is a string! Use
                                    # int() to convert to a
                                    # number.</code></pre>
vim.strwidth(str)					<code id="python-strwidth" class="help-tag-right"><a href="#python-strwidth">python-strwidth</a></code>
	Like <a href="builtin.html#strwidth()">strwidth()</a>: returns number of display cells str occupies, tab
	is counted as one cell.
</div></div>
<div class="old-help-para">vim.foreach_rtp(callable)				<code id="python-foreach_rtp" class="help-tag-right"><a href="#python-foreach_rtp">python-foreach_rtp</a></code>
	Call the given callable for each path in <a href="options.html#'runtimepath'">'runtimepath'</a> until either
	callable returns something but None, the exception is raised or there
	are no longer paths. If stopped in case callable returned non-None,
	vim.foreach_rtp function returns the value returned by callable.</div>
<div class="old-help-para"><code>vim.chdir(*args, **kwargs)</code>  				<code id="python-chdir" class="help-tag-right"><a href="#python-chdir">python-chdir</a></code>
<code>vim.fchdir(*args, **kwargs)</code>  				<code id="python-fchdir" class="help-tag-right"><a href="#python-fchdir">python-fchdir</a></code>
	Run os.chdir or os.fchdir, then all appropriate vim stuff.
<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+if_pyth.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/if_pyth.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%60vim.chdir(%2Aargs%2C%20%2A%2Akwargs)%60%09%09%09%09%2Apython-chdir%2A%0A%60vim.fchdir(%2Aargs%2C%20%2A%2Akwargs)%60%09%09%09%09%2Apython-fchdir%2A%0A%09Run%20os.chdir%20or%20os.fchdir%2C%20then%20all%20appropriate%20vim%20stuff.%0A%09Note%3A%20you%20should%20not%20use%20these%20functions%20directly%2C%20use%20os.chdir%20and%0A%09%20%20%20%20%20%20os.fchdir%20instead.%20Behavior%20of%20vim.fchdir%20is%20undefined%20in%20case%0A%09%20%20%20%20%20%20os.fchdir%20does%20not%20exist.%0A%0D%60%60%60">Note:</a> you should not use these functions directly, use os.chdir and
	      os.fchdir instead. Behavior of vim.fchdir is undefined in case
	      os.fchdir does not exist.</div>
<div class="old-help-para">Error object of the "vim" module</div>
<div class="old-help-para">vim.error						<code id="python-error" class="help-tag-right"><a href="#python-error">python-error</a></code>
	Upon encountering a Vim error, Python raises an exception of type
	vim.error.
	Example:<pre><code class="language-python">try:
        vim.command("put a")
except vim.error:
        # nothing in register a</code></pre>
Constants of the "vim" module</div>
<div class="old-help-para">	Note that these are not actually constants - you could reassign them.
	But this is silly, as you would then lose access to the vim objects
	to which the variables referred.</div>
<div class="old-help-para">vim.buffers						<code id="python-buffers" class="help-tag-right"><a href="#python-buffers">python-buffers</a></code>
	A mapping object providing access to the list of vim buffers.  The
	object supports the following operations:<pre><code class="language-vim">:py b = vim.buffers[i]        # Indexing (read-only)
:py b in vim.buffers        # Membership test
:py n = len(vim.buffers)        # Number of elements
:py for b in vim.buffers:        # Iterating over buffer list</code></pre></div>
<div class="old-help-para">vim.windows						<code id="python-windows" class="help-tag-right"><a href="#python-windows">python-windows</a></code>
	A sequence object providing access to the list of vim windows.  The
	object supports the following operations:<pre><code class="language-vim">:py w = vim.windows[i]        # Indexing (read-only)
:py w in vim.windows        # Membership test
:py n = len(vim.windows)        # Number of elements
:py for w in vim.windows:        # Sequential access</code></pre></div>
<div class="old-help-para"><a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+if_pyth.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/if_pyth.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%09%20%20%20%20%3Apy%20w%20in%20vim.windows%09%23%20Membership%20test%0A%09%20%20%20%20%3Apy%20n%20%3D%20len(vim.windows)%09%23%20Number%20of%20elements%0A%09%20%20%20%20%3Apy%20for%20w%20in%20vim.windows%3A%09%23%20Sequential%20access%0A%3C%09Note%3A%20vim.windows%20object%20always%20accesses%20current%20tab%20page.%0A%09%7Cpython-tabpage%7C.windows%20objects%20are%20bound%20to%20parent%20%7Cpython-tabpage%7C%0A%09object%20and%20always%20use%20windows%20from%20that%20tab%20page%20(or%20throw%20vim.error%0A%09in%20case%20tab%20page%20was%20deleted).%20You%20can%20keep%20a%20reference%20to%20both%0D%60%60%60">Note:</a> vim.windows object always accesses current tab page.
	<a href="if_pyth.html#python-tabpage">python-tabpage</a>.windows objects are bound to parent <a href="if_pyth.html#python-tabpage">python-tabpage</a>
	object and always use windows from that tab page (or throw vim.error
	in case tab page was deleted). You can keep a reference to both
	without keeping a reference to vim module object or <a href="if_pyth.html#python-tabpage">python-tabpage</a>,
	they will not lose their properties in this case.</div>
<div class="old-help-para">vim.tabpages						<code id="python-tabpages" class="help-tag-right"><a href="#python-tabpages">python-tabpages</a></code>
	A sequence object providing access to the list of vim tab pages. The
	object supports the following operations:<pre><code class="language-vim">:py t = vim.tabpages[i]        # Indexing (read-only)
:py t in vim.tabpages        # Membership test
:py n = len(vim.tabpages)        # Number of elements
:py for t in vim.tabpages:        # Sequential access</code></pre></div>
<div class="old-help-para">vim.current						<code id="python-current" class="help-tag-right"><a href="#python-current">python-current</a></code>
	An object providing access (via specific attributes) to various
	"current" objects available in vim:
		vim.current.line	The current line (RW)		String
		vim.current.buffer	The current buffer (RW)		Buffer
		vim.current.window	The current window (RW)		Window
		vim.current.tabpage	The current tab page (RW)	TabPage
		vim.current.range	The current line range (RO)	Range</div>
<div class="old-help-para">	The last case deserves a little explanation.  When the :python or
	:pyfile command specifies a range, this range of lines becomes the
	"current range".  A range is a bit like a buffer, but with all access
	restricted to a subset of lines.  See <a href="if_pyth.html#python-range">python-range</a> for more details.</div>
<div class="old-help-para"><a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+if_pyth.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/if_pyth.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%09%22current%20range%22.%20%20A%20range%20is%20a%20bit%20like%20a%20buffer%2C%20but%20with%20all%20access%0A%09restricted%20to%20a%20subset%20of%20lines.%20%20See%20%7Cpython-range%7C%20for%20more%20details.%0A%0A%09Note%3A%20When%20assigning%20to%20vim.current.%7Bbuffer%2Cwindow%2Ctabpage%7D%20it%20expects%0A%09valid%20%7Cpython-buffer%7C%2C%20%7Cpython-window%7C%20or%20%7Cpython-tabpage%7C%20objects%0A%09respectively.%20Assigning%20triggers%20normal%20(with%20%7Cautocommand%7Cs)%0A%09switching%20to%20given%20buffer%2C%20window%20or%20tab%20page.%20It%20is%20the%20only%20way%20to%0D%60%60%60">Note:</a> When assigning to vim.current.{buffer,window,tabpage} it expects
	valid <a href="if_pyth.html#python-buffer">python-buffer</a>, <a href="if_pyth.html#python-window">python-window</a> or <a href="if_pyth.html#python-tabpage">python-tabpage</a> objects
	respectively. Assigning triggers normal (with <a href="autocmd.html#autocommand">autocommand</a>s)
	switching to given buffer, window or tab page. It is the only way to
	switch UI objects in python: you can't assign to
	<a href="if_pyth.html#python-tabpage">python-tabpage</a>.window attribute. To switch without triggering
	autocommands use<pre><code class="language-vim">py &lt;&lt; EOF
saved_eventignore = vim.options['eventignore']
vim.options['eventignore'] = 'all'
try:
    vim.current.buffer = vim.buffers[2] # Switch to buffer 2
finally:
    vim.options['eventignore'] = saved_eventignore
EOF</code></pre></div>
<div class="old-help-para">vim.vars						<code id="python-vars" class="help-tag-right"><a href="#python-vars">python-vars</a></code>
vim.vvars						<code id="python-vvars" class="help-tag-right"><a href="#python-vvars">python-vvars</a></code>
	Dictionary-like objects holding dictionaries with global (<a href="eval.html#g%3A">g:</a>) and
	vim (<a href="eval.html#v%3A">v:</a>) variables respectively.</div>
<div class="old-help-para">vim.options						<code id="python-options" class="help-tag-right"><a href="#python-options">python-options</a></code>
	Object partly supporting mapping protocol (supports setting and
	getting items) providing a read-write access to global options.
<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+if_pyth.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/if_pyth.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0Dvim.options%09%09%09%09%09%09%2Apython-options%2A%0A%09Object%20partly%20supporting%20mapping%20protocol%20(supports%20setting%20and%0A%09getting%20items)%20providing%20a%20read-write%20access%20to%20global%20options.%0A%09Note%3A%20unlike%20%7C%3Aset%7C%20this%20provides%20access%20only%20to%20global%20options.%20You%0A%09cannot%20use%20this%20object%20to%20obtain%20or%20set%20local%20options'%20values%20or%0A%09access%20local-only%20options%20in%20any%20fashion.%20Raises%20KeyError%20if%20no%20global%0A%09option%20with%20such%20name%20exists%20(i.e.%20does%20not%20raise%20KeyError%20for%0D%60%60%60">Note:</a> unlike <a href="options.html#%3Aset">:set</a> this provides access only to global options. You
	cannot use this object to obtain or set local options' values or
	access local-only options in any fashion. Raises KeyError if no global
	option with such name exists (i.e. does not raise KeyError for
	<a href="options.html#global-local">global-local</a> options and global only options, but does for window-
	and buffer-local ones).  Use <a href="if_pyth.html#python-buffer">python-buffer</a> objects to access to
	buffer-local options and <a href="if_pyth.html#python-window">python-window</a> objects to access to
	window-local options.</div>
<div class="old-help-para">	Type of this object is available via "Options" attribute of vim
	module.</div>
<div class="old-help-para">Output from Python					<code id="python-output" class="help-tag-right"><a href="#python-output">python-output</a></code>
	Vim displays all Python code output in the Vim message area.  Normal
	output appears as information messages, and error output appears as
	error messages.</div>
<div class="old-help-para">	In implementation terms, this means that all output to sys.stdout
	(including the output from print statements) appears as information
	messages, and all output to sys.stderr (including error tracebacks)
	appears as error messages.</div>
<div class="old-help-para">							<code id="python-input" class="help-tag-right"><a href="#python-input">python-input</a></code>
	Input (via sys.stdin, including input() and raw_input()) is not
	supported, and may cause the program to crash.  This should probably be
	fixed.</div>
<div class="old-help-para">				  <code id="python3-directory" class="help-tag-right"><a href="#python3-directory">python3-directory</a></code> <code id="pythonx-directory" class="help-tag"><a href="#pythonx-directory">pythonx-directory</a></code>
Python <a href="options.html#'runtimepath'">'runtimepath'</a> handling				<code id="python-special-path" class="help-tag-right"><a href="#python-special-path">python-special-path</a></code></div>
<div class="old-help-para">In python vim.VIM_SPECIAL_PATH special directory is used as a replacement for
the list of paths found in <a href="options.html#'runtimepath'">'runtimepath'</a>: with this directory in sys.path and
vim.path_hooks in sys.path_hooks python will try to load module from
<code>{rtp}</code>/python3 and <code>{rtp}</code>/pythonx for each <code>{rtp}</code> found in <a href="options.html#'runtimepath'">'runtimepath'</a>.</div>
<div class="old-help-para">Implementation is similar to the following, but written in C:<pre><code class="language-python">from imp import find_module, load_module
import vim
import sys
class VimModuleLoader(object):
    def __init__(self, module):
        self.module = module
    def load_module(self, fullname, path=None):
        return self.module
def _find_module(fullname, oldtail, path):
    idx = oldtail.find('.')
    if idx &gt; 0:
        name = oldtail[:idx]
        tail = oldtail[idx+1:]
        fmr = find_module(name, path)
        module = load_module(fullname[:-len(oldtail)] + name, *fmr)
        return _find_module(fullname, tail, module.__path__)
    else:
        fmr = find_module(fullname, path)
        return load_module(fullname, *fmr)
# It uses vim module itself in place of VimPathFinder class: it does not
# matter for python which object has find_module function attached to as
# an attribute.
class VimPathFinder(object):
    @classmethod
    def find_module(cls, fullname, path=None):
        try:
            return VimModuleLoader(_find_module(fullname, fullname, path or vim._get_paths()))
        except ImportError:
            return None
    @classmethod
    def load_module(cls, fullname, path=None):
        return _find_module(fullname, fullname, path or vim._get_paths())
def hook(path):
    if path == vim.VIM_SPECIAL_PATH:
        return VimPathFinder
    else:
        raise ImportError
sys.path_hooks.append(hook)</code></pre>
vim.VIM_SPECIAL_PATH					<code id="python-VIM_SPECIAL_PATH" class="help-tag-right"><a href="#python-VIM_SPECIAL_PATH">python-VIM_SPECIAL_PATH</a></code>
	String constant used in conjunction with vim path hook. If path hook
	installed by vim is requested to handle anything but path equal to
	vim.VIM_SPECIAL_PATH constant it raises ImportError. In the only other
	case it uses special loader.</div>
<div class="old-help-para"><a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+if_pyth.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/if_pyth.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%09vim.VIM_SPECIAL_PATH%20constant%20it%20raises%20ImportError.%20In%20the%20only%20other%0A%09case%20it%20uses%20special%20loader.%0A%0A%09Note%3A%20you%20must%20not%20use%20value%20of%20this%20constant%20directly%2C%20always%20use%0A%09%20%20%20%20%20%20vim.VIM_SPECIAL_PATH%20object.%0A%0Avim.find_module(...)%09%09%09%09%09%2Apython-find_module%2A%0D%60%60%60">Note:</a> you must not use value of this constant directly, always use
	      vim.VIM_SPECIAL_PATH object.</div>
<div class="old-help-para">vim.find_module(...)					<code id="python-find_module" class="help-tag-right"><a href="#python-find_module">python-find_module</a></code>
vim.path_hook(path)					<code id="python-path_hook" class="help-tag-right"><a href="#python-path_hook">python-path_hook</a></code>
	Methods or objects used to implement path loading as described above.
	You should not be using any of these directly except for vim.path_hook
	in case you need to do something with sys.meta_path. It is not
	guaranteed that any of the objects will exist in the future vim
	versions.</div>
<div class="old-help-para">vim._get_paths						<code id="python-_get_paths" class="help-tag-right"><a href="#python-_get_paths">python-_get_paths</a></code>
	Methods returning a list of paths which will be searched for by path
	hook. You should not rely on this method being present in future
	versions, but can use it for debugging.</div>
<div class="old-help-para">	It returns a list of <code>{rtp}</code>/python3 and <code>{rtp}</code>/pythonx
	directories for each <code>{rtp}</code> in <a href="options.html#'runtimepath'">'runtimepath'</a>.</div>
<div class="old-help-para"><h2 id="python-buffer" class="help-heading">Buffer objects<span class="help-heading-tags">						<span class="help-tag"><a href="#python-buffer">python-buffer</a></span></h2></div>
<div class="old-help-para">Buffer objects represent vim buffers.  You can obtain them in a number of ways:
<div class="help-li" style=""> via vim.current.buffer (<a href="if_pyth.html#python-current">python-current</a>)
</div><div class="help-li" style=""> from indexing vim.buffers (<a href="if_pyth.html#python-buffers">python-buffers</a>)
</div><div class="help-li" style=""> from the "buffer" attribute of a window (<a href="if_pyth.html#python-window">python-window</a>)
</div></div>
<div class="old-help-para">Buffer objects have two read-only attributes - name - the full file name for
the buffer, and number - the buffer number.  They also have three methods
(append, mark, and range; see below).</div>
<div class="old-help-para">You can also treat buffer objects as sequence objects.  In this context, they
act as if they were lists (yes, they are mutable) of strings, with each
element being a line of the buffer.  All of the usual sequence operations,
including indexing, index assignment, slicing and slice assignment, work as
you would expect.  Note that the result of indexing (slicing) a buffer is a
string (list of strings).  This has one unusual consequence - b[:] is different
from b.  In particular, "b[:] = None" deletes the whole of the buffer, whereas
"b = None" merely updates the variable b, with no effect on the buffer.</div>
<div class="old-help-para">Buffer indexes start at zero, as is normal in Python.  This differs from vim
line numbers, which start from 1.  This is particularly relevant when dealing
with marks (see below) which use vim line numbers.</div>
<div class="old-help-para">The buffer object attributes are:
	b.vars		Dictionary-like object used to access
			<a href="eval.html#buffer-variable">buffer-variable</a>s.
	b.options	Mapping object (supports item getting, setting and
			deleting) that provides access to buffer-local options
			and buffer-local values of <a href="options.html#global-local">global-local</a> options. Use
			<a href="if_pyth.html#python-window">python-window</a>.options if option is window-local,
			this object will raise KeyError. If option is
			<a href="options.html#global-local">global-local</a> and local value is missing getting it
			will return None.
	b.name		String, RW. Contains buffer name (full path).
<a class="unknown-token" target="_blank" title="Report bug... (unhandled token "note")" href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+if_pyth.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/if_pyth.html%0D+unhandled+token%3A+%60note%60%0DContext%3A%0D%0D%60%60%60%0D%09%09%09%7Cglobal-local%7C%20and%20local%20value%20is%20missing%20getting%20it%0A%09%09%09will%20return%20None.%0A%09b.name%09%09String%2C%20RW.%20Contains%20buffer%20name%20(full%20path).%0A%09%09%09Note%3A%20when%20assigning%20to%20b.name%20%7CBufFilePre%7C%20and%0A%09%09%09%7CBufFilePost%7C%20autocommands%20are%20launched.%0A%09b.number%09Buffer%20number.%20Can%20be%20used%20as%20%7Cpython-buffers%7C%20key.%0A%09%09%09Read-only.%0D%60%60%60">Note:</a> when assigning to b.name <a href="autocmd.html#BufFilePre">BufFilePre</a> and
			<a href="autocmd.html#BufFilePost">BufFilePost</a> autocommands are launched.
	b.number	Buffer number. Can be used as <a href="if_pyth.html#python-buffers">python-buffers</a> key.
			Read-only.
	b.valid		True or False. Buffer object becomes invalid when
			corresponding buffer is wiped out.</div>
<div class="old-help-para">The buffer object methods are:
	b.append(str)	Append a line to the buffer
	b.append(str, nr)  Idem, below line "nr"
	b.append(list)	Append a list of lines to the buffer
			Note that the option of supplying a list of strings to
			the append method differs from the equivalent method
			for Python's built-in list objects.
	b.append(list, nr)  Idem, below line "nr"
	b.mark(name)	Return a tuple (row,col) representing the position
			of the named mark (can also get the []"&lt;&gt; marks)
	b.range(s,e)	Return a range object (see <a href="if_pyth.html#python-range">python-range</a>) which
			represents the part of the given buffer between line
			numbers s and e <a href="motion.html#inclusive">inclusive</a>.</div>
<div class="old-help-para">Note that when adding a line it must not contain a line break character '\n'.
A trailing '\n' is allowed and ignored, so that you can do:<pre><code class="language-vim">:py b.append(f.readlines())</code></pre>
Buffer object type is available using "Buffer" attribute of vim module.</div>
<div class="old-help-para">Examples (assume b is the current buffer)<pre><code class="language-vim">:py print(b.name)                # write the buffer file name
:py b[0] = "hello!!!"                # replace the top line
:py b[:] = None                        # delete the whole buffer
:py del b[:]                        # delete the whole buffer
:py b[0:0] = [ "a line" ]        # add a line at the top
:py del b[2]                        # delete a line (the third)
:py b.append("bottom")                # add a line at the bottom
:py n = len(b)                        # number of lines
:py (row,col) = b.mark('a')        # named mark
:py r = b.range(1,5)                # a sub-range of the buffer
:py b.vars["foo"] = "bar"        # assign b:foo variable
:py b.options["ff"] = "dos"        # set fileformat
:py del b.options["ar"]                # same as :set autoread&lt;</code></pre>
<h2 id="python-range" class="help-heading">Range objects<span class="help-heading-tags">						<span class="help-tag"><a href="#python-range">python-range</a></span></h2></div>
<div class="old-help-para">Range objects represent a part of a vim buffer.  You can obtain them in a
number of ways:
<div class="help-li" style=""> via vim.current.range (<a href="if_pyth.html#python-current">python-current</a>)
</div><div class="help-li" style=""> from a buffer's range() method (<a href="if_pyth.html#python-buffer">python-buffer</a>)
</div></div>
<div class="old-help-para">A range object is almost identical in operation to a buffer object.  However,
all operations are restricted to the lines within the range (this line range
can, of course, change as a result of slice assignments, line deletions, or
the range.append() method).</div>
<div class="old-help-para">The range object attributes are:
	r.start		Index of first line into the buffer
	r.end		Index of last line into the buffer</div>
<div class="old-help-para">The range object methods are:
	r.append(str)	Append a line to the range
	r.append(str, nr)  Idem, after line "nr"
	r.append(list)	Append a list of lines to the range
			Note that the option of supplying a list of strings to
			the append method differs from the equivalent method
			for Python's built-in list objects.
	r.append(list, nr)  Idem, after line "nr"</div>
<div class="old-help-para">Range object type is available using "Range" attribute of vim module.</div>
<div class="old-help-para">Example (assume r is the current range):
	# Send all lines in a range to the default printer
	vim.command("%d,%dhardcopy!" % (r.start+1,r.end+1))</div>
<div class="old-help-para"><h2 id="python-window" class="help-heading">Window objects<span class="help-heading-tags">						<span class="help-tag"><a href="#python-window">python-window</a></span></h2></div>
<div class="old-help-para">Window objects represent vim windows.  You can obtain them in a number of ways:
<div class="help-li" style=""> via vim.current.window (<a href="if_pyth.html#python-current">python-current</a>)
</div><div class="help-li" style=""> from indexing vim.windows (<a href="if_pyth.html#python-windows">python-windows</a>)
</div><div class="help-li" style=""> from indexing "windows" attribute of a tab page (<a href="if_pyth.html#python-tabpage">python-tabpage</a>)
</div><div class="help-li" style=""> from the "window" attribute of a tab page (<a href="if_pyth.html#python-tabpage">python-tabpage</a>)
</div></div>
<div class="old-help-para">You can manipulate window objects only through their attributes.  They have no
methods, and no sequence or other interface.</div>
<div class="old-help-para">Window attributes are:
	buffer (read-only)	The buffer displayed in this window
	cursor (read-write)	The current cursor position in the window
				This is a tuple, (row,col).
	height (read-write)	The window height, in rows
	width (read-write)	The window width, in columns
	vars (read-only)	The window <a href="eval.html#w%3A">w:</a> variables. Attribute is
				unassignable, but you can change window
				variables this way
	options (read-only)	The window-local options. Attribute is
				unassignable, but you can change window
				options this way. Provides access only to
				window-local options, for buffer-local use
				<a href="if_pyth.html#python-buffer">python-buffer</a> and for global ones use
				<a href="if_pyth.html#python-options">python-options</a>. If option is <a href="options.html#global-local">global-local</a>
				and local value is missing getting it will
				return None.
	number (read-only)	Window number.  The first window has number 1.
				This is zero in case it cannot be determined
				(e.g. when the window object belongs to other
				tab page).
	row, col (read-only)	On-screen window position in display cells.
				First position is zero.
	tabpage (read-only)	Window tab page.
	valid (read-write)	True or False. Window object becomes invalid
				when corresponding window is closed.</div>
<div class="old-help-para">The height attribute is writable only if the screen is split horizontally.
The width attribute is writable only if the screen is split vertically.</div>
<div class="old-help-para">Window object type is available using "Window" attribute of vim module.</div>
<div class="old-help-para"><h2 id="python-tabpage" class="help-heading">Tab page objects<span class="help-heading-tags">					<span class="help-tag"><a href="#python-tabpage">python-tabpage</a></span></h2></div>
<div class="old-help-para">Tab page objects represent vim tab pages. You can obtain them in a number of
ways:
<div class="help-li" style=""> via vim.current.tabpage (<a href="if_pyth.html#python-current">python-current</a>)
</div><div class="help-li" style=""> from indexing vim.tabpages (<a href="if_pyth.html#python-tabpages">python-tabpages</a>)
</div></div>
<div class="old-help-para">You can use this object to access tab page windows. They have no methods and
no sequence or other interfaces.</div>
<div class="old-help-para">Tab page attributes are:
	number		The tab page number like the one returned by
			<a href="builtin.html#tabpagenr()">tabpagenr()</a>.
	windows		Like <a href="if_pyth.html#python-windows">python-windows</a>, but for current tab page.
	vars		The tab page <a href="eval.html#t%3A">t:</a> variables.
	window		Current tabpage window.
	valid		True or False. Tab page object becomes invalid when
			corresponding tab page is closed.</div>
<div class="old-help-para">TabPage object type is available using "TabPage" attribute of vim module.</div>
<div class="old-help-para"><h2 id="python-pyeval" class="help-heading">pyeval() and py3eval() Vim functions<span class="help-heading-tags">			<span class="help-tag"><a href="#python-pyeval">python-pyeval</a></span></h2></div>
<div class="old-help-para">To facilitate bi-directional interface, you can use <a href="builtin.html#pyeval()">pyeval()</a> and <a href="builtin.html#py3eval()">py3eval()</a>
functions to evaluate Python expressions and pass their values to Vim script.
<a href="builtin.html#pyxeval()">pyxeval()</a> is also available.</div>
<div class="old-help-para"><h2 id="python3" class="help-heading">Python 3<span class="help-heading-tags">						<span class="help-tag"><a href="#python3">python3</a></span></h2></div>
<div class="old-help-para">As Python 3 is the only supported version in Nvim, "python" is synonymous
with "python3" in the current version. However, code that aims to support older
versions of Nvim, as well as Vim, should prefer to use "python3" variants
explicitly if Python 3 is required.</div>
<div class="old-help-para">							<code id="%3Apy3" class="help-tag-right"><a href="#%3Apy3">:py3</a></code> <code id="%3Apython3" class="help-tag"><a href="#%3Apython3">:python3</a></code>
:[range]py3 <code>{stmt}</code>
:[range]py3 &lt;&lt; [trim] [<code>{endmarker}</code>]
<code>{script}</code>
<code>{endmarker}</code></div>
<div class="old-help-para">:[range]python3 <code>{stmt}</code>
:[range]python3 &lt;&lt; [trim] [<code>{endmarker}</code>]
<code>{script}</code>
<code>{endmarker}</code>
	The <code>:py3</code> and <code>:python3</code> commands work similar to <code>:python</code>.  A
	simple check if the <code>:py3</code> command is working:<pre><code class="language-vim">:py3 print("Hello")</code></pre></div>
<div class="old-help-para">	To see what version of Python you have:<pre><code class="language-vim">:py3 import sys
:py3 print(sys.version)</code></pre></div>
<div class="old-help-para">							<code id="%3Apy3file" class="help-tag-right"><a href="#%3Apy3file">:py3file</a></code>
:[range]py3f[ile] <code>{file}</code>
	The <code>:py3file</code> command works similar to <code>:pyfile</code>.
							<code id="%3Apy3do" class="help-tag-right"><a href="#%3Apy3do">:py3do</a></code>
:[range]py3do <code>{body}</code>
	The <code>:py3do</code> command works similar to <code>:pydo</code>.</div>
<div class="old-help-para">							<code id="E880" class="help-tag-right"><a href="#E880">E880</a></code>
Raising SystemExit exception in python isn't endorsed way to quit vim, use:
<pre><code class="language-vim">:py vim.command("qall!")</code></pre></div>
<div class="old-help-para">							<code id="has-python" class="help-tag-right"><a href="#has-python">has-python</a></code>
You can test if Python is available with:<pre><code class="language-vim">if has('pythonx')
  echo 'there is Python'
endif
if has('python3')
  echo 'there is Python 3.x'
endif</code></pre>
Python 2 is no longer supported. Thus <code>has('python')</code> always returns
zero for backwards compatibility reasons.</div>
<div class="old-help-para"><h2 id="python_x" class="help-heading">Python X<span class="help-heading-tags">						<span class="help-tag"><a href="#python_x">python_x</a></span> <span id="pythonx" class="help-tag"><a href="#pythonx">pythonx</a></span></span></h2></div>
<div class="old-help-para">The "pythonx" and "pyx" prefixes were introduced for python code which
works with Python 2.6+ and Python 3. As Nvim only supports Python 3,
all these commands are now synonymous to their "python3" equivalents.</div>
<div class="old-help-para">							<code id="%3Apyx" class="help-tag-right"><a href="#%3Apyx">:pyx</a></code> <code id="%3Apythonx" class="help-tag"><a href="#%3Apythonx">:pythonx</a></code>
<code>:pyx</code> and <code>:pythonx</code> work the same as <code>:python3</code>.  To check if <code>:pyx</code> works:<pre><code class="language-vim">:pyx print("Hello")</code></pre>
To see what version of Python is being used:<pre><code class="language-vim">:pyx import sys
:pyx print(sys.version)</code></pre></div>
<div class="old-help-para">					<code id="%3Apyxfile" class="help-tag-right"><a href="#%3Apyxfile">:pyxfile</a></code> <code id="python_x-special-comments" class="help-tag"><a href="#python_x-special-comments">python_x-special-comments</a></code>
<code>:pyxfile</code> works the same as <code>:py3file</code>.</div>
<div class="old-help-para">							<code id="%3Apyxdo" class="help-tag-right"><a href="#%3Apyxdo">:pyxdo</a></code>
<code>:pyxdo</code> works the same as <code>:py3do</code>.</div>
<div class="old-help-para">							<code id="has-pythonx" class="help-tag-right"><a href="#has-pythonx">has-pythonx</a></code>
To check if <code>pyx*</code> functions and commands are available:<pre><code class="language-vim">if has('pythonx')
  echo 'pyx* commands are available. (Python ' .. &amp;pyx .. ')'
endif</code></pre></div>

  </div>
      <div class="col-narrow toc">
      <div><a href="index.html">Main</a></div>
      <div><a href="vimindex.html">Commands index</a></div>
      <div><a href="quickref.html">Quick reference</a></div>
      <hr/>
  <div class="help-toc-h1"><a href="#python-commands">
Commands						</a>
</div><div class="help-toc-h1"><a href="#python-vim">
The vim module							</a>
</div><div class="help-toc-h1"><a href="#python-buffer">
Buffer objects						</a>
</div><div class="help-toc-h1"><a href="#python-range">
Range objects						</a>
</div><div class="help-toc-h1"><a href="#python-window">
Window objects						</a>
</div><div class="help-toc-h1"><a href="#python-tabpage">
Tab page objects					</a>
</div><div class="help-toc-h1"><a href="#python-pyeval">
pyeval() and py3eval() Vim functions			</a>
</div><div class="help-toc-h1"><a href="#python3">
Python 3						</a>
</div><div class="help-toc-h1"><a href="#python_x">
Python X						</a>
</div></div>
</div>
  <footer>
    <div class="container flex">
      <div class="generator-stats">
        Generated at 2024-04-07 05:23 from <code><a href="https://github.com/neovim/neovim/commit/f6dcc464f220e702af63d1d58d1e2adf9b05cdf5">f6dcc46</a></code>
      </div>
      <div class="generator-stats">
      parse_errors: 0 (<a href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+if_pyth.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/if_pyth.html%0D%0DContext%3A%0D%0D%60%60%60%0DTODO%0D%60%60%60" target="_blank">report docs bug...</a>) | <span title="   Nvim
		  NVIM REFERENCE MANUAL
                                      Type &lt;a href="various.html#gO"&gt;gO&lt;/a&gt; to see the table of contents.
 vim:tw=78:ts=8:noet:ft=help:norl:">noise_lines: 4</span>
      </div>
    <div>

    <!-- algolia docsearch https://docsearch.algolia.com/docs/docsearch-v3/ -->
    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    <script type="module">
      docsearch({
        container: '#docsearch',
        appId: 'X185E15FPG',
        apiKey: 'b5e6b2f9c636b2b471303205e59832ed',
        indexName: 'nvim',
      });
    </script>

  </footer>
  </body>
</html>
