<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Neovim: src/nvim/os/job.c File Reference</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="extra.css" rel="stylesheet" type="text/css"/>
<link href="http://fonts.googleapis.com/css?family=Lato:400,700,900" rel="stylesheet">
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<header class="navbar">
  <div class="container">
    <nav class="site-nav">
      <ul>
        <li><a href="http://neovim.org/">Neovim Home</a></li>
      </ul>
    </nav>
    <a href="index.html">
      <img src="logo-devdoc.png" class="logo" alt="Neovim Dev-Doc">
    </a>
  </div>
</header>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_bc030da22f6f77ebb27ffd39b609bafa.html">nvim</a></li><li class="navelem"><a class="el" href="dir_9daee82c195cf6c569d041064f8bfb32.html">os</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">job.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;uv.h&gt;</code><br />
<code>#include &quot;<a class="el" href="uv__helpers_8h_source.html">nvim/os/uv_helpers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="job_8h_source.html">nvim/os/job.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="job__defs_8h_source.html">nvim/os/job_defs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rstream_8h_source.html">nvim/os/rstream.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rstream__defs_8h_source.html">nvim/os/rstream_defs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="wstream_8h_source.html">nvim/os/wstream.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="wstream__defs_8h_source.html">nvim/os/wstream_defs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="event_8h_source.html">nvim/os/event.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="event__defs_8h_source.html">nvim/os/event_defs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="shell_8h_source.html">nvim/os/shell.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="time_8h_source.html">nvim/os/time.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vim_8h_source.html">nvim/vim.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="memory_8h_source.html">nvim/memory.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjob.html">job</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a98c00711b9567ed2d037a5f19be4c87a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#a98c00711b9567ed2d037a5f19be4c87a">TERM_TIMEOUT</a>&#160;&#160;&#160;1000000000</td></tr>
<tr class="separator:a98c00711b9567ed2d037a5f19be4c87a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0041680469140758be68a3f08cc738e8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#a0041680469140758be68a3f08cc738e8">KILL_TIMEOUT</a>&#160;&#160;&#160;(<a class="el" href="job_8c.html#a98c00711b9567ed2d037a5f19be4c87a">TERM_TIMEOUT</a> * 2)</td></tr>
<tr class="separator:a0041680469140758be68a3f08cc738e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9ccb0584e9befe21c85be80c846f0b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#ae9ccb0584e9befe21c85be80c846f0b7">MAX_RUNNING_JOBS</a>&#160;&#160;&#160;100</td></tr>
<tr class="separator:ae9ccb0584e9befe21c85be80c846f0b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d6546bf102d75051de9be765322317"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#aa7d6546bf102d75051de9be765322317">JOB_BUFFER_SIZE</a>&#160;&#160;&#160;0xFFFF</td></tr>
<tr class="separator:aa7d6546bf102d75051de9be765322317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5e1a5e14fc9970b1f0c1e4baa806013"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#ab5e1a5e14fc9970b1f0c1e4baa806013">close_job_stream</a>(<a class="el" href="structjob.html">job</a>, stream, type)</td></tr>
<tr class="separator:ab5e1a5e14fc9970b1f0c1e4baa806013"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a529c3dc02338b9ed14ed601d25511dbe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#a529c3dc02338b9ed14ed601d25511dbe">close_job_in</a>(<a class="el" href="structjob.html">job</a>)&#160;&#160;&#160;<a class="el" href="job_8c.html#ab5e1a5e14fc9970b1f0c1e4baa806013">close_job_stream</a>(<a class="el" href="structjob.html">job</a>, in, w)</td></tr>
<tr class="separator:a529c3dc02338b9ed14ed601d25511dbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e275940ae7b652872bdf99279ec3793"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#a3e275940ae7b652872bdf99279ec3793">close_job_out</a>(<a class="el" href="structjob.html">job</a>)&#160;&#160;&#160;<a class="el" href="job_8c.html#ab5e1a5e14fc9970b1f0c1e4baa806013">close_job_stream</a>(<a class="el" href="structjob.html">job</a>, out, r)</td></tr>
<tr class="separator:a3e275940ae7b652872bdf99279ec3793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ff93c0f06a3dd9826923c7c402eb966"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#a1ff93c0f06a3dd9826923c7c402eb966">close_job_err</a>(<a class="el" href="structjob.html">job</a>)&#160;&#160;&#160;<a class="el" href="job_8c.html#ab5e1a5e14fc9970b1f0c1e4baa806013">close_job_stream</a>(<a class="el" href="structjob.html">job</a>, err, r)</td></tr>
<tr class="separator:a1ff93c0f06a3dd9826923c7c402eb966"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a921c0212672588b469066bd9362bb491"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#a921c0212672588b469066bd9362bb491">job_init</a> (void)</td></tr>
<tr class="memdesc:a921c0212672588b469066bd9362bb491"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes job control resources.  <a href="#a921c0212672588b469066bd9362bb491">More...</a><br /></td></tr>
<tr class="separator:a921c0212672588b469066bd9362bb491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdd24011633fd25458a319028c3e8710"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#afdd24011633fd25458a319028c3e8710">job_teardown</a> (void)</td></tr>
<tr class="memdesc:afdd24011633fd25458a319028c3e8710"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases job control resources and terminates running jobs.  <a href="#afdd24011633fd25458a319028c3e8710">More...</a><br /></td></tr>
<tr class="separator:afdd24011633fd25458a319028c3e8710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37d4f036daa1b8da18c4936639695d1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#a37d4f036daa1b8da18c4936639695d1c">job_start</a> (char **argv, void *data, bool writable, <a class="el" href="rstream__defs_8h.html#a1dc80c38c5f0fb22ac1d381127f1d867">rstream_cb</a> stdout_cb, <a class="el" href="rstream__defs_8h.html#a1dc80c38c5f0fb22ac1d381127f1d867">rstream_cb</a> stderr_cb, <a class="el" href="job__defs_8h.html#a2323bbf4af2900851c296e5df6a33ccc">job_exit_cb</a> <a class="el" href="job__defs_8h.html#a2323bbf4af2900851c296e5df6a33ccc">job_exit_cb</a>, size_t maxmem, int *status)</td></tr>
<tr class="separator:a37d4f036daa1b8da18c4936639695d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad800026b626609ff15bb325e9d15ea66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#ad800026b626609ff15bb325e9d15ea66">job_find</a> (int id)</td></tr>
<tr class="separator:ad800026b626609ff15bb325e9d15ea66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8af7e4fa464e20cd837ea2deef0884e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#a8af7e4fa464e20cd837ea2deef0884e3">job_stop</a> (<a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *<a class="el" href="structjob.html">job</a>)</td></tr>
<tr class="separator:a8af7e4fa464e20cd837ea2deef0884e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac913f688b5fa12827c5901f75a5725b8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#ac913f688b5fa12827c5901f75a5725b8">job_wait</a> (<a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *<a class="el" href="structjob.html">job</a>, int ms) <a class="el" href="func__attr_8h.html#af3e3213c74ef64e937451086d9127460">FUNC_ATTR_NONNULL_ALL</a></td></tr>
<tr class="separator:ac913f688b5fa12827c5901f75a5725b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78235c1fe6ab6cc021804a1172e986b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#a78235c1fe6ab6cc021804a1172e986b6">job_close_in</a> (<a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *<a class="el" href="structjob.html">job</a>) <a class="el" href="func__attr_8h.html#af3e3213c74ef64e937451086d9127460">FUNC_ATTR_NONNULL_ALL</a></td></tr>
<tr class="separator:a78235c1fe6ab6cc021804a1172e986b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9a0fd0841614315f019b17aa874b9a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#aa9a0fd0841614315f019b17aa874b9a2">job_write_cb</a> (<a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *<a class="el" href="structjob.html">job</a>, <a class="el" href="wstream__defs_8h.html#a54af4032e3b7f1b8c7b628063daa2f68">wstream_cb</a> cb) <a class="el" href="func__attr_8h.html#af3e3213c74ef64e937451086d9127460">FUNC_ATTR_NONNULL_ALL</a></td></tr>
<tr class="separator:aa9a0fd0841614315f019b17aa874b9a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa521ccffb2aa7a5eaa53848671d9509"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#afa521ccffb2aa7a5eaa53848671d9509">job_write</a> (<a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *<a class="el" href="structjob.html">job</a>, <a class="el" href="wstream__defs_8h.html#a1d10d5b56fe7b72af3c9a5fec1993701">WBuffer</a> *buffer)</td></tr>
<tr class="separator:afa521ccffb2aa7a5eaa53848671d9509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a845b1b05ffada9b0814315fd6b49e9e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#a845b1b05ffada9b0814315fd6b49e9e1">job_id</a> (<a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *<a class="el" href="structjob.html">job</a>)</td></tr>
<tr class="separator:a845b1b05ffada9b0814315fd6b49e9e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cdb7e799d14aceaccffeff3f66bc9ab"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#a7cdb7e799d14aceaccffeff3f66bc9ab">job_data</a> (<a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *<a class="el" href="structjob.html">job</a>)</td></tr>
<tr class="separator:a7cdb7e799d14aceaccffeff3f66bc9ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1cf081283c20d231151b67c36bf4b65a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="job_8c.html#a1cf081283c20d231151b67c36bf4b65a">stop_requests</a> = 0</td></tr>
<tr class="separator:a1cf081283c20d231151b67c36bf4b65a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a1ff93c0f06a3dd9826923c7c402eb966"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define close_job_err</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="structjob.html">job</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="job_8c.html#ab5e1a5e14fc9970b1f0c1e4baa806013">close_job_stream</a>(<a class="el" href="structjob.html">job</a>, err, r)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a529c3dc02338b9ed14ed601d25511dbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define close_job_in</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="structjob.html">job</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="job_8c.html#ab5e1a5e14fc9970b1f0c1e4baa806013">close_job_stream</a>(<a class="el" href="structjob.html">job</a>, in, w)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3e275940ae7b652872bdf99279ec3793"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define close_job_out</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="structjob.html">job</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="job_8c.html#ab5e1a5e14fc9970b1f0c1e4baa806013">close_job_stream</a>(<a class="el" href="structjob.html">job</a>, out, r)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab5e1a5e14fc9970b1f0c1e4baa806013"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define close_job_stream</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="structjob.html">job</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">stream, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                                     <a class="code" href="memory_8c.html#a9b7341a14434c03823fd805713b568cf">\</a></div>
<div class="line"><a class="code" href="memory_8c.html#a9b7341a14434c03823fd805713b568cf">    if</a> (<a class="code" href="structjob.html">job</a>-&gt;stream) {                                                     \</div>
<div class="line">      type##stream_free(<a class="code" href="structjob.html">job</a>-&gt;stream);                                      \</div>
<div class="line">      job-&gt;stream = NULL;                                                  <a class="code" href="memory_8c.html#a9b7341a14434c03823fd805713b568cf">\</a></div>
<div class="line"><a class="code" href="memory_8c.html#a9b7341a14434c03823fd805713b568cf">      if</a> (!uv_is_closing((uv_handle_t *)&amp;<a class="code" href="structjob.html">job</a>-&gt;proc_std##stream)) {         \</div>
<div class="line">        uv_close((uv_handle_t *)&amp;<a class="code" href="structjob.html">job</a>-&gt;proc_std##stream, close_cb);         \</div>
<div class="line">      }                                                                    \</div>
<div class="line">    }                                                                      \</div>
<div class="line">  } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="memory_8c_html_a9b7341a14434c03823fd805713b568cf"><div class="ttname"><a href="memory_8c.html#a9b7341a14434c03823fd805713b568cf">if</a></div><div class="ttdeci">if(!ret)</div><div class="ttdef"><b>Definition:</b> memory.c:108</div></div>
<div class="ttc" id="structjob_html"><div class="ttname"><a href="structjob.html">job</a></div><div class="ttdef"><b>Definition:</b> job.c:42</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa7d6546bf102d75051de9be765322317"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JOB_BUFFER_SIZE&#160;&#160;&#160;0xFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0041680469140758be68a3f08cc738e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KILL_TIMEOUT&#160;&#160;&#160;(<a class="el" href="job_8c.html#a98c00711b9567ed2d037a5f19be4c87a">TERM_TIMEOUT</a> * 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae9ccb0584e9befe21c85be80c846f0b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_RUNNING_JOBS&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a98c00711b9567ed2d037a5f19be4c87a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TERM_TIMEOUT&#160;&#160;&#160;1000000000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a78235c1fe6ab6cc021804a1172e986b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void job_close_in </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *&#160;</td>
          <td class="paramname"><em>job</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close the pipe used to write to the job.</p>
<p>This can be used for example to indicate to the job process that no more input is coming, and that it should shut down cleanly.</p>
<p>It has no effect when the input pipe doesn't exist or was already closed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">job</td><td>The job instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7cdb7e799d14aceaccffeff3f66bc9ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* job_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *&#160;</td>
          <td class="paramname"><em>job</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get data associated with a job</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">job</td><td>A pointer to the job </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The job data </dd></dl>

</div>
</div>
<a class="anchor" id="ad800026b626609ff15bb325e9d15ea66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a>* job_find </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finds a job instance by id</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The job id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Job instance </dd></dl>

</div>
</div>
<a class="anchor" id="a845b1b05ffada9b0814315fd6b49e9e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int job_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *&#160;</td>
          <td class="paramname"><em>job</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the job id</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">job</td><td>A pointer to the job </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The job id </dd></dl>

</div>
</div>
<a class="anchor" id="a921c0212672588b469066bd9362bb491"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void job_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes job control resources. </p>

</div>
</div>
<a class="anchor" id="a37d4f036daa1b8da18c4936639695d1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a>* job_start </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>writable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rstream__defs_8h.html#a1dc80c38c5f0fb22ac1d381127f1d867">rstream_cb</a>&#160;</td>
          <td class="paramname"><em>stdout_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rstream__defs_8h.html#a1dc80c38c5f0fb22ac1d381127f1d867">rstream_cb</a>&#160;</td>
          <td class="paramname"><em>stderr_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="job__defs_8h.html#a2323bbf4af2900851c296e5df6a33ccc">job_exit_cb</a>&#160;</td>
          <td class="paramname"><em>job_exit_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxmem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tries to start a new job.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">argv</td><td>Argument vector for the process. The first item is the executable to run. [consumed] </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>Caller data that will be associated with the job </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">writable</td><td>If true the job stdin will be available for writing with job_write, otherwise it will be redirected to /dev/null </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">stdout_cb</td><td>Callback that will be invoked when data is available on stdout. If NULL stdout will be redirected to /dev/null. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">stderr_cb</td><td>Callback that will be invoked when data is available on stderr. If NULL stderr will be redirected to /dev/null. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">job_exit_cb</td><td>Callback that will be invoked when the job exits </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">maxmem</td><td>Maximum amount of memory used by the job WStream </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>The job id if the job started successfully, 0 if the job table is full, -1 if the program could not be executed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The job pointer if the job started successfully, NULL otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a8af7e4fa464e20cd837ea2deef0884e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void job_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *&#160;</td>
          <td class="paramname"><em>job</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Terminates a job. This is a non-blocking operation, but if the job exists it's guaranteed to succeed(SIGKILL will eventually be sent)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">job</td><td>The Job instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afdd24011633fd25458a319028c3e8710"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void job_teardown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases job control resources and terminates running jobs. </p>

</div>
</div>
<a class="anchor" id="ac913f688b5fa12827c5901f75a5725b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int job_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *&#160;</td>
          <td class="paramname"><em>job</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>job_wait - synchronously wait for a job to finish</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">job</td><td>The job instance </td></tr>
    <tr><td class="paramname">ms</td><td>Number of milliseconds to wait, 0 for not waiting, -1 for waiting until the job quits. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns the status code of the exited job. -1 if the job is still running and the <code>timeout</code> has expired. Note that this is indistinguishable from the process returning -1 by itself. Which is possible on some OS. </dd></dl>

</div>
</div>
<a class="anchor" id="afa521ccffb2aa7a5eaa53848671d9509"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool job_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *&#160;</td>
          <td class="paramname"><em>job</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="wstream__defs_8h.html#a1d10d5b56fe7b72af3c9a5fec1993701">WBuffer</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes data to the job's stdin. This is a non-blocking operation, it returns when the write request was sent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">job</td><td>The Job instance </td></tr>
    <tr><td class="paramname">buffer</td><td>The buffer which contains the data to be written </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the write request was successfully sent, false if writing to the job stream failed (possibly because the OS buffer is full) </dd></dl>

</div>
</div>
<a class="anchor" id="aa9a0fd0841614315f019b17aa874b9a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void job_write_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="job__defs_8h.html#a4150e22449797dfc130512f171768a2b">Job</a> *&#160;</td>
          <td class="paramname"><em>job</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="wstream__defs_8h.html#a54af4032e3b7f1b8c7b628063daa2f68">wstream_cb</a>&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>All writes that complete after calling this function will be reported to <code>cb</code>.</p>
<p>Use this function to be notified about the status of an in-flight write.</p>
<dl class="section see"><dt>See also</dt><dd>{<a class="el" href="wstream_8c.html#a1b6de8d8cf1566acd6ab2fd2b69b399a">wstream_set_write_cb</a>}</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">job</td><td>The job instance </td></tr>
    <tr><td class="paramname">cb</td><td>The function that will be called on write completion or failure. It will be called with the job as the <code>data</code> argument. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a1cf081283c20d231151b67c36bf4b65a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t stop_requests = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<footer>
  <div class="container">
    Generated on Wed Dec 10 2014 09:17:58 for Neovim by
    <a href="http://www.doxygen.org/index.html">Doxygen</a>
    1.8.7
  </div>
</footer>
</body>
</html>
